/*! For license information please see main.35b0467e.js.LICENSE.txt */
!function(){var e={2532:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case f:case m:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=p,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.SuspenseList=h,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return g(e)===l},t.isContextProvider=function(e){return g(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return g(e)===f},t.isFragment=function(e){return g(e)===a},t.isLazy=function(e){return g(e)===m},t.isMemo=function(e){return g(e)===p},t.isPortal=function(e){return g(e)===i},t.isProfiler=function(e){return g(e)===s},t.isStrictMode=function(e){return g(e)===o},t.isSuspense=function(e){return g(e)===d},t.isSuspenseList=function(e){return g(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===s||e===o||e===d||e===h||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=g},7523:function(e,t,n){"use strict";e.exports=n(2532)},5254:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1588).default,o=n(3808).default,s=n(1655).default,u=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var l=n(1616),c=n(4978),f=n(8116),d=n(4220),h=["/properties"],p="http://json-schema.org/draft-07/schema",m=function(e){s(n,e);var t=u(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"_addVocabularies",value:function(){var e=this;a(o(n.prototype),"_addVocabularies",this).call(this),c.default.forEach((function(t){return e.addVocabulary(t)})),this.opts.discriminator&&this.addKeyword(f.default)}},{key:"_addDefaultMetaSchema",value:function(){if(a(o(n.prototype),"_addDefaultMetaSchema",this).call(this),this.opts.meta){var e=this.opts.$data?this.$dataMetaSchema(d,h):d;this.addMetaSchema(e,p,!1),this.refs["http://json-schema.org/schema"]=p}}},{key:"defaultMeta",value:function(){return this.opts.defaultMeta=a(o(n.prototype),"defaultMeta",this).call(this)||(this.getSchema(p)?p:void 0)}}]),n}(l.default);e.exports=t=m,Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var v=n(6114);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return v.KeywordCxt}});var g=n(7361);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return g._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return g.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return g.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return g.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return g.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return g.CodeGen}});var y=n(2055);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return y.default}});var _=n(7382);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return _.default}})},3277:function(e,t,n){"use strict";var r,i,a=n(9400).default,o=n(861).default,s=n(8416).default,u=n(1655).default,l=n(6389).default,c=n(9728).default,f=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;var d=c((function e(){f(this,e)}));t._CodeOrName=d,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var h=function(e){u(r,e);var n=l(r);function r(e){var i;if(f(this,r),i=n.call(this),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");return i.str=e,i}return c(r,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){return!1}},{key:"names",get:function(){return s({},this.str,1)}}]),r}(d);t.Name=h;var p=function(e){u(n,e);var t=l(n);function n(e){var r;return f(this,n),(r=t.call(this))._items="string"===typeof e?[e]:e,r}return c(n,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){if(this._items.length>1)return!1;var e=this._items[0];return""===e||'""'===e}},{key:"str",get:function(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce((function(e,t){return"".concat(e).concat(t)}),"")}},{key:"names",get:function(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce((function(e,t){return t instanceof h&&(e[t.str]=(e[t.str]||0)+1),e}),{})}}]),n}(d);function m(e){for(var t=[e[0]],n=0,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];for(;n<i.length;)y(t,i[n]),t.push(e[++n]);return new p(t)}t._Code=p,t.nil=new p(""),t._=m;var v=new p("+");function g(e){for(var t=[b(e[0])],n=0,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];for(;n<i.length;)t.push(v),y(t,i[n]),t.push(v,b(e[++n]));return function(e){var t=1;for(;t<e.length-1;){if(e[t]===v){var n=_(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(t),new p(t)}function y(e,t){var n;t instanceof p?e.push.apply(e,o(t._items)):t instanceof h?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:b(Array.isArray(n)?n.join(","):n))}function _(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof h||'"'!==e[e.length-1])return;return"string"!=typeof t?"".concat(e.slice(0,-1)).concat(t,'"'):'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof h?void 0:'"'.concat(e).concat(t.slice(1))}function b(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=g,t.addCodeArg=y,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:g(r||(r=a(["","",""])),e,t)},t.stringify=function(e){return new p(b(e))},t.safeStringify=b,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new p(".".concat(e)):m(i||(i=a(["[","]"])),e)},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new p("".concat(e));throw new Error("CodeGen: invalid export name: ".concat(e,", use explicit $id name mapping"))},t.regexpCode=function(e){return new p(e.toString())}},7361:function(e,t,n){"use strict";var r,i,a,o,s,u,l=n(9400).default,c=n(7424).default,f=n(1588).default,d=n(3808).default,h=n(861).default,p=n(2122).default,m=n(1655).default,v=n(6389).default,g=n(6690).default,y=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;var _=n(3277),b=n(2584),x=n(3277);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return x._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return x.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return x.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return x.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return x.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return x.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return x.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return x.Name}});var w=n(2584);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return w.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return w.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return w.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return w.varKinds}}),t.operators={GT:new _._Code(">"),GTE:new _._Code(">="),LT:new _._Code("<"),LTE:new _._Code("<="),EQ:new _._Code("==="),NEQ:new _._Code("!=="),NOT:new _._Code("!"),OR:new _._Code("||"),AND:new _._Code("&&"),ADD:new _._Code("+")};var S=function(){function e(){g(this,e)}return y(e,[{key:"optimizeNodes",value:function(){return this}},{key:"optimizeNames",value:function(e,t){return this}}]),e}(),E=function(e){m(n,e);var t=v(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).varKind=e,a.name=r,a.rhs=i,a}return y(n,[{key:"render",value:function(e){var t=e.es5,n=e._n,r=t?b.varKinds.var:this.varKind,i=void 0===this.rhs?"":" = ".concat(this.rhs);return"".concat(r," ").concat(this.name).concat(i,";")+n}},{key:"optimizeNames",value:function(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,e,t)),this}},{key:"names",get:function(){return this.rhs instanceof _._CodeOrName?this.rhs.names:{}}}]),n}(S),A=function(e){m(n,e);var t=v(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).lhs=e,a.rhs=r,a.sideEffects=i,a}return y(n,[{key:"render",value:function(e){var t=e._n;return"".concat(this.lhs," = ").concat(this.rhs,";")+t}},{key:"optimizeNames",value:function(e,t){if(!(this.lhs instanceof _.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=X(this.rhs,e,t),this}},{key:"names",get:function(){return q(this.lhs instanceof _.Name?{}:p({},this.lhs.names),this.rhs)}}]),n}(S),M=function(e){m(n,e);var t=v(n);function n(e,r,i,a){var o;return g(this,n),(o=t.call(this,e,i,a)).op=r,o}return y(n,[{key:"render",value:function(e){var t=e._n;return"".concat(this.lhs," ").concat(this.op,"= ").concat(this.rhs,";")+t}}]),n}(A),T=function(e){m(n,e);var t=v(n);function n(e){var r;return g(this,n),(r=t.call(this)).label=e,r.names={},r}return y(n,[{key:"render",value:function(e){var t=e._n;return"".concat(this.label,":")+t}}]),n}(S),k=function(e){m(n,e);var t=v(n);function n(e){var r;return g(this,n),(r=t.call(this)).label=e,r.names={},r}return y(n,[{key:"render",value:function(e){var t=e._n,n=this.label?" ".concat(this.label):"";return"break".concat(n,";")+t}}]),n}(S),C=function(e){m(n,e);var t=v(n);function n(e){var r;return g(this,n),(r=t.call(this)).error=e,r}return y(n,[{key:"render",value:function(e){var t=e._n;return"throw ".concat(this.error,";")+t}},{key:"names",get:function(){return this.error.names}}]),n}(S),P=function(e){m(n,e);var t=v(n);function n(e){var r;return g(this,n),(r=t.call(this)).code=e,r}return y(n,[{key:"render",value:function(e){var t=e._n;return"".concat(this.code,";")+t}},{key:"optimizeNodes",value:function(){return"".concat(this.code)?this:void 0}},{key:"optimizeNames",value:function(e,t){return this.code=X(this.code,e,t),this}},{key:"names",get:function(){return this.code instanceof _._CodeOrName?this.code.names:{}}}]),n}(S),R=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return g(this,n),(e=t.call(this)).nodes=r,e}return y(n,[{key:"render",value:function(e){return this.nodes.reduce((function(t,n){return t+n.render(e)}),"")}},{key:"optimizeNodes",value:function(){for(var e=this.nodes,t=e.length;t--;){var n=e[t].optimizeNodes();Array.isArray(n)?e.splice.apply(e,[t,1].concat(h(n))):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}},{key:"optimizeNames",value:function(e,t){for(var n=this.nodes,r=n.length;r--;){var i=n[r];i.optimizeNames(e,t)||(K(e,i.names),n.splice(r,1))}return n.length>0?this:void 0}},{key:"names",get:function(){return this.nodes.reduce((function(e,t){return W(e,t.names)}),{})}}]),n}(S),N=function(e){m(n,e);var t=v(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n,[{key:"render",value:function(e){return"{"+e._n+f(d(n.prototype),"render",this).call(this,e)+"}"+e._n}}]),n}(R),O=function(e){m(n,e);var t=v(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n)}(R),I=function(e){m(n,e);var t=v(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n)}(N);I.kind="else";var L=function(e){m(n,e);var t=v(n);function n(e,r){var i;return g(this,n),(i=t.call(this,r)).condition=e,i}return y(n,[{key:"render",value:function(e){var t="if(".concat(this.condition,")")+f(d(n.prototype),"render",this).call(this,e);return this.else&&(t+="else "+this.else.render(e)),t}},{key:"optimizeNodes",value:function(){f(d(n.prototype),"optimizeNodes",this).call(this);var e=this.condition;if(!0===e)return this.nodes;var t=this.else;if(t){var r=t.optimizeNodes();t=this.else=Array.isArray(r)?new I(r):r}return t?!1===e?t instanceof n?t:t.nodes:this.nodes.length?this:new n(Y(e),t instanceof n?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}},{key:"optimizeNames",value:function(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),f(d(n.prototype),"optimizeNames",this).call(this,e,t)||this.else)return this.condition=X(this.condition,e,t),this}},{key:"names",get:function(){var e=f(d(n.prototype),"names",this);return q(e,this.condition),this.else&&W(e,this.else.names),e}}]),n}(N);L.kind="if";var D=function(e){m(n,e);var t=v(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n)}(N);D.kind="for";var U=function(e){m(n,e);var t=v(n);function n(e){var r;return g(this,n),(r=t.call(this)).iteration=e,r}return y(n,[{key:"render",value:function(e){return"for(".concat(this.iteration,")")+f(d(n.prototype),"render",this).call(this,e)}},{key:"optimizeNames",value:function(e,t){if(f(d(n.prototype),"optimizeNames",this).call(this,e,t))return this.iteration=X(this.iteration,e,t),this}},{key:"names",get:function(){return W(f(d(n.prototype),"names",this),this.iteration.names)}}]),n}(D),F=function(e){m(n,e);var t=v(n);function n(e,r,i,a){var o;return g(this,n),(o=t.call(this)).varKind=e,o.name=r,o.from=i,o.to=a,o}return y(n,[{key:"render",value:function(e){var t=e.es5?b.varKinds.var:this.varKind,r=this.name,i=this.from,a=this.to;return"for(".concat(t," ").concat(r,"=").concat(i,"; ").concat(r,"<").concat(a,"; ").concat(r,"++)")+f(d(n.prototype),"render",this).call(this,e)}},{key:"names",get:function(){var e=q(f(d(n.prototype),"names",this),this.from);return q(e,this.to)}}]),n}(D),j=function(e){m(n,e);var t=v(n);function n(e,r,i,a){var o;return g(this,n),(o=t.call(this)).loop=e,o.varKind=r,o.name=i,o.iterable=a,o}return y(n,[{key:"render",value:function(e){return"for(".concat(this.varKind," ").concat(this.name," ").concat(this.loop," ").concat(this.iterable,")")+f(d(n.prototype),"render",this).call(this,e)}},{key:"optimizeNames",value:function(e,t){if(f(d(n.prototype),"optimizeNames",this).call(this,e,t))return this.iterable=X(this.iterable,e,t),this}},{key:"names",get:function(){return W(f(d(n.prototype),"names",this),this.iterable.names)}}]),n}(D),B=function(e){m(n,e);var t=v(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).name=e,a.args=r,a.async=i,a}return y(n,[{key:"render",value:function(e){var t=this.async?"async ":"";return"".concat(t,"function ").concat(this.name,"(").concat(this.args,")")+f(d(n.prototype),"render",this).call(this,e)}}]),n}(N);B.kind="func";var z=function(e){m(n,e);var t=v(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n,[{key:"render",value:function(e){return"return "+f(d(n.prototype),"render",this).call(this,e)}}]),n}(R);z.kind="return";var V=function(e){m(n,e);var t=v(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n,[{key:"render",value:function(e){var t="try"+f(d(n.prototype),"render",this).call(this,e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}},{key:"optimizeNodes",value:function(){var e,t;return f(d(n.prototype),"optimizeNodes",this).call(this),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}},{key:"optimizeNames",value:function(e,t){var r,i;return f(d(n.prototype),"optimizeNames",this).call(this,e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(i=this.finally)||void 0===i||i.optimizeNames(e,t),this}},{key:"names",get:function(){var e=f(d(n.prototype),"names",this);return this.catch&&W(e,this.catch.names),this.finally&&W(e,this.finally.names),e}}]),n}(N),H=function(e){m(n,e);var t=v(n);function n(e){var r;return g(this,n),(r=t.call(this)).error=e,r}return y(n,[{key:"render",value:function(e){return"catch(".concat(this.error,")")+f(d(n.prototype),"render",this).call(this,e)}}]),n}(N);H.kind="catch";var G=function(e){m(n,e);var t=v(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n,[{key:"render",value:function(e){return"finally"+f(d(n.prototype),"render",this).call(this,e)}}]),n}(N);G.kind="finally";var Z=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(this,e),this._values={},this._blockStarts=[],this._constants={},this.opts=p(p({},n),{},{_n:n.lines?"\n":""}),this._extScope=t,this._scope=new b.Scope({parent:t}),this._nodes=[new O]}return y(e,[{key:"toString",value:function(){return this._root.render(this.opts)}},{key:"name",value:function(e){return this._scope.name(e)}},{key:"scopeName",value:function(e){return this._extScope.name(e)}},{key:"scopeValue",value:function(e,t){var n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}},{key:"getScopeValue",value:function(e,t){return this._extScope.getValue(e,t)}},{key:"scopeRefs",value:function(e){return this._extScope.scopeRefs(e,this._values)}},{key:"scopeCode",value:function(){return this._extScope.scopeCode(this._values)}},{key:"_def",value:function(e,t,n,r){var i=this._scope.toName(t);return void 0!==n&&r&&(this._constants[i.str]=n),this._leafNode(new E(e,i,n)),i}},{key:"const",value:function(e,t,n){return this._def(b.varKinds.const,e,t,n)}},{key:"let",value:function(e,t,n){return this._def(b.varKinds.let,e,t,n)}},{key:"var",value:function(e,t,n){return this._def(b.varKinds.var,e,t,n)}},{key:"assign",value:function(e,t,n){return this._leafNode(new A(e,t,n))}},{key:"add",value:function(e,n){return this._leafNode(new M(e,t.operators.ADD,n))}},{key:"code",value:function(e){return"function"==typeof e?e():e!==_.nil&&this._leafNode(new P(e)),this}},{key:"object",value:function(){for(var e=["{"],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=c(a[i],2),s=o[0],u=o[1];e.length>1&&e.push(","),e.push(s),(s!==u||this.opts.es5)&&(e.push(":"),(0,_.addCodeArg)(e,u))}return e.push("}"),new _._Code(e)}},{key:"if",value:function(e,t,n){if(this._blockNode(new L(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}},{key:"elseIf",value:function(e){return this._elseNode(new L(e))}},{key:"else",value:function(){return this._elseNode(new I)}},{key:"endIf",value:function(){return this._endBlockNode(L,I)}},{key:"_for",value:function(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}},{key:"for",value:function(e,t){return this._for(new U(e),t)}},{key:"forRange",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.opts.es5?b.varKinds.var:b.varKinds.let,a=this._scope.toName(e);return this._for(new F(i,a,t,n),(function(){return r(a)}))}},{key:"forOf",value:function(e,t,n){var a=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.varKinds.const,s=this._scope.toName(e);if(this.opts.es5){var u=t instanceof _.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,_._)(r||(r=l(["",".length"])),u),(function(e){a.var(s,(0,_._)(i||(i=l(["","[","]"])),u,e)),n(s)}))}return this._for(new j("of",o,s,t),(function(){return n(s)}))}},{key:"forIn",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.es5?b.varKinds.var:b.varKinds.const;if(this.opts.ownProperties)return this.forOf(e,(0,_._)(a||(a=l(["Object.keys(",")"])),t),n);var i=this._scope.toName(e);return this._for(new j("in",r,i,t),(function(){return n(i)}))}},{key:"endFor",value:function(){return this._endBlockNode(D)}},{key:"label",value:function(e){return this._leafNode(new T(e))}},{key:"break",value:function(e){return this._leafNode(new k(e))}},{key:"return",value:function(e){var t=new z;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(z)}},{key:"try",value:function(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');var r=new V;if(this._blockNode(r),this.code(e),t){var i=this.name("e");this._currNode=r.catch=new H(i),t(i)}return n&&(this._currNode=r.finally=new G,this.code(n)),this._endBlockNode(H,G)}},{key:"throw",value:function(e){return this._leafNode(new C(e))}},{key:"block",value:function(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}},{key:"endBlock",value:function(e){var t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");var n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error("CodeGen: wrong number of nodes: ".concat(n," vs ").concat(e," expected"));return this._nodes.length=t,this}},{key:"func",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.nil,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return this._blockNode(new B(e,t,n)),r&&this.code(r).endFunc(),this}},{key:"endFunc",value:function(){return this._endBlockNode(B)}},{key:"optimize",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}},{key:"_leafNode",value:function(e){return this._currNode.nodes.push(e),this}},{key:"_blockNode",value:function(e){this._currNode.nodes.push(e),this._nodes.push(e)}},{key:"_endBlockNode",value:function(e,t){var n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error('CodeGen: not in block "'.concat(t?"".concat(e.kind,"/").concat(t.kind):e.kind,'"'))}},{key:"_elseNode",value:function(e){var t=this._currNode;if(!(t instanceof L))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}},{key:"_root",get:function(){return this._nodes[0]}},{key:"_currNode",get:function(){var e=this._nodes;return e[e.length-1]},set:function(e){var t=this._nodes;t[t.length-1]=e}}]),e}();function W(e,t){for(var n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function q(e,t){return t instanceof _._CodeOrName?W(e,t.names):e}function X(e,t,n){return e instanceof _.Name?i(e):(r=e)instanceof _._Code&&r._items.some((function(e){return e instanceof _.Name&&1===t[e.str]&&void 0!==n[e.str]}))?new _._Code(e._items.reduce((function(e,t){return t instanceof _.Name&&(t=i(t)),t instanceof _._Code?e.push.apply(e,h(t._items)):e.push(t),e}),[])):e;var r;function i(e){var r=n[e.str];return void 0===r||1!==t[e.str]?e:(delete t[e.str],r)}}function K(e,t){for(var n in t)e[n]=(e[n]||0)-(t[n]||0)}function Y(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:(0,_._)(o||(o=l(["!",""])),ee(e))}t.CodeGen=Z,t.not=Y;var Q=$(t.operators.AND);t.and=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Q)};var J=$(t.operators.OR);function $(e){return function(t,n){return t===_.nil?n:n===_.nil?t:(0,_._)(s||(s=l([""," "," ",""])),ee(t),e,ee(n))}}function ee(e){return e instanceof _.Name?e:(0,_._)(u||(u=l(["(",")"])),e)}t.or=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(J)}},2584:function(e,t,n){"use strict";var r,i,a,o,s,u=n(2122).default,l=n(9400).default,c=n(9728).default,f=n(6690).default,d=n(1655).default,h=n(6389).default,p=n(3496).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;var m,v=n(3277),g=function(e){d(n,e);var t=h(n);function n(e){var r;return f(this,n),(r=t.call(this,'CodeGen: "code" for '.concat(e," not defined"))).value=e.value,r}return c(n)}(p(Error));!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(m=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new v.Name("const"),let:new v.Name("let"),var:new v.Name("var")};var y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefixes,r=t.parent;f(this,e),this._names={},this._prefixes=n,this._parent=r}return c(e,[{key:"toName",value:function(e){return e instanceof v.Name?e:this.name(e)}},{key:"name",value:function(e){return new v.Name(this._newName(e))}},{key:"_newName",value:function(e){var t=this._names[e]||this._nameGroup(e);return"".concat(e).concat(t.index++)}},{key:"_nameGroup",value:function(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error('CodeGen: prefix "'.concat(e,'" is not allowed in this scope'));return this._names[e]={prefix:e,index:0}}}]),e}();t.Scope=y;var _=function(e){d(n,e);var t=h(n);function n(e,r){var i;return f(this,n),(i=t.call(this,r)).prefix=e,i}return c(n,[{key:"setValue",value:function(e,t){var n=t.property,i=t.itemIndex;this.value=e,this.scopePath=(0,v._)(r||(r=l([".","[","]"])),new v.Name(n),i)}}]),n}(v.Name);t.ValueScopeName=_;var b=(0,v._)(i||(i=l(["\n"],["\\n"]))),x=function(e){d(r,e);var n=h(r);function r(e){var t;return f(this,r),(t=n.call(this,e))._values={},t._scope=e.scope,t.opts=u(u({},e),{},{_n:e.lines?b:v.nil}),t}return c(r,[{key:"get",value:function(){return this._scope}},{key:"name",value:function(e){return new _(e,this._newName(e))}},{key:"value",value:function(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");var r=this.toName(e),i=r.prefix,a=null!==(n=t.key)&&void 0!==n?n:t.ref,o=this._values[i];if(o){var s=o.get(a);if(s)return s}else o=this._values[i]=new Map;o.set(a,r);var u=this._scope[i]||(this._scope[i]=[]),l=u.length;return u[l]=t.ref,r.setValue(t,{property:i,itemIndex:l}),r}},{key:"getValue",value:function(e,t){var n=this._values[e];if(n)return n.get(t)}},{key:"scopeRefs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._values;return this._reduceValues(t,(function(t){if(void 0===t.scopePath)throw new Error('CodeGen: name "'.concat(t,'" has no value'));return(0,v._)(a||(a=l(["","",""])),e,t.scopePath)}))}},{key:"scopeCode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._values,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this._reduceValues(e,(function(e){if(void 0===e.value)throw new Error('CodeGen: name "'.concat(e,'" has no value'));return e.value.code}),t,n)}},{key:"_reduceValues",value:function(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,u=v.nil,c=function(){var c=e[f];if(!c)return 1;var d=i[f]=i[f]||new Map;c.forEach((function(e){if(!d.has(e)){d.set(e,m.Started);var i=n(e);if(i){var c=r.opts.es5?t.varKinds.var:t.varKinds.const;u=(0,v._)(o||(o=l(["",""," "," = ",";",""])),u,c,e,i,r.opts._n)}else{if(!(i=null===a||void 0===a?void 0:a(e)))throw new g(e);u=(0,v._)(s||(s=l(["","","",""])),u,i,r.opts._n)}d.set(e,m.Completed)}}))};for(var f in e)c();return u}}]),r}(y);t.ValueScope=x},6927:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m,v,g,y,_,b,x,w,S,E,A,M,T,k=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;var C=n(7361),P=n(5274),R=n(6205);function N(e,t){var n=e.const("err",t);e.if((0,C._)(v||(v=k([""," === null"])),R.default.vErrors),(function(){return e.assign(R.default.vErrors,(0,C._)(g||(g=k(["[","]"])),n))}),(0,C._)(y||(y=k(["",".push(",")"])),R.default.vErrors,n)),e.code((0,C._)(_||(_=k(["","++"])),R.default.errors))}function O(e,t){var n=e.gen,r=e.validateName;e.schemaEnv.$async?n.throw((0,C._)(b||(b=k(["new ","(",")"])),e.ValidationError,t)):(n.assign((0,C._)(x||(x=k(["",".errors"])),r),t),n.return(!1))}t.keywordError={message:function(e){var t=e.keyword;return(0,C.str)(r||(r=k(['must pass "','" keyword validation'])),t)}},t.keyword$DataError={message:function(e){var t=e.keyword,n=e.schemaType;return n?(0,C.str)(i||(i=k(['"','" keyword must be '," ($data)"])),t,n):(0,C.str)(a||(a=k(['"','" keyword is invalid ($data)'])),t)}},t.reportError=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keywordError,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=e.it,s=a.gen,u=a.compositeRule,l=a.allErrors,c=L(e,n,r);(null!==i&&void 0!==i?i:u||l)?N(s,c):O(a,(0,C._)(o||(o=k(["[","]"])),c))},t.reportExtraError=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keywordError,r=arguments.length>2?arguments[2]:void 0,i=e.it,a=i.gen,o=i.compositeRule,s=i.allErrors;N(a,L(e,n,r)),o||s||O(i,R.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(R.default.errors,t),e.if((0,C._)(s||(s=k([""," !== null"])),R.default.vErrors),(function(){return e.if(t,(function(){return e.assign((0,C._)(u||(u=k(["",".length"])),R.default.vErrors),t)}),(function(){return e.assign(R.default.vErrors,null)}))}))},t.extendErrors=function(e){var t=e.gen,n=e.keyword,r=e.schemaValue,i=e.data,a=e.errsCount,o=e.it;if(void 0===a)throw new Error("ajv implementation error");var s=t.name("err");t.forRange("i",a,R.default.errors,(function(e){t.const(s,(0,C._)(l||(l=k(["","[","]"])),R.default.vErrors,e)),t.if((0,C._)(c||(c=k(["",".instancePath === undefined"])),s),(function(){return t.assign((0,C._)(f||(f=k(["",".instancePath"])),s),(0,C.strConcat)(R.default.instancePath,o.errorPath))})),t.assign((0,C._)(d||(d=k(["",".schemaPath"])),s),(0,C.str)(h||(h=k(["","/",""])),o.errSchemaPath,n)),o.opts.verbose&&(t.assign((0,C._)(p||(p=k(["",".schema"])),s),r),t.assign((0,C._)(m||(m=k(["",".data"])),s),i))}))};var I={keyword:new C.Name("keyword"),schemaPath:new C.Name("schemaPath"),params:new C.Name("params"),propertyName:new C.Name("propertyName"),message:new C.Name("message"),schema:new C.Name("schema"),parentSchema:new C.Name("parentSchema")};function L(e,t,n){return!1===e.it.createErrors?(0,C._)(w||(w=k(["{}"]))):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.gen,i=e.it,a=[D(i,n),U(e,n)];return function(e,t,n){var r=t.params,i=t.message,a=e.keyword,o=e.data,s=e.schemaValue,u=e.it,l=u.opts,c=u.propertyName,f=u.topSchemaRef,d=u.schemaPath;n.push([I.keyword,a],[I.params,"function"==typeof r?r(e):r||(0,C._)(M||(M=k(["{}"])))]),l.messages&&n.push([I.message,"function"==typeof i?i(e):i]);l.verbose&&n.push([I.schema,s],[I.parentSchema,(0,C._)(T||(T=k(["","",""])),f,d)],[R.default.data,o]);c&&n.push([I.propertyName,c])}(e,t,a),r.object.apply(r,a)}(e,t,n)}function D(e,t){var n=e.errorPath,r=t.instancePath,i=r?(0,C.str)(S||(S=k(["","",""])),n,(0,P.getErrorPath)(r,P.Type.Str)):n;return[R.default.instancePath,(0,C.strConcat)(R.default.instancePath,i)]}function U(e,t){var n=e.keyword,r=e.it.errSchemaPath,i=t.schemaPath,a=t.parentSchema?r:(0,C.str)(E||(E=k(["","/",""])),r,n);return i&&(a=(0,C.str)(A||(A=k(["","",""])),a,(0,P.getErrorPath)(i,P.Type.Str))),[I.schemaPath,a]}},2859:function(e,t,n){"use strict";var r,i,a=n(4704).default,o=n(9400).default,s=n(9728).default,u=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;var l=n(7361),c=n(2055),f=n(6205),d=n(6839),h=n(5274),p=n(6114),m=s((function e(t){var n,r;u(this,e),this.refs={},this.dynamicAnchors={},"object"==typeof t.schema&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=null!==(n=t.baseId)&&void 0!==n?n:(0,d.normalizeId)(null===r||void 0===r?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=null===r||void 0===r?void 0:r.$async,this.refs={}}));function v(e){var t=y.call(this,e);if(t)return t;var n,a=(0,d.getFullPath)(this.opts.uriResolver,e.root.baseId),s=this.opts.code,u=s.es5,h=s.lines,m=this.opts.ownProperties,v=new l.CodeGen(this.scope,{es5:u,lines:h,ownProperties:m});e.$async&&(n=v.scopeValue("Error",{ref:c.default,code:(0,l._)(r||(r=o(['require("ajv/dist/runtime/validation_error").default'])))}));var g=v.scopeName("validate");e.validateName=g;var _,b={gen:v,allErrors:this.opts.allErrors,data:f.default.data,parentData:f.default.parentData,parentDataProperty:f.default.parentDataProperty,dataNames:[f.default.data],dataPathArr:[l.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:v.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,l.stringify)(e.schema)}:{ref:e.schema}),validateName:g,ValidationError:n,schema:e.schema,schemaEnv:e,rootId:a,baseId:e.baseId||a,schemaPath:l.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,l._)(i||(i=o(['""']))),opts:this.opts,self:this};try{this._compilations.add(e),(0,p.validateFunctionCode)(b),v.optimize(this.opts.code.optimize);var x=v.toString();_="".concat(v.scopeRefs(f.default.scope),"return ").concat(x),this.opts.code.process&&(_=this.opts.code.process(_,e));var w=new Function("".concat(f.default.self),"".concat(f.default.scope),_)(this,this.scope.get());if(this.scope.value(g,{ref:w}),w.errors=null,w.schema=e.schema,w.schemaEnv=e,e.$async&&(w.$async=!0),!0===this.opts.code.source&&(w.source={validateName:g,validateCode:x,scopeValues:v._values}),this.opts.unevaluated){var S=b.props,E=b.items;w.evaluated={props:S instanceof l.Name?void 0:S,items:E instanceof l.Name?void 0:E,dynamicProps:S instanceof l.Name,dynamicItems:E instanceof l.Name},w.source&&(w.source.evaluated=(0,l.stringify)(w.evaluated))}return e.validate=w,e}catch(A){throw delete e.validate,delete e.validateName,_&&this.logger.error("Error compiling schema, function code:",_),A}finally{this._compilations.delete(e)}}function g(e){return(0,d.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:v.call(this,e)}function y(e){var t,n,r,i=a(this._compilations);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(r=e,(n=o).schema===r.schema&&n.root===r.root&&n.baseId===r.baseId)return o}}catch(s){i.e(s)}finally{i.f()}}function _(e,t){for(var n;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||b.call(this,e,t)}function b(e,t){var n=this.opts.uriResolver.parse(t),r=(0,d._getFullPath)(this.opts.uriResolver,n),i=(0,d.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return w.call(this,n,e);var a=(0,d.normalizeId)(r),o=this.refs[a]||this.schemas[a];if("string"==typeof o){var s=b.call(this,e,o);if("object"!==typeof(null===s||void 0===s?void 0:s.schema))return;return w.call(this,n,s)}if("object"===typeof(null===o||void 0===o?void 0:o.schema)){if(o.validate||v.call(this,o),a===(0,d.normalizeId)(t)){var u=o.schema,l=this.opts.schemaId,c=u[l];return c&&(i=(0,d.resolveUrl)(this.opts.uriResolver,i,c)),new m({schema:u,schemaId:l,root:e,baseId:i})}return w.call(this,n,o)}}t.SchemaEnv=m,t.compileSchema=v,t.resolveRef=function(e,t,n){var r;n=(0,d.resolveUrl)(this.opts.uriResolver,t,n);var i=e.refs[n];if(i)return i;var a=_.call(this,e,n);if(void 0===a){var o=null===(r=e.localRefs)||void 0===r?void 0:r[n],s=this.opts.schemaId;o&&(a=new m({schema:o,schemaId:s,root:e,baseId:t}))}return void 0!==a?e.refs[n]=g.call(this,a):void 0},t.getCompilingSchema=y,t.resolveSchema=b;var x=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function w(e,t){var n,r=t.baseId,i=t.schema,o=t.root;if("/"===(null===(n=e.fragment)||void 0===n?void 0:n[0])){var s,u,l=a(e.fragment.slice(1).split("/"));try{for(l.s();!(s=l.n()).done;){var c=s.value;if("boolean"===typeof i)return;var f=i[(0,h.unescapeFragment)(c)];if(void 0===f)return;var p="object"===typeof(i=f)&&i[this.opts.schemaId];!x.has(c)&&p&&(r=(0,d.resolveUrl)(this.opts.uriResolver,r,p))}}catch(y){l.e(y)}finally{l.f()}if("boolean"!=typeof i&&i.$ref&&!(0,h.schemaHasRulesButRef)(i,this.RULES)){var v=(0,d.resolveUrl)(this.opts.uriResolver,r,i.$ref);u=b.call(this,o,v)}var g=this.opts.schemaId;return(u=u||new m({schema:i,schemaId:g,root:o,baseId:r})).schema!==u.root.schema?u:void 0}}},6205:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7361),i={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};t.default=i},7382:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default,a=n(1655).default,o=n(6389).default,s=n(3496).default;Object.defineProperty(t,"__esModule",{value:!0});var u=n(6839),l=function(e){a(n,e);var t=o(n);function n(e,r,a,o){var s;return i(this,n),(s=t.call(this,o||"can't resolve reference ".concat(a," from id ").concat(r))).missingRef=(0,u.resolveUrl)(e,r,a),s.missingSchema=(0,u.normalizeId)((0,u.getFullPath)(e,s.missingRef)),s}return r(n)}(s(Error));t.default=l},6839:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;var r=n(5274),i=n(8262),a=n(6740),o=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"boolean"==typeof e||(!0===t?!u(e):!!t&&l(e)<=t)};var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(e){for(var t in e){if(s.has(t))return!0;var n=e[t];if(Array.isArray(n)&&n.some(u))return!0;if("object"==typeof n&&u(n))return!0}return!1}function l(e){var t=0;for(var n in e){if("$ref"===n)return 1/0;if(t++,!o.has(n)&&("object"==typeof e[n]&&(0,r.eachItem)(e[n],(function(e){return t+=l(e)})),t===1/0))return 1/0}return t}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!1!==(arguments.length>2?arguments[2]:void 0)&&(t=h(t));var n=e.parse(t);return f(e,n)}function f(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=c,t._getFullPath=f;var d=/#\/?$/;function h(e){return e?e.replace(d,""):""}t.normalizeId=h,t.resolveUrl=function(e,t,n){return n=h(n),e.resolve(t,n)};var p=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){var n=this;if("boolean"==typeof e)return{};var r=this.opts,o=r.schemaId,s=r.uriResolver,u=h(e[o]||t),l={"":u},f=c(s,u,!1),d={},m=new Set;return a(e,{allKeys:!0},(function(e,t,r,i){if(void 0!==i){var a=f+t,s=l[i];"string"==typeof e[o]&&(s=u.call(n,e[o])),c.call(n,e.$anchor),c.call(n,e.$dynamicAnchor),l[t]=s}function u(t){var n=this.opts.uriResolver.resolve;if(t=h(s?n(s,t):t),m.has(t))throw g(t);m.add(t);var r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?v(e,r.schema,t):t!==h(a)&&("#"===t[0]?(v(e,d[t],t),d[t]=e):this.refs[t]=a),t}function c(e){if("string"==typeof e){if(!p.test(e))throw new Error('invalid anchor "'.concat(e,'"'));u.call(this,"#".concat(e))}}})),d;function v(e,t,n){if(void 0!==t&&!i(e,t))throw g(n)}function g(e){return new Error('reference "'.concat(e,'" resolves to more than one schema'))}}},5379:function(e,t,n){"use strict";var r=n(2122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;var i=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&i.has(e)},t.getRules=function(){var e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:r(r({},e),{},{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},5274:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m,v,g,y,_,b,x=n(2122).default,w=n(9400).default,S=n(4704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;var E=n(7361),A=n(3277);function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema,n=e.opts,r=e.self;if(n.strictSchema&&"boolean"!==typeof t){var i=r.RULES.keywords;for(var a in t)i[a]||L(e,'unknown keyword: "'.concat(a,'"'))}}function T(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0;return!1}function k(e){return"number"==typeof e?"".concat(e):e.replace(/~/g,"~0").replace(/\//g,"~1")}function C(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function P(e){var t=e.mergeNames,n=e.mergeToName,r=e.mergeValues,i=e.resultToName;return function(e,a,o,s){var u=void 0===o?a:o instanceof E.Name?(a instanceof E.Name?t(e,a,o):n(e,a,o),o):a instanceof E.Name?(n(e,o,a),a):r(a,o);return s!==E.Name||u instanceof E.Name?u:i(e,u)}}function R(e,t){if(!0===t)return e.var("props",!0);var n=e.var("props",(0,E._)(m||(m=w(["{}"]))));return void 0!==t&&N(e,n,t),n}function N(e,t,n){Object.keys(n).forEach((function(n){return e.assign((0,E._)(v||(v=w(["","",""])),t,(0,E.getProperty)(n)),!0)}))}t.toHash=function(e){var t,n={},r=S(e);try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(M(e,t),!T(t,e.self.RULES.all))},t.checkUnknownRules=M,t.schemaHasRules=T,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function(e,t,n,a){var o=e.topSchemaRef,s=e.schemaPath;if(!a){if("number"==typeof t||"boolean"==typeof t)return t;if("string"==typeof t)return(0,E._)(r||(r=w(["",""])),t)}return(0,E._)(i||(i=w(["","","",""])),o,s,(0,E.getProperty)(n))},t.unescapeFragment=function(e){return C(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(k(e))},t.escapeJsonPointer=k,t.unescapeJsonPointer=C,t.eachItem=function(e,t){if(Array.isArray(e)){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){t(n.value)}}catch(i){r.e(i)}finally{r.f()}}else t(e)},t.mergeEvaluated={props:P({mergeNames:function(e,t,n){return e.if((0,E._)(a||(a=w([""," !== true && "," !== undefined"])),n,t),(function(){e.if((0,E._)(o||(o=w([""," === true"])),t),(function(){return e.assign(n,!0)}),(function(){return e.assign(n,(0,E._)(s||(s=w([""," || {}"])),n)).code((0,E._)(u||(u=w(["Object.assign(",", ",")"])),n,t))}))}))},mergeToName:function(e,t,n){return e.if((0,E._)(l||(l=w([""," !== true"])),n),(function(){!0===t?e.assign(n,!0):(e.assign(n,(0,E._)(c||(c=w([""," || {}"])),n)),N(e,n,t))}))},mergeValues:function(e,t){return!0===e||x(x({},e),t)},resultToName:R}),items:P({mergeNames:function(e,t,n){return e.if((0,E._)(f||(f=w([""," !== true && "," !== undefined"])),n,t),(function(){return e.assign(n,(0,E._)(d||(d=w([""," === true ? true : "," > "," ? "," : ",""])),t,n,t,n,t))}))},mergeToName:function(e,t,n){return e.if((0,E._)(h||(h=w([""," !== true"])),n),(function(){return e.assign(n,!0===t||(0,E._)(p||(p=w([""," > "," ? "," : ",""])),n,t,n,t))}))},mergeValues:function(e,t){return!0===e||Math.max(e,t)},resultToName:function(e,t){return e.var("items",t)}})},t.evaluatedPropsToName=R,t.setEvaluated=N;var O,I={};function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.opts.strictSchema;if(n){if(t="strict mode: ".concat(t),!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:I[t.code]||(I[t.code]=new A._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(O=t.Type||(t.Type={})),t.getErrorPath=function(e,t,n){if(e instanceof E.Name){var r=t===O.Num;return n?r?(0,E._)(g||(g=w(['"[" + ',' + "]"'])),e):(0,E._)(y||(y=w(['"[\'" + ',' + "\']"'])),e):r?(0,E._)(_||(_=w(['"/" + ',""])),e):(0,E._)(b||(b=w(['"/" + ','.replace(/~/g, "~0").replace(/\\//g, "~1")'],['"/" + ','.replace(/~/g, "~0").replace(/\\\\//g, "~1")'])),e)}return n?(0,E.getProperty)(e).toString():"/"+k(e)},t.checkStrictMode=L},6702:function(e,t){"use strict";function n(e,t){return t.rules.some((function(t){return r(e,t)}))}function r(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((function(t){return void 0!==e[t]})))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function(e,t){var r=e.schema,i=e.self.RULES.types[t];return i&&!0!==i&&n(r,i)},t.shouldUseGroup=n,t.shouldUseRule=r},3934:function(e,t,n){"use strict";var r,i=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;var a=n(6927),o=n(7361),s=n(6205),u={message:"boolean schema is false"};function l(e,t){var n={gen:e.gen,keyword:"false schema",data:e.data,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,a.reportError)(n,u,void 0,t)}t.topBoolOrEmptySchema=function(e){var t=e.gen,n=e.schema,a=e.validateName;!1===n?l(e,!1):"object"==typeof n&&!0===n.$async?t.return(s.default.data):(t.assign((0,o._)(r||(r=i(["",".errors"])),a),null),t.return(!0))},t.boolOrEmptySchema=function(e,t){var n=e.gen;!1===e.schema?(n.var(t,!1),l(e)):n.var(t,!0)}},9688:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m,v,g,y,_,b,x,w,S,E,A,M,T,k,C,P,R,N,O,I,L,D=n(4704).default,U=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;var F,j=n(5379),B=n(6702),z=n(6927),V=n(7361),H=n(5274);function G(e){var t=Array.isArray(e)?e:e?[e]:[];if(t.every(j.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(F=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){var t=G(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=G,t.coerceAndCheckDataType=function(e,t){var n=e.gen,A=e.data,M=e.opts,T=function(e,t){return t?e.filter((function(e){return Z.has(e)||"array"===t&&"array"===e})):[]}(t,M.coerceTypes),k=t.length>0&&!(0===T.length&&1===t.length&&(0,B.schemaHasRulesForType)(e,t[0]));if(k){var C=q(t,A,M.strictNumbers,F.Wrong);n.if(C,(function(){T.length?function(e,t,n){var A=e.gen,M=e.data,T=e.opts,k=A.let("dataType",(0,V._)(r||(r=U(["typeof ",""])),M)),C=A.let("coerced",(0,V._)(i||(i=U(["undefined"]))));"array"===T.coerceTypes&&A.if((0,V._)(a||(a=U([""," == 'object' && Array.isArray(",") && ",".length == 1"])),k,M,M),(function(){return A.assign(M,(0,V._)(o||(o=U(["","[0]"])),M)).assign(k,(0,V._)(s||(s=U(["typeof ",""])),M)).if(q(t,M,T.strictNumbers),(function(){return A.assign(C,M)}))}));A.if((0,V._)(u||(u=U([""," !== undefined"])),C));var P,R=D(n);try{for(R.s();!(P=R.n()).done;){var N=P.value;(Z.has(N)||"array"===N&&"array"===T.coerceTypes)&&O(N)}}catch(I){R.e(I)}finally{R.f()}function O(e){switch(e){case"string":return void A.elseIf((0,V._)(c||(c=U(["",' == "number" || ',' == "boolean"'])),k,k)).assign(C,(0,V._)(f||(f=U(['"" + ',""])),M)).elseIf((0,V._)(d||(d=U([""," === null"])),M)).assign(C,(0,V._)(h||(h=U(['""']))));case"number":return void A.elseIf((0,V._)(p||(p=U(["",' == "boolean" || '," === null\n              || (",' == "string" && '," && "," == +",")"])),k,M,k,M,M,M)).assign(C,(0,V._)(m||(m=U(["+",""])),M));case"integer":return void A.elseIf((0,V._)(v||(v=U(["",' === "boolean" || '," === null\n              || (",' === "string" && '," && "," == +"," && !("," % 1))"])),k,M,k,M,M,M,M)).assign(C,(0,V._)(g||(g=U(["+",""])),M));case"boolean":return void A.elseIf((0,V._)(y||(y=U(["",' === "false" || '," === 0 || "," === null"])),M,M,M)).assign(C,!1).elseIf((0,V._)(_||(_=U(["",' === "true" || '," === 1"])),M,M)).assign(C,!0);case"null":return A.elseIf((0,V._)(b||(b=U(["",' === "" || '," === 0 || "," === false"])),M,M,M)),void A.assign(C,null);case"array":A.elseIf((0,V._)(x||(x=U(["",' === "string" || ',' === "number"\n              || ',' === "boolean" || '," === null"])),k,k,k,M)).assign(C,(0,V._)(w||(w=U(["[","]"])),M))}}A.else(),K(e),A.endIf(),A.if((0,V._)(l||(l=U([""," !== undefined"])),C),(function(){A.assign(M,C),function(e,t){var n=e.gen,r=e.parentData,i=e.parentDataProperty;n.if((0,V._)(S||(S=U([""," !== undefined"])),r),(function(){return n.assign((0,V._)(E||(E=U(["","[","]"])),r,i),t)}))}(e,C)}))}(e,t,T):K(e)}))}return k};var Z=new Set(["string","number","integer","boolean","null"]);function W(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:F.Correct,a=i===F.Correct?V.operators.EQ:V.operators.NEQ;switch(e){case"null":return(0,V._)(A||(A=U([""," "," null"])),t,a);case"array":r=(0,V._)(M||(M=U(["Array.isArray(",")"])),t);break;case"object":r=(0,V._)(T||(T=U([""," && typeof ",' == "object" && !Array.isArray(',")"])),t,t,t);break;case"integer":r=o((0,V._)(k||(k=U(["!("," % 1) && !isNaN(",")"])),t,t));break;case"number":r=o();break;default:return(0,V._)(C||(C=U(["typeof "," "," ",""])),t,a,e)}return i===F.Correct?r:(0,V.not)(r);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V.nil;return(0,V.and)((0,V._)(P||(P=U(["typeof ",' == "number"'])),t),e,n?(0,V._)(R||(R=U(["isFinite(",")"])),t):V.nil)}}function q(e,t,n,r){if(1===e.length)return W(e[0],t,n,r);var i,a=(0,H.toHash)(e);if(a.array&&a.object){var o=(0,V._)(N||(N=U(["typeof ",' != "object"'])),t);i=a.null?o:(0,V._)(O||(O=U(["!"," || ",""])),t,o),delete a.null,delete a.array,delete a.object}else i=V.nil;for(var s in a.number&&delete a.integer,a)i=(0,V.and)(i,W(s,t,n,r));return i}t.checkDataType=W,t.checkDataTypes=q;var X={message:function(e){var t=e.schema;return"must be ".concat(t)},params:function(e){var t=e.schema,n=e.schemaValue;return"string"==typeof t?(0,V._)(I||(I=U(["{type: ","}"])),t):(0,V._)(L||(L=U(["{type: ","}"])),n)}};function K(e){var t=function(e){var t=e.gen,n=e.data,r=e.schema,i=(0,H.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:i,schemaValue:i,parentSchema:r,params:{},it:e}}(e);(0,z.reportError)(t,X)}t.reportTypeError=K},3449:function(e,t,n){"use strict";var r,i,a,o,s=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;var u=n(7361),l=n(5274);function c(e,t,n){var c=e.gen,f=e.compositeRule,d=e.data,h=e.opts;if(void 0!==n){var p=(0,u._)(r||(r=s(["","",""])),d,(0,u.getProperty)(t));if(f)(0,l.checkStrictMode)(e,"default is ignored for: ".concat(p));else{var m=(0,u._)(i||(i=s([""," === undefined"])),p);"empty"===h.useDefaults&&(m=(0,u._)(a||(a=s([""," || "," === null || ",' === ""'])),m,p,p)),c.if(m,(0,u._)(o||(o=s([""," = ",""])),p,(0,u.stringify)(n)))}}}t.assignDefaults=function(e,t){var n=e.schema,r=n.properties,i=n.items;if("object"===t&&r)for(var a in r)c(e,a,r[a].default);else"array"===t&&Array.isArray(i)&&i.forEach((function(t,n){return c(e,n,t.default)}))}},6114:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m,v,g,y,_,b,x,w,S,E,A,M,T,k,C,P,R,N,O,I,L,D,U,F,j,B,z,V=n(2122).default,H=n(6690).default,G=n(9728).default,Z=n(4704).default,W=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;var q=n(3934),X=n(9688),K=n(6702),Y=n(9688),Q=n(3449),J=n(4270),$=n(896),ee=n(7361),te=n(6205),ne=n(6839),re=n(5274),ie=n(6927);function ae(e,t){var n=e.gen,g=e.validateName,y=e.schema,_=e.schemaEnv,b=e.opts;b.code.es5?n.func(g,(0,ee._)(r||(r=W(["",", ",""])),te.default.data,te.default.valCxt),_.$async,(function(){n.code((0,ee._)(i||(i=W(['"use strict"; ',""])),oe(y,b))),function(e,t){e.if(te.default.valCxt,(function(){e.var(te.default.instancePath,(0,ee._)(u||(u=W(["",".",""])),te.default.valCxt,te.default.instancePath)),e.var(te.default.parentData,(0,ee._)(l||(l=W(["",".",""])),te.default.valCxt,te.default.parentData)),e.var(te.default.parentDataProperty,(0,ee._)(c||(c=W(["",".",""])),te.default.valCxt,te.default.parentDataProperty)),e.var(te.default.rootData,(0,ee._)(f||(f=W(["",".",""])),te.default.valCxt,te.default.rootData)),t.dynamicRef&&e.var(te.default.dynamicAnchors,(0,ee._)(d||(d=W(["",".",""])),te.default.valCxt,te.default.dynamicAnchors))}),(function(){e.var(te.default.instancePath,(0,ee._)(h||(h=W(['""'])))),e.var(te.default.parentData,(0,ee._)(p||(p=W(["undefined"])))),e.var(te.default.parentDataProperty,(0,ee._)(m||(m=W(["undefined"])))),e.var(te.default.rootData,te.default.data),t.dynamicRef&&e.var(te.default.dynamicAnchors,(0,ee._)(v||(v=W(["{}"]))))}))}(n,b),n.code(t)})):n.func(g,(0,ee._)(a||(a=W(["",", ",""])),te.default.data,function(e){return(0,ee._)(o||(o=W(["{",'="", ',", ",", ","=","","}={}"])),te.default.instancePath,te.default.parentData,te.default.parentDataProperty,te.default.rootData,te.default.data,e.dynamicRef?(0,ee._)(s||(s=W([", ","={}"])),te.default.dynamicAnchors):ee.nil)}(b)),_.$async,(function(){return n.code(oe(y,b)).code(t)}))}function oe(e,t){var n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,ee._)(E||(E=W(["/*# sourceURL="," */"])),n):ee.nil}function se(e,t){le(e)&&(ce(e),ue(e))?function(e,t){var n=e.schema,r=e.gen,i=e.opts;i.$comment&&n.$comment&&de(e);(function(e){var t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,ne.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);var a=r.const("_errs",te.default.errors);fe(e,a),r.var(t,(0,ee._)(A||(A=W([""," === ",""])),a,te.default.errors))}(e,t):(0,q.boolOrEmptySchema)(e,t)}function ue(e){var t=e.schema,n=e.self;if("boolean"==typeof t)return!t;for(var r in t)if(n.RULES.all[r])return!0;return!1}function le(e){return"boolean"!=typeof e.schema}function ce(e){(0,re.checkUnknownRules)(e),function(e){var t=e.schema,n=e.errSchemaPath,r=e.opts,i=e.self;t.$ref&&r.ignoreKeywordsWithRef&&(0,re.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn('$ref: keywords ignored in schema at path "'.concat(n,'"'))}(e)}function fe(e,t){if(e.opts.jtd)return he(e,[],!1,t);var n=(0,X.getSchemaTypes)(e.schema);he(e,n,!(0,X.coerceAndCheckDataType)(e,n),t)}function de(e){var t=e.gen,n=e.schemaEnv,r=e.schema,i=e.errSchemaPath,a=e.opts,o=r.$comment;if(!0===a.$comment)t.code((0,ee._)(M||(M=W(["",".logger.log(",")"])),te.default.self,o));else if("function"==typeof a.$comment){var s=(0,ee.str)(T||(T=W(["","/$comment"])),i),u=t.scopeValue("root",{ref:n.root});t.code((0,ee._)(k||(k=W(["",".opts.$comment(",", ",", ",".schema)"])),te.default.self,o,s,u))}}function he(e,t,n,r){var i=e.gen,a=e.schema,o=e.data,s=e.allErrors,u=e.opts,l=e.self.RULES;function c(l){(0,K.shouldUseGroup)(a,l)&&(l.type?(i.if((0,Y.checkDataType)(l.type,o,u.strictNumbers)),pe(e,l),1===t.length&&t[0]===l.type&&n&&(i.else(),(0,Y.reportTypeError)(e)),i.endIf()):pe(e,l),s||i.if((0,ee._)(L||(L=W([""," === ",""])),te.default.errors,r||0)))}!a.$ref||!u.ignoreKeywordsWithRef&&(0,re.schemaHasRulesButRef)(a,l)?(u.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((function(t){ve(e.dataTypes,t)||ge(e,'type "'.concat(t,'" not allowed by context "').concat(e.dataTypes.join(","),'"'))})),function(e,t){var n,r=[],i=Z(e.dataTypes);try{for(i.s();!(n=i.n()).done;){var a=n.value;ve(t,a)?r.push(a):t.includes("integer")&&"number"===a&&r.push("integer")}}catch(o){i.e(o)}finally{i.f()}e.dataTypes=r}(e,t)})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&ge(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){var n=e.self.RULES.all;for(var r in n){var i=n[r];if("object"==typeof i&&(0,K.shouldUseRule)(e.schema,i)){var a=i.definition.type;a.length&&!a.some((function(e){return me(t,e)}))&&ge(e,'missing type "'.concat(a.join(","),'" for keyword "').concat(r,'"'))}}}(e,e.dataTypes)}(e,t),i.block((function(){var e,t=Z(l.rules);try{for(t.s();!(e=t.n()).done;){c(e.value)}}catch(n){t.e(n)}finally{t.f()}c(l.post)}))):i.block((function(){return _e(e,"$ref",l.all.$ref.definition)}))}function pe(e,t){var n=e.gen,r=e.schema;e.opts.useDefaults&&(0,Q.assignDefaults)(e,t.type),n.block((function(){var n,i=Z(t.rules);try{for(i.s();!(n=i.n()).done;){var a=n.value;(0,K.shouldUseRule)(r,a)&&_e(e,a.keyword,a.definition,t.type)}}catch(o){i.e(o)}finally{i.f()}}))}function me(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function ve(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function ge(e,t){var n=e.schemaEnv.baseId+e.errSchemaPath;t+=' at "'.concat(n,'" (strictTypes)'),(0,re.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){le(e)&&(ce(e),ue(e))?function(e){var t=e.schema,n=e.opts,r=e.gen;ae(e,(function(){n.$comment&&t.$comment&&de(e),function(e){var t=e.schema,n=e.opts;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,re.checkStrictMode)(e,"default is ignored in the schema root")}(e),r.let(te.default.vErrors,null),r.let(te.default.errors,0),n.unevaluated&&function(e){var t=e.gen,n=e.validateName;e.evaluated=t.const("evaluated",(0,ee._)(g||(g=W(["",".evaluated"])),n)),t.if((0,ee._)(y||(y=W(["",".dynamicProps"])),e.evaluated),(function(){return t.assign((0,ee._)(_||(_=W(["",".props"])),e.evaluated),(0,ee._)(b||(b=W(["undefined"]))))})),t.if((0,ee._)(x||(x=W(["",".dynamicItems"])),e.evaluated),(function(){return t.assign((0,ee._)(w||(w=W(["",".items"])),e.evaluated),(0,ee._)(S||(S=W(["undefined"]))))}))}(e),fe(e),function(e){var t=e.gen,n=e.schemaEnv,r=e.validateName,i=e.ValidationError,a=e.opts;n.$async?t.if((0,ee._)(C||(C=W([""," === 0"])),te.default.errors),(function(){return t.return(te.default.data)}),(function(){return t.throw((0,ee._)(P||(P=W(["new ","(",")"])),i,te.default.vErrors))})):(t.assign((0,ee._)(R||(R=W(["",".errors"])),r),te.default.vErrors),a.unevaluated&&function(e){var t=e.gen,n=e.evaluated,r=e.props,i=e.items;r instanceof ee.Name&&t.assign((0,ee._)(O||(O=W(["",".props"])),n),r);i instanceof ee.Name&&t.assign((0,ee._)(I||(I=W(["",".items"])),n),i)}(e),t.return((0,ee._)(N||(N=W([""," === 0"])),te.default.errors)))}(e)}))}(e):ae(e,(function(){return(0,q.topBoolOrEmptySchema)(e)}))};var ye=function(){function e(t,n,r){if(H(this,e),(0,J.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,re.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",we(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,J.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error("".concat(r," value must be ").concat(JSON.stringify(n.schemaType)));("code"in n?n.trackErrors:!1!==n.errors)&&(this.errsCount=t.gen.const("_errs",te.default.errors))}return G(e,[{key:"result",value:function(e,t,n){this.failResult((0,ee.not)(e),t,n)}},{key:"failResult",value:function(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}},{key:"pass",value:function(e,t){this.failResult((0,ee.not)(e),void 0,t)}},{key:"fail",value:function(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}},{key:"fail$data",value:function(e){if(!this.$data)return this.fail(e);var t=this.schemaCode;this.fail((0,ee._)(D||(D=W([""," !== undefined && (",")"])),t,(0,ee.or)(this.invalid$data(),e)))}},{key:"error",value:function(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}},{key:"_error",value:function(e,t){(e?ie.reportExtraError:ie.reportError)(this,this.def.error,t)}},{key:"$dataError",value:function(){(0,ie.reportError)(this,this.def.$dataError||ie.keyword$DataError)}},{key:"reset",value:function(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,ie.resetErrorsCount)(this.gen,this.errsCount)}},{key:"ok",value:function(e){this.allErrors||this.gen.if(e)}},{key:"setParams",value:function(e,t){t?Object.assign(this.params,e):this.params=e}},{key:"block$data",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ee.nil;this.gen.block((function(){n.check$data(e,r),t()}))}},{key:"check$data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee.nil,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.nil;if(this.$data){var n=this.gen,r=this.schemaCode,i=this.schemaType,a=this.def;n.if((0,ee.or)((0,ee._)(U||(U=W([""," === undefined"])),r),t)),e!==ee.nil&&n.assign(e,!0),(i.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==ee.nil&&n.assign(e,!1)),n.else()}}},{key:"invalid$data",value:function(){var e=this.gen,t=this.schemaCode,n=this.schemaType,r=this.def,i=this.it;return(0,ee.or)(function(){if(n.length){if(!(t instanceof ee.Name))throw new Error("ajv implementation error");var e=Array.isArray(n)?n:[n];return(0,ee._)(F||(F=W(["",""])),(0,Y.checkDataTypes)(e,t,i.opts.strictNumbers,Y.DataType.Wrong))}return ee.nil}(),function(){if(r.validateSchema){var n=e.scopeValue("validate$data",{ref:r.validateSchema});return(0,ee._)(j||(j=W(["!","(",")"])),n,t)}return ee.nil}())}},{key:"subschema",value:function(e,t){var n=(0,$.getSubschema)(this.it,e);(0,$.extendSubschemaData)(n,this.it,e),(0,$.extendSubschemaMode)(n,e);var r=V(V(V({},this.it),n),{},{items:void 0,props:void 0});return se(r,t),r}},{key:"mergeEvaluated",value:function(e,t){var n=this.it,r=this.gen;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=re.mergeEvaluated.props(r,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=re.mergeEvaluated.items(r,e.items,n.items,t)))}},{key:"mergeValidEvaluated",value:function(e,t){var n=this,r=this.it,i=this.gen;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return i.if(t,(function(){return n.mergeEvaluated(e,ee.Name)})),!0}}]),e}();function _e(e,t,n,r){var i=new ye(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,J.funcKeywordCode)(i,n):"macro"in n?(0,J.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,J.funcKeywordCode)(i,n)}t.KeywordCxt=ye;var be=/^\/(?:[^~]|~0|~1)*$/,xe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function we(e,t){var n,r,i=t.dataLevel,a=t.dataNames,o=t.dataPathArr;if(""===e)return te.default.rootData;if("/"===e[0]){if(!be.test(e))throw new Error("Invalid JSON-pointer: ".concat(e));n=e,r=te.default.rootData}else{var s=xe.exec(e);if(!s)throw new Error("Invalid JSON-pointer: ".concat(e));var u=+s[1];if("#"===(n=s[2])){if(u>=i)throw new Error(p("property/index",u));return o[i-u]}if(u>i)throw new Error(p("data",u));if(r=a[i-u],!n)return r}var l,c=r,f=n.split("/"),d=Z(f);try{for(d.s();!(l=d.n()).done;){var h=l.value;h&&(r=(0,ee._)(B||(B=W(["","",""])),r,(0,ee.getProperty)((0,re.unescapeJsonPointer)(h))),c=(0,ee._)(z||(z=W([""," && ",""])),c,r))}}catch(m){d.e(m)}finally{d.f()}return c;function p(e,t){return"Cannot access ".concat(e," ").concat(t," levels up, current level is ").concat(i)}}t.getData=we},4270:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;var p=n(7361),m=n(6205),v=n(912),g=n(6927);function y(e){var t=e.gen,n=e.data,r=e.it;t.if(r.parentData,(function(){return t.assign(n,(0,p._)(l||(l=h(["","[","]"])),r.parentData,r.parentDataProperty))}))}function _(e,t,n){if(void 0===n)throw new Error('keyword "'.concat(t,'" failed to compile'));return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,p.stringify)(n)})}t.macroKeywordCode=function(e,t){var n=e.gen,r=e.keyword,i=e.schema,a=e.parentSchema,o=e.it,s=t.macro.call(o.self,i,a,o),u=_(n,r,s);!1!==o.opts.validateSchema&&o.self.validateSchema(s,!0);var l=n.name("valid");e.subschema({schema:s,schemaPath:p.nil,errSchemaPath:"".concat(o.errSchemaPath,"/").concat(r),topSchemaRef:u,compositeRule:!0},l),e.pass(l,(function(){return e.error(!0)}))},t.funcKeywordCode=function(e,t){var n,l=e.gen,b=e.keyword,x=e.schema,w=e.parentSchema,S=e.$data,E=e.it;!function(e,t){var n=e.schemaEnv;if(t.async&&!n.$async)throw new Error("async keyword in sync schema")}(E,t);var A=!S&&t.compile?t.compile.call(E.self,x,w,E):t.validate,M=_(l,b,A),T=l.let("valid");function k(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.async?(0,p._)(s||(s=h(["await "]))):p.nil,r=E.opts.passContext?m.default.this:m.default.self,i=!("compile"in t&&!S||!1===t.schema);l.assign(T,(0,p._)(u||(u=h(["","",""])),n,(0,v.callValidateCode)(e,M,r,i)),t.modifying)}function C(e){var n;l.if((0,p.not)(null!==(n=t.valid)&&void 0!==n?n:T),e)}e.block$data(T,(function(){if(!1===t.errors)k(),t.modifying&&y(e),C((function(){return e.error()}));else{var n=t.async?function(){var e=l.let("ruleErrs",null);return l.try((function(){return k((0,p._)(r||(r=h(["await "]))))}),(function(t){return l.assign(T,!1).if((0,p._)(i||(i=h([""," instanceof ",""])),t,E.ValidationError),(function(){return l.assign(e,(0,p._)(a||(a=h(["",".errors"])),t))}),(function(){return l.throw(t)}))})),e}():function(){var e=(0,p._)(o||(o=h(["",".errors"])),M);return l.assign(e,null),k(p.nil),e}();t.modifying&&y(e),C((function(){return function(e,t){var n=e.gen;n.if((0,p._)(c||(c=h(["Array.isArray(",")"])),t),(function(){n.assign(m.default.vErrors,(0,p._)(f||(f=h([""," === null ? "," : ",".concat(",")"])),m.default.vErrors,t,m.default.vErrors,t)).assign(m.default.errors,(0,p._)(d||(d=h(["",".length"])),m.default.vErrors)),(0,g.extendErrors)(e)}),(function(){return e.error()}))}(e,n)}))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:T)},t.validSchemaType=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!t.length||t.some((function(t){return"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&"undefined"==typeof e}))},t.validateKeywordUsage=function(e,t,n){var r=e.schema,i=e.opts,a=e.self,o=e.errSchemaPath;if(Array.isArray(t.keyword)?!t.keyword.includes(n):t.keyword!==n)throw new Error("ajv implementation error");var s=t.dependencies;if(null===s||void 0===s?void 0:s.some((function(e){return!Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have dependencies of ".concat(n,": ").concat(s.join(",")));if(t.validateSchema&&!t.validateSchema(r[n])){var u='keyword "'.concat(n,'" value is invalid at path "').concat(o,'": ')+a.errorsText(t.validateSchema.errors);if("log"!==i.validateSchema)throw new Error(u);a.logger.error(u)}}},896:function(e,t,n){"use strict";var r,i,a,o,s,u=n(861).default,l=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;var c=n(7361),f=n(5274);t.getSubschema=function(e,t){var n=t.keyword,a=t.schemaProp,o=t.schema,s=t.schemaPath,u=t.errSchemaPath,d=t.topSchemaRef;if(void 0!==n&&void 0!==o)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==n){var h=e.schema[n];return void 0===a?{schema:h,schemaPath:(0,c._)(r||(r=l(["","",""])),e.schemaPath,(0,c.getProperty)(n)),errSchemaPath:"".concat(e.errSchemaPath,"/").concat(n)}:{schema:h[a],schemaPath:(0,c._)(i||(i=l(["","","",""])),e.schemaPath,(0,c.getProperty)(n),(0,c.getProperty)(a)),errSchemaPath:"".concat(e.errSchemaPath,"/").concat(n,"/").concat((0,f.escapeFragment)(a))}}if(void 0!==o){if(void 0===s||void 0===u||void 0===d)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:s,topSchemaRef:d,errSchemaPath:u}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,n){var r=n.dataProp,i=n.dataPropType,d=n.data,h=n.dataTypes,p=n.propertyName;if(void 0!==d&&void 0!==r)throw new Error('both "data" and "dataProp" passed, only one allowed');var m=t.gen;if(void 0!==r){var v=t.errorPath,g=t.dataPathArr,y=t.opts;_(m.let("data",(0,c._)(a||(a=l(["","",""])),t.data,(0,c.getProperty)(r)),!0)),e.errorPath=(0,c.str)(o||(o=l(["","",""])),v,(0,f.getErrorPath)(r,i,y.jsPropertySyntax)),e.parentDataProperty=(0,c._)(s||(s=l(["",""])),r),e.dataPathArr=[].concat(u(g),[e.parentDataProperty])}function _(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[].concat(u(t.dataNames),[n])}void 0!==d&&(_(d instanceof c.Name?d:m.let("data",d,!0)),void 0!==p&&(e.propertyName=p)),h&&(e.dataTypes=h)},t.extendSubschemaMode=function(e,t){var n=t.jtdDiscriminator,r=t.jtdMetadata,i=t.compositeRule,a=t.createErrors,o=t.allErrors;void 0!==i&&(e.compositeRule=i),void 0!==a&&(e.createErrors=a),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=n,e.jtdMetadata=r}},1616:function(e,t,n){"use strict";var r=n(4704).default,i=n(7061).default,a=n(7156).default,o=n(6690).default,s=n(9728).default,u=n(2122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var l=n(6114);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=n(7361);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=n(2055),d=n(7382),h=n(5379),p=n(2859),m=n(7361),v=n(6839),g=n(9688),y=n(5274),_=n(2621),b=n(6874),x=function(e,t){return new RegExp(e,t)};x.code="new RegExp";var w=["removeAdditional","useDefaults","coerceTypes"],S=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),E={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},A={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};var M=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts=u(u({},t),function(e){var t,n,r,i,a,o,s,l,c,f,d,h,p,m,v,g,y,_,w,S,E,A,M,T,k,C=e.strict,P=null===(t=e.code)||void 0===t?void 0:t.optimize,R=!0===P||void 0===P?1:P||0,N=null!==(r=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==r?r:x,O=null!==(i=e.uriResolver)&&void 0!==i?i:b.default;return{strictSchema:null===(o=null!==(a=e.strictSchema)&&void 0!==a?a:C)||void 0===o||o,strictNumbers:null===(l=null!==(s=e.strictNumbers)&&void 0!==s?s:C)||void 0===l||l,strictTypes:null!==(f=null!==(c=e.strictTypes)&&void 0!==c?c:C)&&void 0!==f?f:"log",strictTuples:null!==(h=null!==(d=e.strictTuples)&&void 0!==d?d:C)&&void 0!==h?h:"log",strictRequired:null!==(m=null!==(p=e.strictRequired)&&void 0!==p?p:C)&&void 0!==m&&m,code:e.code?u(u({},e.code),{},{optimize:R,regExp:N}):{optimize:R,regExp:N},loopRequired:null!==(v=e.loopRequired)&&void 0!==v?v:200,loopEnum:null!==(g=e.loopEnum)&&void 0!==g?g:200,meta:null===(y=e.meta)||void 0===y||y,messages:null===(_=e.messages)||void 0===_||_,inlineRefs:null===(w=e.inlineRefs)||void 0===w||w,schemaId:null!==(S=e.schemaId)&&void 0!==S?S:"$id",addUsedSchema:null===(E=e.addUsedSchema)||void 0===E||E,validateSchema:null===(A=e.validateSchema)||void 0===A||A,validateFormats:null===(M=e.validateFormats)||void 0===M||M,unicodeRegExp:null===(T=e.unicodeRegExp)||void 0===T||T,int32range:null===(k=e.int32range)||void 0===k||k,uriResolver:O}}(t));var n=this.opts.code,r=n.es5,i=n.lines;this.scope=new m.ValueScope({scope:{},prefixes:S,es5:r,lines:i}),this.logger=function(e){if(!1===e)return O;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(t.logger);var a=t.validateFormats;t.validateFormats=!1,this.RULES=(0,h.getRules)(),T.call(this,E,t,"NOT SUPPORTED"),T.call(this,A,t,"DEPRECATED","warn"),this._metaOpts=N.call(this),t.formats&&P.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&R.call(this,t.keywords),"object"==typeof t.meta&&this.addMetaSchema(t.meta),C.call(this),t.validateFormats=a}return s(e,[{key:"_addVocabularies",value:function(){this.addKeyword("$async")}},{key:"_addDefaultMetaSchema",value:function(){var e=this.opts,t=e.$data,n=e.meta,r=e.schemaId,i=_;"id"===r&&((i=u({},_)).id=i.$id,delete i.$id),n&&t&&this.addMetaSchema(i,i[r],!1)}},{key:"defaultMeta",value:function(){var e=this.opts,t=e.meta,n=e.schemaId;return this.opts.defaultMeta="object"==typeof t?t[n]||t:void 0}},{key:"validate",value:function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'.concat(e,'"'))}else n=this.compile(e);var r=n(t);return"$async"in n||(this.errors=n.errors),r}},{key:"compile",value:function(e,t){var n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}},{key:"compileAsync",value:function(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");var n=this.opts.loadSchema;return r.call(this,e,t);function r(e,t){return o.apply(this,arguments)}function o(){return(o=a(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.call(this,t.$schema);case 2:return r=this._addSchema(t,n),e.abrupt("return",r.validate||l.call(this,r));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function s(e){return u.apply(this,arguments)}function u(){return(u=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.getSchema(t)){e.next=3;break}return e.next=3,r.call(this,{$ref:t},!0);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return(c=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this._compileSchemaEnv(t));case 4:if(e.prev=4,e.t0=e.catch(0),e.t0 instanceof d.default){e.next=8;break}throw e.t0;case 8:return f.call(this,e.t0),e.next=11,h.call(this,e.t0.missingSchema);case 11:return e.abrupt("return",l.call(this,t));case 12:case"end":return e.stop()}}),e,this,[[0,4]])})))).apply(this,arguments)}function f(e){var t=e.missingSchema,n=e.missingRef;if(this.refs[t])throw new Error("AnySchema ".concat(t," is loaded but ").concat(n," cannot be resolved"))}function h(e){return p.apply(this,arguments)}function p(){return(p=a(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.call(this,n);case 2:if(r=e.sent,this.refs[n]){e.next=6;break}return e.next=6,s.call(this,r.$schema);case 6:this.refs[n]||this.addSchema(r,n,t);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=a(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this._loading[t])){e.next=3;break}return e.abrupt("return",r);case 3:return e.prev=3,e.next=6,this._loading[t]=n(t);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,delete this._loading[t],e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[3,,7,10]])})))).apply(this,arguments)}}},{key:"addSchema",value:function(e,t,n){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.validateSchema;if(Array.isArray(e)){var o,s=r(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.addSchema(u,void 0,n,a)}}catch(c){s.e(c)}finally{s.f()}return this}if("object"===typeof e){var l=this.opts.schemaId;if(void 0!==(i=e[l])&&"string"!=typeof i)throw new Error("schema ".concat(l," must be string"))}return t=(0,v.normalizeId)(t||i),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,a,!0),this}},{key:"addMetaSchema",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.opts.validateSchema;return this.addSchema(e,t,!0,n),this}},{key:"validateSchema",value:function(e,t){if("boolean"==typeof e)return!0;var n;if(void 0!==(n=e.$schema)&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(n,e);if(!r&&t){var i="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(i);this.logger.error(i)}return r}},{key:"getSchema",value:function(e){for(var t;"string"==typeof(t=k.call(this,e));)e=t;if(void 0===t){var n=this.opts.schemaId,r=new p.SchemaEnv({schema:{},schemaId:n});if(!(t=p.resolveSchema.call(this,r,e)))return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}},{key:"removeSchema",value:function(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":var t=k.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this;case"object":var n=e;this._cache.delete(n);var r=e[this.opts.schemaId];return r&&(r=(0,v.normalizeId)(r),delete this.schemas[r],delete this.refs[r]),this;default:throw new Error("ajv.removeSchema: invalid parameter")}}},{key:"addVocabulary",value:function(e){var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.addKeyword(i)}}catch(a){n.e(a)}finally{n.f()}return this}},{key:"addKeyword",value:function(e,t){var n,r=this;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(L.call(this,n,t),!t)return(0,y.eachItem)(n,(function(e){return D.call(r,e)})),this;F.call(this,t);var i=u(u({},t),{},{type:(0,g.getJSONTypes)(t.type),schemaType:(0,g.getJSONTypes)(t.schemaType)});return(0,y.eachItem)(n,0===i.type.length?function(e){return D.call(r,e,i)}:function(e){return i.type.forEach((function(t){return D.call(r,e,i,t)}))}),this}},{key:"getKeyword",value:function(e){var t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}},{key:"removeKeyword",value:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e];var n,i=r(t.rules);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.rules.findIndex((function(t){return t.keyword===e}));o>=0&&a.rules.splice(o,1)}}catch(s){i.e(s)}finally{i.f()}return this}},{key:"addFormat",value:function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}},{key:"errorsText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.errors,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.separator,r=void 0===n?", ":n,i=t.dataVar,a=void 0===i?"data":i;return e&&0!==e.length?e.map((function(e){return"".concat(a).concat(e.instancePath," ").concat(e.message)})).reduce((function(e,t){return e+r+t})):"No errors"}},{key:"$dataMetaSchema",value:function(e,t){var n=this.RULES.all;e=JSON.parse(JSON.stringify(e));var i,a=r(t);try{for(a.s();!(i=a.n()).done;){var o,s=i.value.split("/").slice(1),u=e,l=r(s);try{for(l.s();!(o=l.n()).done;){u=u[o.value]}}catch(p){l.e(p)}finally{l.f()}for(var c in n){var f=n[c];if("object"==typeof f){var d=f.definition.$data,h=u[c];d&&h&&(u[c]=B(h))}}}}catch(p){a.e(p)}finally{a.f()}return e}},{key:"_removeAllSchemas",value:function(e,t){for(var n in e){var r=e[n];t&&!t.test(n)||("string"==typeof r?delete e[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[n]))}}},{key:"_addSchema",value:function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.validateSchema,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.opts.addUsedSchema,o=this.opts.schemaId;if("object"==typeof e)r=e[o];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}var s=this._cache.get(e);if(void 0!==s)return s;n=(0,v.normalizeId)(r||n);var u=v.getSchemaRefs.call(this,e,n);return s=new p.SchemaEnv({schema:e,schemaId:o,meta:t,baseId:n,localRefs:u}),this._cache.set(s.schema,s),a&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=s),i&&this.validateSchema(e,!0),s}},{key:"_checkUnique",value:function(e){if(this.schemas[e]||this.refs[e])throw new Error('schema with key or id "'.concat(e,'" already exists'))}},{key:"_compileSchemaEnv",value:function(e){if(e.meta?this._compileMetaSchema(e):p.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}},{key:"_compileMetaSchema",value:function(e){var t=this.opts;this.opts=this._metaOpts;try{p.compileSchema.call(this,e)}finally{this.opts=t}}}]),e}();function T(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"error";for(var i in e){var a=i;a in t&&this.logger[r]("".concat(n,": option ").concat(i,". ").concat(e[a]))}}function k(e){return e=(0,v.normalizeId)(e),this.schemas[e]||this.refs[e]}function C(){var e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(var t in e)this.addSchema(e[t],t)}function P(){for(var e in this.opts.formats){var t=this.opts.formats[e];t&&this.addFormat(e,t)}}function R(e){if(Array.isArray(e))this.addVocabulary(e);else for(var t in this.logger.warn("keywords option as map is deprecated, pass array"),e){var n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}function N(){var e,t=u({},this.opts),n=r(w);try{for(n.s();!(e=n.n()).done;){delete t[e.value]}}catch(i){n.e(i)}finally{n.f()}return t}t.default=M,M.ValidationError=f.default,M.MissingRefError=d.default;var O={log:function(){},warn:function(){},error:function(){}};var I=/^[a-z_$][a-z0-9_$:-]*$/i;function L(e,t){var n=this.RULES;if((0,y.eachItem)(e,(function(e){if(n.keywords[e])throw new Error("Keyword ".concat(e," is already defined"));if(!I.test(e))throw new Error("Keyword ".concat(e," has invalid name"))})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function D(e,t,n){var r,i=this,a=null===t||void 0===t?void 0:t.post;if(n&&a)throw new Error('keyword with "post" flag cannot have "type"');var o=this.RULES,s=a?o.post:o.rules.find((function(e){return e.type===n}));if(s||(s={type:n,rules:[]},o.rules.push(s)),o.keywords[e]=!0,t){var l={keyword:e,definition:u(u({},t),{},{type:(0,g.getJSONTypes)(t.type),schemaType:(0,g.getJSONTypes)(t.schemaType)})};t.before?U.call(this,s,l,t.before):s.rules.push(l),o.all[e]=l,null===(r=t.implements)||void 0===r||r.forEach((function(e){return i.addKeyword(e)}))}}function U(e,t,n){var r=e.rules.findIndex((function(e){return e.keyword===n}));r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn("rule ".concat(n," is not defined")))}function F(e){var t=e.metaSchema;void 0!==t&&(e.$data&&this.opts.$data&&(t=B(t)),e.validateSchema=this.compile(t,!0))}var j={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function B(e){return{anyOf:[e,j]}}},6188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8262);r.code='require("ajv/dist/runtime/equal").default',t.default=r},6962:function(e,t){"use strict";function n(e){for(var t,n=e.length,r=0,i=0;i<n;)r++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<n&&56320===(64512&(t=e.charCodeAt(i)))&&i++;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},6874:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23);r.code='require("ajv/dist/runtime/uri").default',t.default=r},2055:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default,a=n(1655).default,o=n(6389).default,s=n(3496).default;Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){a(n,e);var t=o(n);function n(e){var r;return i(this,n),(r=t.call(this,"validation failed")).errors=e,r.ajv=r.validation=!0,r}return r(n)}(s(Error));t.default=u},8835:function(e,t,n){"use strict";var r,i,a,o,s,u=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;var l=n(7361),c=n(5274),f={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:function(e){var t=e.params.len;return(0,l.str)(r||(r=u(["must NOT have more than "," items"])),t)},params:function(e){var t=e.params.len;return(0,l._)(i||(i=u(["{limit: ","}"])),t)}},code:function(e){var t=e.parentSchema,n=e.it,r=t.items;Array.isArray(r)?d(e,r):(0,c.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function d(e,t){var n=e.gen,r=e.schema,i=e.data,f=e.keyword,d=e.it;d.items=!0;var h=n.const("len",(0,l._)(a||(a=u(["",".length"])),i));if(!1===r)e.setParams({len:t.length}),e.pass((0,l._)(o||(o=u([""," <= ",""])),h,t.length));else if("object"==typeof r&&!(0,c.alwaysValidSchema)(d,r)){var p=n.var("valid",(0,l._)(s||(s=u([""," <= ",""])),h,t.length));n.if((0,l.not)(p),(function(){return function(r){n.forRange("i",t.length,h,(function(t){e.subschema({keyword:f,dataProp:t,dataPropType:c.Type.Num},r),d.allErrors||n.if((0,l.not)(r),(function(){return n.break()}))}))}(p)})),e.ok(p)}}t.validateAdditionalItems=d,t.default=f},4185:function(e,t,n){"use strict";var r,i,a,o,s,u=n(861).default,l=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var c=n(912),f=n(7361),d=n(6205),h=n(5274),p={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:function(e){var t=e.params;return(0,f._)(r||(r=l(["{additionalProperty: ","}"])),t.additionalProperty)}},code:function(e){var t=e.gen,n=e.schema,r=e.parentSchema,p=e.data,m=e.errsCount,v=e.it;if(!m)throw new Error("ajv implementation error");var g=v.allErrors,y=v.opts;if(v.props=!0,"all"===y.removeAdditional||!(0,h.alwaysValidSchema)(v,n)){var _=(0,c.allSchemaProperties)(r.properties),b=(0,c.allSchemaProperties)(r.patternProperties);t.forIn("key",p,(function(n){_.length||b.length?t.if(function(n){var i;if(_.length>8){var s=(0,h.schemaRefOrVal)(v,r.properties,"properties");i=(0,c.isOwnProperty)(t,s,n)}else i=_.length?f.or.apply(void 0,u(_.map((function(e){return(0,f._)(a||(a=l([""," === ",""])),n,e)})))):f.nil;return b.length&&(i=f.or.apply(void 0,[i].concat(u(b.map((function(t){return(0,f._)(o||(o=l(["",".test(",")"])),(0,c.usePattern)(e,t),n)})))))),(0,f.not)(i)}(n),(function(){return w(n)})):w(n)})),e.ok((0,f._)(i||(i=l([""," === ",""])),m,d.default.errors))}function x(e){t.code((0,f._)(s||(s=l(["delete ","[","]"])),p,e))}function w(r){if("all"===y.removeAdditional||y.removeAdditional&&!1===n)x(r);else{if(!1===n)return e.setParams({additionalProperty:r}),e.error(),void(g||t.break());if("object"==typeof n&&!(0,h.alwaysValidSchema)(v,n)){var i=t.name("valid");"failing"===y.removeAdditional?(S(r,i,!1),t.if((0,f.not)(i),(function(){e.reset(),x(r)}))):(S(r,i),g||t.if((0,f.not)(i),(function(){return t.break()})))}}}function S(t,n,r){var i={keyword:"additionalProperties",dataProp:t,dataPropType:h.Type.Str};!1===r&&Object.assign(i,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(i,n)}}};t.default=p},231:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5274),i={keyword:"allOf",schemaType:"array",code:function(e){var t=e.gen,n=e.schema,i=e.it;if(!Array.isArray(n))throw new Error("ajv implementation error");var a=t.name("valid");n.forEach((function(t,n){if(!(0,r.alwaysValidSchema)(i,t)){var o=e.subschema({keyword:"allOf",schemaProp:n},a);e.ok(a),e.mergeEvaluated(o)}}))}};t.default=i},6921:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(912).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=r},4640:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var v=n(7361),g=n(5274),y={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:function(e){var t=e.params,n=t.min,a=t.max;return void 0===a?(0,v.str)(r||(r=m(["must contain at least "," valid item(s)"])),n):(0,v.str)(i||(i=m(["must contain at least "," and no more than "," valid item(s)"])),n,a)},params:function(e){var t=e.params,n=t.min,r=t.max;return void 0===r?(0,v._)(a||(a=m(["{minContains: ","}"])),n):(0,v._)(o||(o=m(["{minContains: ",", maxContains: ","}"])),n,r)}},code:function(e){var t,n,r=e.gen,i=e.schema,a=e.parentSchema,o=e.data,y=e.it,_=a.minContains,b=a.maxContains;y.opts.next?(t=void 0===_?1:_,n=b):t=1;var x=r.const("len",(0,v._)(s||(s=m(["",".length"])),o));if(e.setParams({min:t,max:n}),void 0!==n||0!==t){if(void 0!==n&&t>n)return(0,g.checkStrictMode)(y,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,g.alwaysValidSchema)(y,i)){var w=(0,v._)(u||(u=m([""," >= ",""])),x,t);return void 0!==n&&(w=(0,v._)(l||(l=m([""," && "," <= ",""])),w,x,n)),void e.pass(w)}y.items=!0;var S=r.name("valid");void 0===n&&1===t?A(S,(function(){return r.if(S,(function(){return r.break()}))})):0===t?(r.let(S,!0),void 0!==n&&r.if((0,v._)(c||(c=m(["",".length > 0"])),o),E)):(r.let(S,!1),E()),e.result(S,(function(){return e.reset()}))}else(0,g.checkStrictMode)(y,'"minContains" == 0 without "maxContains": "contains" keyword ignored');function E(){var e=r.name("_valid"),i=r.let("count",0);A(e,(function(){return r.if(e,(function(){return function(e){r.code((0,v._)(f||(f=m(["","++"])),e)),void 0===n?r.if((0,v._)(d||(d=m([""," >= ",""])),e,t),(function(){return r.assign(S,!0).break()})):(r.if((0,v._)(h||(h=m([""," > ",""])),e,n),(function(){return r.assign(S,!1).break()})),1===t?r.assign(S,!0):r.if((0,v._)(p||(p=m([""," >= ",""])),e,t),(function(){return r.assign(S,!0)})))}(i)}))}))}function A(t,n){r.forRange("i",0,x,(function(r){e.subschema({keyword:"contains",dataProp:r,dataPropType:g.Type.Num,compositeRule:!0},t),n()}))}}};t.default=y},6698:function(e,t,n){"use strict";var r,i,a,o=n(4704).default,s=n(7424).default,u=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;var l=n(7361),c=n(5274),f=n(912);t.error={message:function(e){var t=e.params,n=t.property,i=t.depsCount,a=t.deps,o=1===i?"property":"properties";return(0,l.str)(r||(r=u(["must have "," "," when property "," is present"])),o,a,n)},params:function(e){var t=e.params,n=t.property,r=t.depsCount,a=t.deps,o=t.missingProperty;return(0,l._)(i||(i=u(["{property: ",",\n    missingProperty: ",",\n    depsCount: ",",\n    deps: ","}"])),n,o,r,a)}};var d={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code:function(e){var t=function(e){var t=e.schema,n={},r={};for(var i in t){if("__proto__"!==i)(Array.isArray(t[i])?n:r)[i]=t[i]}return[n,r]}(e),n=s(t,2),r=n[0],i=n[1];h(e,r),p(e,i)}};function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema,n=e.gen,r=e.data,i=e.it;if(0!==Object.keys(t).length){var s=n.let("missing"),c=function(){var c=t[d];if(0===c.length)return 1;var h=(0,f.propertyInData)(n,r,d,i.opts.ownProperties);e.setParams({property:d,depsCount:c.length,deps:c.join(", ")}),i.allErrors?n.if(h,(function(){var t,n=o(c);try{for(n.s();!(t=n.n()).done;){var r=t.value;(0,f.checkReportMissingProp)(e,r)}}catch(i){n.e(i)}finally{n.f()}})):(n.if((0,l._)(a||(a=u([""," && (",")"])),h,(0,f.checkMissingProp)(e,c,s))),(0,f.reportMissingProp)(e,s),n.else())};for(var d in t)c()}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema,n=e.gen,r=e.data,i=e.keyword,a=e.it,o=n.name("valid"),s=function(s){if((0,c.alwaysValidSchema)(a,t[s]))return 1;n.if((0,f.propertyInData)(n,r,s,a.opts.ownProperties),(function(){var t=e.subschema({keyword:i,schemaProp:s},o);e.mergeValidEvaluated(t,o)}),(function(){return n.var(o,!0)})),e.ok(o)};for(var u in t)s(u)}t.validatePropertyDeps=h,t.validateSchemaDeps=p,t.default=d},4792:function(e,t,n){"use strict";var r,i,a,o=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(7361),u=n(5274),l={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:function(e){var t=e.params;return(0,s.str)(r||(r=o(['must match "','" schema'])),t.ifClause)},params:function(e){var t=e.params;return(0,s._)(i||(i=o(["{failingKeyword: ","}"])),t.ifClause)}},code:function(e){var t=e.gen,n=e.parentSchema,r=e.it;void 0===n.then&&void 0===n.else&&(0,u.checkStrictMode)(r,'"if" without "then" and "else" is ignored');var i=c(r,"then"),l=c(r,"else");if(i||l){var f=t.let("valid",!0),d=t.name("_valid");if(function(){var t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},d);e.mergeEvaluated(t)}(),e.reset(),i&&l){var h=t.let("ifClause");e.setParams({ifClause:h}),t.if(d,p("then",h),p("else",h))}else i?t.if(d,p("then")):t.if((0,s.not)(d),p("else"));e.pass(f,(function(){return e.error(!0)}))}function p(n,r){return function(){var i=e.subschema({keyword:n},d);t.assign(f,d),e.mergeValidEvaluated(i,f),r?t.assign(r,(0,s._)(a||(a=o(["",""])),n)):e.setParams({ifClause:n})}}}};function c(e,t){var n=e.schema[t];return void 0!==n&&!(0,u.alwaysValidSchema)(e,n)}t.default=l},7589:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8835),i=n(3711),a=n(4818),o=n(7593),s=n(4640),u=n(6698),l=n(5161),c=n(4185),f=n(972),d=n(3009),h=n(5156),p=n(6921),m=n(5122),v=n(231),g=n(4792),y=n(9738);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[h.default,p.default,m.default,v.default,g.default,y.default,l.default,c.default,u.default,f.default,d.default];return e?t.push(i.default,o.default):t.push(r.default,a.default),t.push(s.default),t}},4818:function(e,t,n){"use strict";var r,i,a=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;var o=n(7361),s=n(5274),u=n(912),l={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code:function(e){var t=e.schema,n=e.it;if(Array.isArray(t))return c(e,"additionalItems",t);n.items=!0,(0,s.alwaysValidSchema)(n,t)||e.ok((0,u.validateArray)(e))}};function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.schema,u=e.gen,l=e.parentSchema,c=e.data,f=e.keyword,d=e.it;!function(e){var r=d.opts,i=d.errSchemaPath,a=n.length,o=a===e.minItems&&(a===e.maxItems||!1===e[t]);if(r.strictTuples&&!o){var u='"'.concat(f,'" is ').concat(a,"-tuple, but minItems or maxItems/").concat(t,' are not specified or different at path "').concat(i,'"');(0,s.checkStrictMode)(d,u,r.strictTuples)}}(l),d.opts.unevaluated&&n.length&&!0!==d.items&&(d.items=s.mergeEvaluated.items(u,n.length,d.items));var h=u.name("valid"),p=u.const("len",(0,o._)(r||(r=a(["",".length"])),c));n.forEach((function(t,n){(0,s.alwaysValidSchema)(d,t)||(u.if((0,o._)(i||(i=a([""," > ",""])),p,n),(function(){return e.subschema({keyword:f,schemaProp:n,dataProp:n},h)})),e.ok(h))}))}t.validateTuple=c,t.default=l},7593:function(e,t,n){"use strict";var r,i,a=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(7361),s=n(5274),u=n(912),l=n(8835),c={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:function(e){var t=e.params.len;return(0,o.str)(r||(r=a(["must NOT have more than "," items"])),t)},params:function(e){var t=e.params.len;return(0,o._)(i||(i=a(["{limit: ","}"])),t)}},code:function(e){var t=e.schema,n=e.parentSchema,r=e.it,i=n.prefixItems;r.items=!0,(0,s.alwaysValidSchema)(r,t)||(i?(0,l.validateAdditionalItems)(e,i):e.ok((0,u.validateArray)(e)))}};t.default=c},5156:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5274),i={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code:function(e){var t=e.gen,n=e.schema,i=e.it;if((0,r.alwaysValidSchema)(i,n))e.fail();else{var a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,(function(){return e.reset()}),(function(){return e.error()}))}},error:{message:"must NOT be valid"}};t.default=i},5122:function(e,t,n){"use strict";var r,i,a,o=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(7361),u=n(5274),l={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:function(e){var t=e.params;return(0,s._)(r||(r=o(["{passingSchemas: ","}"])),t.passing)}},code:function(e){var t=e.gen,n=e.schema,r=e.parentSchema,l=e.it;if(!Array.isArray(n))throw new Error("ajv implementation error");if(!l.opts.discriminator||!r.discriminator){var c=n,f=t.let("valid",!1),d=t.let("passing",null),h=t.name("_valid");e.setParams({passing:d}),t.block((function(){c.forEach((function(n,r){var c;(0,u.alwaysValidSchema)(l,n)?t.var(h,!0):c=e.subschema({keyword:"oneOf",schemaProp:r,compositeRule:!0},h),r>0&&t.if((0,s._)(i||(i=o([""," && ",""])),h,f)).assign(f,!1).assign(d,(0,s._)(a||(a=o(["[",", ","]"])),d,r)).else(),t.if(h,(function(){t.assign(f,!0),t.assign(d,r),c&&e.mergeEvaluated(c,s.Name)}))}))})),e.result(f,(function(){return e.reset()}),(function(){return e.error(!0)}))}}};t.default=l},3009:function(e,t,n){"use strict";var r,i,a=n(9400).default,o=n(4704).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(912),u=n(7361),l=n(5274),c=n(5274),f={keyword:"patternProperties",type:"object",schemaType:"object",code:function(e){var t=e.gen,n=e.schema,f=e.data,d=e.parentSchema,h=e.it,p=h.opts,m=(0,s.allSchemaProperties)(n),v=m.filter((function(e){return(0,l.alwaysValidSchema)(h,n[e])}));if(0!==m.length&&(v.length!==m.length||h.opts.unevaluated&&!0!==h.props)){var g=p.strictSchema&&!p.allowMatchingProperties&&d.properties,y=t.name("valid");!0===h.props||h.props instanceof u.Name||(h.props=(0,c.evaluatedPropsToName)(t,h.props));var _=h.props;!function(){var e,n=o(m);try{for(n.s();!(e=n.n()).done;){var r=e.value;g&&b(r),h.allErrors?x(r):(t.var(y,!0),x(r),t.if(y))}}catch(i){n.e(i)}finally{n.f()}}()}function b(e){for(var t in g)new RegExp(e).test(t)&&(0,l.checkStrictMode)(h,"property ".concat(t," matches pattern ").concat(e," (use allowMatchingProperties)"))}function x(n){t.forIn("key",f,(function(o){t.if((0,u._)(r||(r=a(["",".test(",")"])),(0,s.usePattern)(e,n),o),(function(){var r=v.includes(n);r||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:o,dataPropType:c.Type.Str},y),h.opts.unevaluated&&!0!==_?t.assign((0,u._)(i||(i=a(["","[","]"])),_,o),!0):r||h.allErrors||t.if((0,u.not)(y),(function(){return t.break()}))}))}))}}};t.default=f},3711:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4818),i={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:function(e){return(0,r.validateTuple)(e,"items")}};t.default=i},972:function(e,t,n){"use strict";var r=n(4704).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(6114),a=n(912),o=n(5274),s=n(4185),u={keyword:"properties",type:"object",schemaType:"object",code:function(e){var t=e.gen,n=e.schema,u=e.parentSchema,l=e.data,c=e.it;"all"===c.opts.removeAdditional&&void 0===u.additionalProperties&&s.default.code(new i.KeywordCxt(c,s.default,"additionalProperties"));var f,d=(0,a.allSchemaProperties)(n),h=r(d);try{for(h.s();!(f=h.n()).done;){var p=f.value;c.definedProperties.add(p)}}catch(w){h.e(w)}finally{h.f()}c.opts.unevaluated&&d.length&&!0!==c.props&&(c.props=o.mergeEvaluated.props(t,(0,o.toHash)(d),c.props));var m=d.filter((function(e){return!(0,o.alwaysValidSchema)(c,n[e])}));if(0!==m.length){var v,g=t.name("valid"),y=r(m);try{for(y.s();!(v=y.n()).done;){var _=v.value;b(_)?x(_):(t.if((0,a.propertyInData)(t,l,_,c.opts.ownProperties)),x(_),c.allErrors||t.else().var(g,!0),t.endIf()),e.it.definedProperties.add(_),e.ok(g)}}catch(w){y.e(w)}finally{y.f()}}function b(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==n[e].default}function x(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},g)}}};t.default=u},5161:function(e,t,n){"use strict";var r,i=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(7361),o=n(5274),s={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:function(e){var t=e.params;return(0,a._)(r||(r=i(["{propertyName: ","}"])),t.propertyName)}},code:function(e){var t=e.gen,n=e.schema,r=e.data,i=e.it;if(!(0,o.alwaysValidSchema)(i,n)){var s=t.name("valid");t.forIn("key",r,(function(n){e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},s),t.if((0,a.not)(s),(function(){e.error(!0),i.allErrors||t.break()}))})),e.ok(s)}}};t.default=s},9738:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5274),i={keyword:["then","else"],schemaType:["object","boolean"],code:function(e){var t=e.keyword,n=e.parentSchema,i=e.it;void 0===n.if&&(0,r.checkStrictMode)(i,'"'.concat(t,'" without "if" is ignored'))}};t.default=i},912:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m,v,g,y=n(861).default,_=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;var b=n(7361),x=n(5274),w=n(6205),S=n(5274);function E(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,b._)(a||(a=_(["Object.prototype.hasOwnProperty"])))})}function A(e,t,n){return(0,b._)(o||(o=_(["",".call(",", ",")"])),E(e),t,n)}function M(e,t,n,r){var i=(0,b._)(l||(l=_(["",""," === undefined"])),t,(0,b.getProperty)(n));return r?(0,b.or)(i,(0,b.not)(A(e,t,n))):i}function T(e){return e?Object.keys(e).filter((function(e){return"__proto__"!==e})):[]}t.checkReportMissingProp=function(e,t){var n=e.gen,i=e.data,a=e.it;n.if(M(n,i,t,a.opts.ownProperties),(function(){e.setParams({missingProperty:(0,b._)(r||(r=_(["",""])),t)},!0),e.error()}))},t.checkMissingProp=function(e,t,n){var r=e.gen,a=e.data,o=e.it.opts;return b.or.apply(void 0,y(t.map((function(e){return(0,b.and)(M(r,a,e,o.ownProperties),(0,b._)(i||(i=_([""," = ",""])),n,e))}))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=E,t.isOwnProperty=A,t.propertyInData=function(e,t,n,r){var i=(0,b._)(s||(s=_(["",""," !== undefined"])),t,(0,b.getProperty)(n));return r?(0,b._)(u||(u=_([""," && ",""])),i,A(e,t,n)):i},t.noPropertyInData=M,t.allSchemaProperties=T,t.schemaProperties=function(e,t){return T(t).filter((function(n){return!(0,x.alwaysValidSchema)(e,t[n])}))},t.callValidateCode=function(e,t,n,r){var i=e.schemaCode,a=e.data,o=e.it,s=o.gen,u=o.topSchemaRef,l=o.schemaPath,p=o.errorPath,m=e.it,v=r?(0,b._)(c||(c=_(["",", ",", ","",""])),i,a,u,l):a,g=[[w.default.instancePath,(0,b.strConcat)(w.default.instancePath,p)],[w.default.parentData,m.parentData],[w.default.parentDataProperty,m.parentDataProperty],[w.default.rootData,w.default.rootData]];m.opts.dynamicRef&&g.push([w.default.dynamicAnchors,w.default.dynamicAnchors]);var y=(0,b._)(f||(f=_(["",", ",""])),v,s.object.apply(s,g));return n!==b.nil?(0,b._)(d||(d=_(["",".call(",", ",")"])),t,n,y):(0,b._)(h||(h=_(["","(",")"])),t,y)};var k=(0,b._)(p||(p=_(["new RegExp"])));t.usePattern=function(e,t){var n=e.gen,r=e.it.opts,i=r.unicodeRegExp?"u":"",a=r.code.regExp,o=a(t,i);return n.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,b._)(m||(m=_(["","(",", ",")"])),"new RegExp"===a.code?k:(0,S.useFunc)(n,a),t,i)})},t.validateArray=function(e){var t=e.gen,n=e.data,r=e.keyword,i=e.it,a=t.name("valid");if(i.allErrors){var o=t.let("valid",!0);return s((function(){return t.assign(o,!1)})),o}return t.var(a,!0),s((function(){return t.break()})),a;function s(i){var o=t.const("len",(0,b._)(v||(v=_(["",".length"])),n));t.forRange("i",0,o,(function(n){e.subschema({keyword:r,dataProp:n,dataPropType:x.Type.Num},a),t.if((0,b.not)(a),i)}))}},t.validateUnion=function(e){var t=e.gen,n=e.schema,r=e.keyword,i=e.it;if(!Array.isArray(n))throw new Error("ajv implementation error");if(!n.some((function(e){return(0,x.alwaysValidSchema)(i,e)}))||i.opts.unevaluated){var a=t.let("valid",!1),o=t.name("_valid");t.block((function(){return n.forEach((function(n,i){var s=e.subschema({keyword:r,schemaProp:i,compositeRule:!0},o);t.assign(a,(0,b._)(g||(g=_([""," || ",""])),a,o)),e.mergeValidEvaluated(s,o)||t.if((0,b.not)(a))}))})),e.result(a,(function(){return e.reset()}),(function(){return e.error(!0)}))}}},765:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={keyword:"id",code:function(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(765),i=n(6441),a=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,i.default];t.default=a},6441:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;var h=n(7382),p=n(912),m=n(7361),v=n(6205),g=n(2859),y=n(5274),_={keyword:"$ref",schemaType:"string",code:function(e){var t=e.gen,n=e.schema,i=e.it,a=i.baseId,o=i.schemaEnv,s=i.validateName,u=i.opts,l=i.self,c=o.root;if(("#"===n||"#/"===n)&&a===c.baseId)return function(){if(o===c)return x(e,s,o,o.$async);var n=t.scopeValue("root",{ref:c});return x(e,(0,m._)(r||(r=d(["",".validate"])),n),c,c.$async)}();var f=g.resolveRef.call(l,c,a,n);if(void 0===f)throw new h.default(i.opts.uriResolver,a,n);return f instanceof g.SchemaEnv?function(t){var n=b(e,t);x(e,n,t,t.$async)}(f):function(r){var i=t.scopeValue("schema",!0===u.code.source?{ref:r,code:(0,m.stringify)(r)}:{ref:r}),a=t.name("valid"),o=e.subschema({schema:r,dataTypes:[],schemaPath:m.nil,topSchemaRef:i,errSchemaPath:n},a);e.mergeEvaluated(o),e.ok(a)}(f)}};function b(e,t){var n=e.gen;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,m._)(i||(i=d(["",".validate"])),n.scopeValue("wrapper",{ref:t}))}function x(e,t,n,r){var i=e.gen,h=e.it,g=h.allErrors,_=h.schemaEnv,b=h.opts.passContext?v.default.this:m.nil;function x(e){var t=(0,m._)(s||(s=d(["",".errors"])),e);i.assign(v.default.vErrors,(0,m._)(u||(u=d([""," === null ? "," : ",".concat(",")"])),v.default.vErrors,t,v.default.vErrors,t)),i.assign(v.default.errors,(0,m._)(l||(l=d(["",".length"])),v.default.vErrors))}function w(e){var t;if(h.opts.unevaluated){var r=null===(t=null===n||void 0===n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==h.props)if(r&&!r.dynamicProps)void 0!==r.props&&(h.props=y.mergeEvaluated.props(i,r.props,h.props));else{var a=i.var("props",(0,m._)(c||(c=d(["",".evaluated.props"])),e));h.props=y.mergeEvaluated.props(i,a,h.props,m.Name)}if(!0!==h.items)if(r&&!r.dynamicItems)void 0!==r.items&&(h.items=y.mergeEvaluated.items(i,r.items,h.items));else{var o=i.var("items",(0,m._)(f||(f=d(["",".evaluated.items"])),e));h.items=y.mergeEvaluated.items(i,o,h.items,m.Name)}}}r?function(){if(!_.$async)throw new Error("async schema referenced by sync schema");var n=i.let("valid");i.try((function(){i.code((0,m._)(a||(a=d(["await ",""])),(0,p.callValidateCode)(e,t,b))),w(t),g||i.assign(n,!0)}),(function(e){i.if((0,m._)(o||(o=d(["!("," instanceof ",")"])),e,h.ValidationError),(function(){return i.throw(e)})),x(e),g||i.assign(n,!1)})),e.ok(n)}():e.result((0,p.callValidateCode)(e,t,b),(function(){return w(t)}),(function(){return x(t)}))}t.getValidate=b,t.callRef=x,t.default=_},8116:function(e,t,n){"use strict";var r,i,a,o,s=n(4704).default,u=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var l=n(7361),c=n(6437),f=n(2859),d=n(5274),h={keyword:"discriminator",type:"object",schemaType:"object",error:{message:function(e){var t=e.params,n=t.discrError,r=t.tagName;return n===c.DiscrError.Tag?'tag "'.concat(r,'" must be string'):'value of tag "'.concat(r,'" must be in oneOf')},params:function(e){var t=e.params,n=t.discrError,i=t.tag,a=t.tagName;return(0,l._)(r||(r=u(["{error: ",", tag: ",", tagValue: ","}"])),n,a,i)}},code:function(e){var t=e.gen,n=e.data,r=e.schema,h=e.parentSchema,p=e.it,m=h.oneOf;if(!p.opts.discriminator)throw new Error("discriminator: requires discriminator option");var v=r.propertyName;if("string"!=typeof v)throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");var g=t.let("valid",!1),y=t.const("tag",(0,l._)(i||(i=u(["","",""])),n,(0,l.getProperty)(v)));function _(n){var r=t.name("valid"),i=e.subschema({keyword:"oneOf",schemaProp:n},r);return e.mergeEvaluated(i,l.Name),r}t.if((0,l._)(a||(a=u(["typeof ",' == "string"'])),y),(function(){return function(){var n=function(){for(var e,t={},n=u(h),r=!0,i=0;i<m.length;i++){var a=m[i];(null===a||void 0===a?void 0:a.$ref)&&!(0,d.schemaHasRulesButRef)(a,p.self.RULES)&&(a=f.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,null===a||void 0===a?void 0:a.$ref))instanceof f.SchemaEnv&&(a=a.schema);var o=null===(e=null===a||void 0===a?void 0:a.properties)||void 0===e?void 0:e[v];if("object"!=typeof o)throw new Error('discriminator: oneOf subschemas (or referenced schemas) must have "properties/'.concat(v,'"'));r=r&&(n||u(a)),l(o,i)}if(!r)throw new Error('discriminator: "'.concat(v,'" must be required'));return t;function u(e){var t=e.required;return Array.isArray(t)&&t.includes(v)}function l(e,t){if(e.const)c(e.const,t);else{if(!e.enum)throw new Error('discriminator: "properties/'.concat(v,'" must have "const" or "enum"'));var n,r=s(e.enum);try{for(r.s();!(n=r.n()).done;){c(n.value,t)}}catch(i){r.e(i)}finally{r.f()}}}function c(e,n){if("string"!=typeof e||e in t)throw new Error('discriminator: "'.concat(v,'" values must be unique strings'));t[e]=n}}();for(var r in t.if(!1),n)t.elseIf((0,l._)(o||(o=u([""," === ",""])),y,r)),t.assign(g,_(n[r]));t.else(),e.error(!1,{discrError:c.DiscrError.Mapping,tag:y,tagName:v}),t.endIf()}()}),(function(){return e.error(!1,{discrError:c.DiscrError.Tag,tag:y,tagName:v})})),e.ok(g)}};t.default=h},6437:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))},4978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(9366),a=n(7589),o=n(2598),s=n(2165),u=[r.default,i.default,(0,a.default)(),o.default,s.metadataVocabulary,s.contentVocabulary];t.default=u},2406:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m,v,g,y,_,b=n(7424).default,x=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var w=n(7361),S={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:function(e){var t=e.schemaCode;return(0,w.str)(r||(r=x(['must match format "','"'])),t)},params:function(e){var t=e.schemaCode;return(0,w._)(i||(i=x(["{format: ","}"])),t)}},code:function(e,t){var n=e.gen,r=e.data,i=e.$data,S=e.schema,E=e.schemaCode,A=e.it,M=A.opts,T=A.errSchemaPath,k=A.schemaEnv,C=A.self;M.validateFormats&&(i?function(){var i=n.scopeValue("formats",{ref:C.formats,code:M.code.formats}),m=n.const("fDef",(0,w._)(a||(a=x(["","[","]"])),i,E)),v=n.let("fType"),g=n.let("format");n.if((0,w._)(o||(o=x(["typeof ",' == "object" && !('," instanceof RegExp)"])),m,m),(function(){return n.assign(v,(0,w._)(s||(s=x(["",'.type || "string"'])),m)).assign(g,(0,w._)(u||(u=x(["",".validate"])),m))}),(function(){return n.assign(v,(0,w._)(l||(l=x(['"string"'])))).assign(g,m)})),e.fail$data((0,w.or)(!1===M.strictSchema?w.nil:(0,w._)(c||(c=x([""," && !",""])),E,g),function(){var e=k.$async?(0,w._)(f||(f=x(["(",".async ? await ","(",") : ","(","))"])),m,g,r,g,r):(0,w._)(d||(d=x(["","(",")"])),g,r),n=(0,w._)(h||(h=x(["(typeof ",' == "function" ? '," : ",".test(","))"])),g,e,g,r);return(0,w._)(p||(p=x([""," && "," !== true && "," === "," && !",""])),g,g,v,t,n)}()))}():function(){var i=C.formats[S];if(!i)return void function(){if(!1===M.strictSchema)return void C.logger.warn(e());throw new Error(e());function e(){return'unknown format "'.concat(S,'" ignored in schema at path "').concat(T,'"')}}();if(!0===i)return;var a=function(e){var t=e instanceof RegExp?(0,w.regexpCode)(e):M.code.formats?(0,w._)(m||(m=x(["","",""])),M.code.formats,(0,w.getProperty)(S)):void 0,r=n.scopeValue("formats",{key:S,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,(0,w._)(v||(v=x(["",".validate"])),r)];return["string",e,r]}(i),o=b(a,3),s=o[0],u=o[1],l=o[2];s===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!k.$async)throw new Error("async format in sync schema");return(0,w._)(g||(g=x(["await ","(",")"])),l,r)}return"function"==typeof u?(0,w._)(y||(y=x(["","(",")"])),l,r):(0,w._)(_||(_=x(["",".test(",")"])),l,r)}())}())}};t.default=S},2598:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[n(2406).default];t.default=r},2165:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},7847:function(e,t,n){"use strict";var r,i,a,o=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(7361),u=n(5274),l=n(6188),c={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:function(e){var t=e.schemaCode;return(0,s._)(r||(r=o(["{allowedValue: ","}"])),t)}},code:function(e){var t=e.gen,n=e.data,r=e.$data,c=e.schemaCode,f=e.schema;r||f&&"object"==typeof f?e.fail$data((0,s._)(i||(i=o(["!","(",", ",")"])),(0,u.useFunc)(t,l.default),n,c)):e.fail((0,s._)(a||(a=o([""," !== ",""])),f,n))}};t.default=c},2959:function(e,t,n){"use strict";var r,i,a,o,s=n(861).default,u=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var l=n(7361),c=n(5274),f=n(6188),d={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:function(e){var t=e.schemaCode;return(0,l._)(r||(r=u(["{allowedValues: ","}"])),t)}},code:function(e){var t=e.gen,n=e.data,r=e.$data,d=e.schema,h=e.schemaCode,p=e.it;if(!r&&0===d.length)throw new Error("enum must have non-empty array");var m,v,g=d.length>=p.opts.loopEnum,y=function(){return null!==m&&void 0!==m?m:m=(0,c.useFunc)(t,f.default)};if(g||r)v=t.let("valid"),e.block$data(v,(function(){t.assign(v,!1),t.forOf("v",h,(function(e){return t.if((0,l._)(i||(i=u(["","(",", ",")"])),y(),n,e),(function(){return t.assign(v,!0).break()}))}))}));else{if(!Array.isArray(d))throw new Error("ajv implementation error");var _=t.const("vSchema",h);v=l.or.apply(void 0,s(d.map((function(e,t){return function(e,t){var r=d[t];return"object"===typeof r&&null!==r?(0,l._)(a||(a=u(["","(",", ","[","])"])),y(),n,e,t):(0,l._)(o||(o=u([""," === ",""])),n,r)}(_,t)}))))}e.pass(v)}};t.default=d},9366:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5061),i=n(8522),a=n(4168),o=n(5096),s=n(426),u=n(375),l=n(8845),c=n(3089),f=n(7847),d=n(2959),h=[r.default,i.default,a.default,o.default,s.default,u.default,l.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,d.default];t.default=h},8845:function(e,t,n){"use strict";var r,i,a,o=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(7361),u={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:function(e){var t=e.keyword,n=e.schemaCode,i="maxItems"===t?"more":"fewer";return(0,s.str)(r||(r=o(["must NOT have "," than "," items"])),i,n)},params:function(e){var t=e.schemaCode;return(0,s._)(i||(i=o(["{limit: ","}"])),t)}},code:function(e){var t=e.keyword,n=e.data,r=e.schemaCode,i="maxItems"===t?s.operators.GT:s.operators.LT;e.fail$data((0,s._)(a||(a=o(["",".length "," ",""])),n,i,r))}};t.default=u},4168:function(e,t,n){"use strict";var r,i,a,o,s,u=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var l=n(7361),c=n(5274),f=n(6962),d={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:function(e){var t=e.keyword,n=e.schemaCode,i="maxLength"===t?"more":"fewer";return(0,l.str)(r||(r=u(["must NOT have "," than "," characters"])),i,n)},params:function(e){var t=e.schemaCode;return(0,l._)(i||(i=u(["{limit: ","}"])),t)}},code:function(e){var t=e.keyword,n=e.data,r=e.schemaCode,i=e.it,d="maxLength"===t?l.operators.GT:l.operators.LT,h=!1===i.opts.unicode?(0,l._)(a||(a=u(["",".length"])),n):(0,l._)(o||(o=u(["","(",")"])),(0,c.useFunc)(e.gen,f.default),n);e.fail$data((0,l._)(s||(s=u([""," "," ",""])),h,d,r))}};t.default=d},5061:function(e,t,n){"use strict";var r,i,a,o=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(7361),u=s.operators,l={maximum:{okStr:"<=",ok:u.LTE,fail:u.GT},minimum:{okStr:">=",ok:u.GTE,fail:u.LT},exclusiveMaximum:{okStr:"<",ok:u.LT,fail:u.GTE},exclusiveMinimum:{okStr:">",ok:u.GT,fail:u.LTE}},c={message:function(e){var t=e.keyword,n=e.schemaCode;return(0,s.str)(r||(r=o(["must be "," ",""])),l[t].okStr,n)},params:function(e){var t=e.keyword,n=e.schemaCode;return(0,s._)(i||(i=o(["{comparison: ",", limit: ","}"])),l[t].okStr,n)}},f={keyword:Object.keys(l),type:"number",schemaType:"number",$data:!0,error:c,code:function(e){var t=e.keyword,n=e.data,r=e.schemaCode;e.fail$data((0,s._)(a||(a=o([""," "," "," || isNaN(",")"])),n,l[t].fail,r,n))}};t.default=f},426:function(e,t,n){"use strict";var r,i,a,o=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(7361),u={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:function(e){var t=e.keyword,n=e.schemaCode,i="maxProperties"===t?"more":"fewer";return(0,s.str)(r||(r=o(["must NOT have "," than "," properties"])),i,n)},params:function(e){var t=e.schemaCode;return(0,s._)(i||(i=o(["{limit: ","}"])),t)}},code:function(e){var t=e.keyword,n=e.data,r=e.schemaCode,i="maxProperties"===t?s.operators.GT:s.operators.LT;e.fail$data((0,s._)(a||(a=o(["Object.keys(",").length "," ",""])),n,i,r))}};t.default=u},8522:function(e,t,n){"use strict";var r,i,a,o,s,u=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var l=n(7361),c={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:function(e){var t=e.schemaCode;return(0,l.str)(r||(r=u(["must be multiple of ",""])),t)},params:function(e){var t=e.schemaCode;return(0,l._)(i||(i=u(["{multipleOf: ","}"])),t)}},code:function(e){var t=e.gen,n=e.data,r=e.schemaCode,i=e.it.opts.multipleOfPrecision,c=t.let("res"),f=i?(0,l._)(a||(a=u(["Math.abs(Math.round(",") - ",") > 1e-",""])),c,c,i):(0,l._)(o||(o=u([""," !== parseInt(",")"])),c,c);e.fail$data((0,l._)(s||(s=u(["("," === 0 || ("," = ","/",", ","))"])),r,c,n,r,f))}};t.default=c},5096:function(e,t,n){"use strict";var r,i,a,o,s=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var u=n(912),l=n(7361),c={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:function(e){var t=e.schemaCode;return(0,l.str)(r||(r=s(['must match pattern "','"'])),t)},params:function(e){var t=e.schemaCode;return(0,l._)(i||(i=s(["{pattern: ","}"])),t)}},code:function(e){var t=e.data,n=e.$data,r=e.schema,i=e.schemaCode,c=e.it.opts.unicodeRegExp?"u":"",f=n?(0,l._)(a||(a=s(["(new RegExp(",", ","))"])),i,c):(0,u.usePattern)(e,r);e.fail$data((0,l._)(o||(o=s(["!",".test(",")"])),f,t))}};t.default=c},375:function(e,t,n){"use strict";var r,i,a=n(4704).default,o=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(912),u=n(7361),l=n(5274),c={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:function(e){var t=e.params.missingProperty;return(0,u.str)(r||(r=o(["must have required property '","'"])),t)},params:function(e){var t=e.params.missingProperty;return(0,u._)(i||(i=o(["{missingProperty: ","}"])),t)}},code:function(e){var t=e.gen,n=e.schema,r=e.schemaCode,i=e.data,o=e.$data,c=e.it,f=c.opts;if(o||0!==n.length){var d=n.length>=f.loopRequired;if(c.allErrors?function(){if(d||o)e.block$data(u.nil,b);else{var t,r=a(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;(0,s.checkReportMissingProp)(e,i)}}catch(l){r.e(l)}finally{r.f()}}}():function(){var a=t.let("missing");if(d||o){var l=t.let("valid",!0);e.block$data(l,(function(){return function(n,a){e.setParams({missingProperty:n}),t.forOf(n,r,(function(){t.assign(a,(0,s.propertyInData)(t,i,n,f.ownProperties)),t.if((0,u.not)(a),(function(){e.error(),t.break()}))}),u.nil)}(a,l)})),e.ok(l)}else t.if((0,s.checkMissingProp)(e,n,a)),(0,s.reportMissingProp)(e,a),t.else()}(),f.strictRequired){var h,p=e.parentSchema.properties,m=e.it.definedProperties,v=a(n);try{for(v.s();!(h=v.n()).done;){var g=h.value;if(void 0===(null===p||void 0===p?void 0:p[g])&&!m.has(g)){var y=c.schemaEnv.baseId+c.errSchemaPath,_='required property "'.concat(g,'" is not defined at "').concat(y,'" (strictRequired)');(0,l.checkStrictMode)(c,_,c.opts.strictRequired)}}}catch(x){v.e(x)}finally{v.f()}}}function b(){t.forOf("prop",r,(function(n){e.setParams({missingProperty:n}),t.if((0,s.noPropertyInData)(t,i,n,f.ownProperties),(function(){return e.error()}))}))}}};t.default=c},3089:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m,v,g,y,_,b=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var x=n(9688),w=n(7361),S=n(5274),E=n(6188),A={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:function(e){var t=e.params,n=t.i,i=t.j;return(0,w.str)(r||(r=b(["must NOT have duplicate items (items ## "," and "," are identical)"])),i,n)},params:function(e){var t=e.params,n=t.i,r=t.j;return(0,w._)(i||(i=b(["{i: ",", j: ","}"])),n,r)}},code:function(e){var t=e.gen,n=e.data,r=e.$data,i=e.schema,A=e.parentSchema,M=e.schemaCode,T=e.it;if(r||i){var k=t.let("valid"),C=A.items?(0,x.getSchemaTypes)(A.items):[];e.block$data(k,(function(){var r=t.let("i",(0,w._)(o||(o=b(["",".length"])),n)),i=t.let("j");e.setParams({i:r,j:i}),t.assign(k,!0),t.if((0,w._)(s||(s=b([""," > 1"])),r),(function(){return(C.length>0&&!C.some((function(e){return"object"===e||"array"===e}))?P:R)(r,i)}))}),(0,w._)(a||(a=b([""," === false"])),M)),e.ok(k)}function P(r,i){var a=t.name("item"),o=(0,x.checkDataTypes)(C,a,T.opts.strictNumbers,x.DataType.Wrong),s=t.const("indices",(0,w._)(u||(u=b(["{}"]))));t.for((0,w._)(l||(l=b([";","--;"])),r),(function(){t.let(a,(0,w._)(c||(c=b(["","[","]"])),n,r)),t.if(o,(0,w._)(f||(f=b(["continue"])))),C.length>1&&t.if((0,w._)(d||(d=b(["typeof ",' == "string"'])),a),(0,w._)(h||(h=b(["",' += "_"'])),a)),t.if((0,w._)(p||(p=b(["typeof ","[",'] == "number"'])),s,a),(function(){t.assign(i,(0,w._)(m||(m=b(["","[","]"])),s,a)),e.error(),t.assign(k,!1).break()})).code((0,w._)(v||(v=b(["","[","] = ",""])),s,a,r))}))}function R(r,i){var a=(0,S.useFunc)(t,E.default),o=t.name("outer");t.label(o).for((0,w._)(g||(g=b([";","--;"])),r),(function(){return t.for((0,w._)(y||(y=b([""," = ","; ","--;"])),i,r,i),(function(){return t.if((0,w._)(_||(_=b(["","(","[","], ","[","])"])),a,n,r,n,i),(function(){e.error(),t.assign(k,!1).break(o)}))}))}))}}};t.default=A},6740:function(e){"use strict";var t=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function n(e,r,i,a,o,s,u,l,c,f){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var d in r(a,o,s,u,l,c,f),a){var h=a[d];if(Array.isArray(h)){if(d in t.arrayKeywords)for(var p=0;p<h.length;p++)n(e,r,i,h[p],o+"/"+d+"/"+p,s,o,d,a,p)}else if(d in t.propsKeywords){if(h&&"object"==typeof h)for(var m in h)n(e,r,i,h[m],o+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,o,d,a,m)}else(d in t.keywords||e.allKeys&&!(d in t.skipKeywords))&&n(e,r,i,h,o+"/"+d,s,o,d,a)}i(a,o,s,u,l,c,f)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},6683:function(e,t,n){"use strict";var r=n(7424).default,i=n(2122).default;function a(e,t){return{validate:e,compare:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:a(u,l),time:a(f,d),"date-time":a((function(e){var t=e.split(h);return 2===t.length&&u(t[0])&&f(t[1],!0)}),p),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return m.test(e)&&v.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:http[s\u017F]?|ftp):\/\/(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!(?:10|127)(?:\.[0-9]{1,3}){3})(?!(?:169\.254|192\.168)(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+\x2D)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+\x2D)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:(?![\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])*)?$/i,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(x.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return g.lastIndex=0,g.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=_&&e>=y}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:b},double:{type:"number",validate:b},password:!0,binary:!0},t.fastFormats=i(i({},t.fullFormats),{},{date:a(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,l),time:a(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,d),"date-time":a(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,p),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i}),t.formatNames=Object.keys(t.fullFormats);var o=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function u(e){var t=o.exec(e);if(!t)return!1;var n=+t[1],r=+t[2],i=+t[3];return r>=1&&r<=12&&i>=1&&i<=(2===r&&function(e){return e%4===0&&(e%100!==0||e%400===0)}(n)?29:s[r])}function l(e,t){if(e&&t)return e>t?1:e<t?-1:0}var c=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function f(e,t){var n=c.exec(e);if(!n)return!1;var r=+n[1],i=+n[2],a=+n[3],o=n[5];return(r<=23&&i<=59&&a<=59||23===r&&59===i&&60===a)&&(!t||""!==o)}function d(e,t){if(e&&t){var n=c.exec(e),r=c.exec(t);if(n&&r)return(e=n[1]+n[2]+n[3]+(n[4]||""))>(t=r[1]+r[2]+r[3]+(r[4]||""))?1:e<t?-1:0}}var h=/t|\s/i;function p(e,t){if(e&&t){var n=e.split(h),i=r(n,2),a=i[0],o=i[1],s=t.split(h),u=r(s,2),c=u[0],f=u[1],p=l(a,c);if(void 0!==p)return p||d(o,f)}}var m=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;var g=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;var y=-Math.pow(2,31),_=Math.pow(2,31)-1;function b(){return!0}var x=/[^\\]\\Z/},429:function(e,t,n){"use strict";var r,i=n(4704).default,a=n(9400).default,o=n(7424).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(6683),u=n(9223),l=n(6774),c=new l.Name("fullFormats"),f=new l.Name("fastFormats"),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keywords:!0};if(Array.isArray(t))return h(e,t,s.fullFormats,c),e;var n="fast"===t.mode?[s.fastFormats,f]:[s.fullFormats,c],r=o(n,2),i=r[0],a=r[1];return h(e,t.formats||s.formatNames,i,a),t.keywords&&u.default(e),e};function h(e,t,n,o){var s,u;null!==(s=(u=e.opts.code).formats)&&void 0!==s||(u.formats=l._(r||(r=a(['require("ajv-formats/dist/formats").',""])),o));var c,f=i(t);try{for(f.s();!(c=f.n()).done;){var d=c.value;e.addFormat(d,n[d])}}catch(h){f.e(h)}finally{f.f()}}d.get=function(e){var t=("fast"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full")?s.fastFormats:s.fullFormats)[e];if(!t)throw new Error('Unknown format "'.concat(e,'"'));return t},e.exports=t=d,Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},9223:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;var d=n(235),h=n(6774),p=h.operators,m={formatMaximum:{okStr:"<=",ok:p.LTE,fail:p.GT},formatMinimum:{okStr:">=",ok:p.GTE,fail:p.LT},formatExclusiveMaximum:{okStr:"<",ok:p.LT,fail:p.GTE},formatExclusiveMinimum:{okStr:">",ok:p.GT,fail:p.LTE}},v={message:function(e){var t=e.keyword,n=e.schemaCode;return h.str(r||(r=f(["should be "," ",""])),m[t].okStr,n)},params:function(e){var t=e.keyword,n=e.schemaCode;return h._(i||(i=f(["{comparison: ",", limit: ","}"])),m[t].okStr,n)}};t.formatLimitDefinition={keyword:Object.keys(m),type:"string",schemaType:"string",$data:!0,error:v,code:function(e){var t=e.gen,n=e.data,r=e.schemaCode,i=e.keyword,p=e.it,v=p.opts,g=p.self;if(v.validateFormats){var y=new d.KeywordCxt(p,g.RULES.all.format.definition,"format");y.$data?function(){var n=t.scopeValue("formats",{ref:g.formats,code:v.code.formats}),r=t.const("fmt",h._(a||(a=f(["","[","]"])),n,y.schemaCode));e.fail$data(h.or(h._(o||(o=f(["typeof ",' != "object"'])),r),h._(s||(s=f([""," instanceof RegExp"])),r),h._(u||(u=f(["typeof ",'.compare != "function"'])),r),_(r)))}():function(){var n=y.schema,r=g.formats[n];if(!r||!0===r)return;if("object"!=typeof r||r instanceof RegExp||"function"!=typeof r.compare)throw new Error('"'.concat(i,'": format "').concat(n,'" does not define "compare" function'));var a=t.scopeValue("formats",{key:n,ref:r,code:v.code.formats?h._(l||(l=f(["","",""])),v.code.formats,h.getProperty(n)):void 0});e.fail$data(_(a))}()}function _(e){return h._(c||(c=f(["",".compare(",", ",") "," 0"])),e,n,r,m[i].fail)}},dependencies:["format"]};t.default=function(e){return e.addKeyword(t.formatLimitDefinition),e}},235:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1588).default,o=n(3808).default,s=n(1655).default,u=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var l=n(8549),c=n(7848),f=n(8819),d=n(74),h=["/properties"],p="http://json-schema.org/draft-07/schema",m=function(e){s(n,e);var t=u(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"_addVocabularies",value:function(){var e=this;a(o(n.prototype),"_addVocabularies",this).call(this),c.default.forEach((function(t){return e.addVocabulary(t)})),this.opts.discriminator&&this.addKeyword(f.default)}},{key:"_addDefaultMetaSchema",value:function(){if(a(o(n.prototype),"_addDefaultMetaSchema",this).call(this),this.opts.meta){var e=this.opts.$data?this.$dataMetaSchema(d,h):d;this.addMetaSchema(e,p,!1),this.refs["http://json-schema.org/schema"]=p}}},{key:"defaultMeta",value:function(){return this.opts.defaultMeta=a(o(n.prototype),"defaultMeta",this).call(this)||(this.getSchema(p)?p:void 0)}}]),n}(l.default);e.exports=t=m,Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var v=n(7733);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return v.KeywordCxt}});var g=n(6774);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return g._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return g.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return g.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return g.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return g.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return g.CodeGen}});var y=n(2605);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return y.default}});var _=n(6594);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return _.default}})},4399:function(e,t,n){"use strict";var r,i,a=n(9400).default,o=n(861).default,s=n(8416).default,u=n(1655).default,l=n(6389).default,c=n(9728).default,f=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;var d=c((function e(){f(this,e)}));t._CodeOrName=d,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var h=function(e){u(r,e);var n=l(r);function r(e){var i;if(f(this,r),i=n.call(this),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");return i.str=e,i}return c(r,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){return!1}},{key:"names",get:function(){return s({},this.str,1)}}]),r}(d);t.Name=h;var p=function(e){u(n,e);var t=l(n);function n(e){var r;return f(this,n),(r=t.call(this))._items="string"===typeof e?[e]:e,r}return c(n,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){if(this._items.length>1)return!1;var e=this._items[0];return""===e||'""'===e}},{key:"str",get:function(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce((function(e,t){return"".concat(e).concat(t)}),"")}},{key:"names",get:function(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce((function(e,t){return t instanceof h&&(e[t.str]=(e[t.str]||0)+1),e}),{})}}]),n}(d);function m(e){for(var t=[e[0]],n=0,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];for(;n<i.length;)y(t,i[n]),t.push(e[++n]);return new p(t)}t._Code=p,t.nil=new p(""),t._=m;var v=new p("+");function g(e){for(var t=[b(e[0])],n=0,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];for(;n<i.length;)t.push(v),y(t,i[n]),t.push(v,b(e[++n]));return function(e){var t=1;for(;t<e.length-1;){if(e[t]===v){var n=_(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(t),new p(t)}function y(e,t){var n;t instanceof p?e.push.apply(e,o(t._items)):t instanceof h?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:b(Array.isArray(n)?n.join(","):n))}function _(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof h||'"'!==e[e.length-1])return;return"string"!=typeof t?"".concat(e.slice(0,-1)).concat(t,'"'):'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof h?void 0:'"'.concat(e).concat(t.slice(1))}function b(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=g,t.addCodeArg=y,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:g(r||(r=a(["","",""])),e,t)},t.stringify=function(e){return new p(b(e))},t.safeStringify=b,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new p(".".concat(e)):m(i||(i=a(["[","]"])),e)},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new p("".concat(e));throw new Error("CodeGen: invalid export name: ".concat(e,", use explicit $id name mapping"))},t.regexpCode=function(e){return new p(e.toString())}},6774:function(e,t,n){"use strict";var r,i,a,o,s,u,l=n(9400).default,c=n(7424).default,f=n(1588).default,d=n(3808).default,h=n(861).default,p=n(2122).default,m=n(1655).default,v=n(6389).default,g=n(6690).default,y=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;var _=n(4399),b=n(824),x=n(4399);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return x._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return x.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return x.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return x.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return x.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return x.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return x.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return x.Name}});var w=n(824);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return w.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return w.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return w.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return w.varKinds}}),t.operators={GT:new _._Code(">"),GTE:new _._Code(">="),LT:new _._Code("<"),LTE:new _._Code("<="),EQ:new _._Code("==="),NEQ:new _._Code("!=="),NOT:new _._Code("!"),OR:new _._Code("||"),AND:new _._Code("&&"),ADD:new _._Code("+")};var S=function(){function e(){g(this,e)}return y(e,[{key:"optimizeNodes",value:function(){return this}},{key:"optimizeNames",value:function(e,t){return this}}]),e}(),E=function(e){m(n,e);var t=v(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).varKind=e,a.name=r,a.rhs=i,a}return y(n,[{key:"render",value:function(e){var t=e.es5,n=e._n,r=t?b.varKinds.var:this.varKind,i=void 0===this.rhs?"":" = ".concat(this.rhs);return"".concat(r," ").concat(this.name).concat(i,";")+n}},{key:"optimizeNames",value:function(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,e,t)),this}},{key:"names",get:function(){return this.rhs instanceof _._CodeOrName?this.rhs.names:{}}}]),n}(S),A=function(e){m(n,e);var t=v(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).lhs=e,a.rhs=r,a.sideEffects=i,a}return y(n,[{key:"render",value:function(e){var t=e._n;return"".concat(this.lhs," = ").concat(this.rhs,";")+t}},{key:"optimizeNames",value:function(e,t){if(!(this.lhs instanceof _.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=X(this.rhs,e,t),this}},{key:"names",get:function(){return q(this.lhs instanceof _.Name?{}:p({},this.lhs.names),this.rhs)}}]),n}(S),M=function(e){m(n,e);var t=v(n);function n(e,r,i,a){var o;return g(this,n),(o=t.call(this,e,i,a)).op=r,o}return y(n,[{key:"render",value:function(e){var t=e._n;return"".concat(this.lhs," ").concat(this.op,"= ").concat(this.rhs,";")+t}}]),n}(A),T=function(e){m(n,e);var t=v(n);function n(e){var r;return g(this,n),(r=t.call(this)).label=e,r.names={},r}return y(n,[{key:"render",value:function(e){var t=e._n;return"".concat(this.label,":")+t}}]),n}(S),k=function(e){m(n,e);var t=v(n);function n(e){var r;return g(this,n),(r=t.call(this)).label=e,r.names={},r}return y(n,[{key:"render",value:function(e){var t=e._n,n=this.label?" ".concat(this.label):"";return"break".concat(n,";")+t}}]),n}(S),C=function(e){m(n,e);var t=v(n);function n(e){var r;return g(this,n),(r=t.call(this)).error=e,r}return y(n,[{key:"render",value:function(e){var t=e._n;return"throw ".concat(this.error,";")+t}},{key:"names",get:function(){return this.error.names}}]),n}(S),P=function(e){m(n,e);var t=v(n);function n(e){var r;return g(this,n),(r=t.call(this)).code=e,r}return y(n,[{key:"render",value:function(e){var t=e._n;return"".concat(this.code,";")+t}},{key:"optimizeNodes",value:function(){return"".concat(this.code)?this:void 0}},{key:"optimizeNames",value:function(e,t){return this.code=X(this.code,e,t),this}},{key:"names",get:function(){return this.code instanceof _._CodeOrName?this.code.names:{}}}]),n}(S),R=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return g(this,n),(e=t.call(this)).nodes=r,e}return y(n,[{key:"render",value:function(e){return this.nodes.reduce((function(t,n){return t+n.render(e)}),"")}},{key:"optimizeNodes",value:function(){for(var e=this.nodes,t=e.length;t--;){var n=e[t].optimizeNodes();Array.isArray(n)?e.splice.apply(e,[t,1].concat(h(n))):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}},{key:"optimizeNames",value:function(e,t){for(var n=this.nodes,r=n.length;r--;){var i=n[r];i.optimizeNames(e,t)||(K(e,i.names),n.splice(r,1))}return n.length>0?this:void 0}},{key:"names",get:function(){return this.nodes.reduce((function(e,t){return W(e,t.names)}),{})}}]),n}(S),N=function(e){m(n,e);var t=v(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n,[{key:"render",value:function(e){return"{"+e._n+f(d(n.prototype),"render",this).call(this,e)+"}"+e._n}}]),n}(R),O=function(e){m(n,e);var t=v(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n)}(R),I=function(e){m(n,e);var t=v(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n)}(N);I.kind="else";var L=function(e){m(n,e);var t=v(n);function n(e,r){var i;return g(this,n),(i=t.call(this,r)).condition=e,i}return y(n,[{key:"render",value:function(e){var t="if(".concat(this.condition,")")+f(d(n.prototype),"render",this).call(this,e);return this.else&&(t+="else "+this.else.render(e)),t}},{key:"optimizeNodes",value:function(){f(d(n.prototype),"optimizeNodes",this).call(this);var e=this.condition;if(!0===e)return this.nodes;var t=this.else;if(t){var r=t.optimizeNodes();t=this.else=Array.isArray(r)?new I(r):r}return t?!1===e?t instanceof n?t:t.nodes:this.nodes.length?this:new n(Y(e),t instanceof n?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}},{key:"optimizeNames",value:function(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),f(d(n.prototype),"optimizeNames",this).call(this,e,t)||this.else)return this.condition=X(this.condition,e,t),this}},{key:"names",get:function(){var e=f(d(n.prototype),"names",this);return q(e,this.condition),this.else&&W(e,this.else.names),e}}]),n}(N);L.kind="if";var D=function(e){m(n,e);var t=v(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n)}(N);D.kind="for";var U=function(e){m(n,e);var t=v(n);function n(e){var r;return g(this,n),(r=t.call(this)).iteration=e,r}return y(n,[{key:"render",value:function(e){return"for(".concat(this.iteration,")")+f(d(n.prototype),"render",this).call(this,e)}},{key:"optimizeNames",value:function(e,t){if(f(d(n.prototype),"optimizeNames",this).call(this,e,t))return this.iteration=X(this.iteration,e,t),this}},{key:"names",get:function(){return W(f(d(n.prototype),"names",this),this.iteration.names)}}]),n}(D),F=function(e){m(n,e);var t=v(n);function n(e,r,i,a){var o;return g(this,n),(o=t.call(this)).varKind=e,o.name=r,o.from=i,o.to=a,o}return y(n,[{key:"render",value:function(e){var t=e.es5?b.varKinds.var:this.varKind,r=this.name,i=this.from,a=this.to;return"for(".concat(t," ").concat(r,"=").concat(i,"; ").concat(r,"<").concat(a,"; ").concat(r,"++)")+f(d(n.prototype),"render",this).call(this,e)}},{key:"names",get:function(){var e=q(f(d(n.prototype),"names",this),this.from);return q(e,this.to)}}]),n}(D),j=function(e){m(n,e);var t=v(n);function n(e,r,i,a){var o;return g(this,n),(o=t.call(this)).loop=e,o.varKind=r,o.name=i,o.iterable=a,o}return y(n,[{key:"render",value:function(e){return"for(".concat(this.varKind," ").concat(this.name," ").concat(this.loop," ").concat(this.iterable,")")+f(d(n.prototype),"render",this).call(this,e)}},{key:"optimizeNames",value:function(e,t){if(f(d(n.prototype),"optimizeNames",this).call(this,e,t))return this.iterable=X(this.iterable,e,t),this}},{key:"names",get:function(){return W(f(d(n.prototype),"names",this),this.iterable.names)}}]),n}(D),B=function(e){m(n,e);var t=v(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).name=e,a.args=r,a.async=i,a}return y(n,[{key:"render",value:function(e){var t=this.async?"async ":"";return"".concat(t,"function ").concat(this.name,"(").concat(this.args,")")+f(d(n.prototype),"render",this).call(this,e)}}]),n}(N);B.kind="func";var z=function(e){m(n,e);var t=v(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n,[{key:"render",value:function(e){return"return "+f(d(n.prototype),"render",this).call(this,e)}}]),n}(R);z.kind="return";var V=function(e){m(n,e);var t=v(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n,[{key:"render",value:function(e){var t="try"+f(d(n.prototype),"render",this).call(this,e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}},{key:"optimizeNodes",value:function(){var e,t;return f(d(n.prototype),"optimizeNodes",this).call(this),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}},{key:"optimizeNames",value:function(e,t){var r,i;return f(d(n.prototype),"optimizeNames",this).call(this,e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(i=this.finally)||void 0===i||i.optimizeNames(e,t),this}},{key:"names",get:function(){var e=f(d(n.prototype),"names",this);return this.catch&&W(e,this.catch.names),this.finally&&W(e,this.finally.names),e}}]),n}(N),H=function(e){m(n,e);var t=v(n);function n(e){var r;return g(this,n),(r=t.call(this)).error=e,r}return y(n,[{key:"render",value:function(e){return"catch(".concat(this.error,")")+f(d(n.prototype),"render",this).call(this,e)}}]),n}(N);H.kind="catch";var G=function(e){m(n,e);var t=v(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n,[{key:"render",value:function(e){return"finally"+f(d(n.prototype),"render",this).call(this,e)}}]),n}(N);G.kind="finally";var Z=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(this,e),this._values={},this._blockStarts=[],this._constants={},this.opts=p(p({},n),{},{_n:n.lines?"\n":""}),this._extScope=t,this._scope=new b.Scope({parent:t}),this._nodes=[new O]}return y(e,[{key:"toString",value:function(){return this._root.render(this.opts)}},{key:"name",value:function(e){return this._scope.name(e)}},{key:"scopeName",value:function(e){return this._extScope.name(e)}},{key:"scopeValue",value:function(e,t){var n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}},{key:"getScopeValue",value:function(e,t){return this._extScope.getValue(e,t)}},{key:"scopeRefs",value:function(e){return this._extScope.scopeRefs(e,this._values)}},{key:"scopeCode",value:function(){return this._extScope.scopeCode(this._values)}},{key:"_def",value:function(e,t,n,r){var i=this._scope.toName(t);return void 0!==n&&r&&(this._constants[i.str]=n),this._leafNode(new E(e,i,n)),i}},{key:"const",value:function(e,t,n){return this._def(b.varKinds.const,e,t,n)}},{key:"let",value:function(e,t,n){return this._def(b.varKinds.let,e,t,n)}},{key:"var",value:function(e,t,n){return this._def(b.varKinds.var,e,t,n)}},{key:"assign",value:function(e,t,n){return this._leafNode(new A(e,t,n))}},{key:"add",value:function(e,n){return this._leafNode(new M(e,t.operators.ADD,n))}},{key:"code",value:function(e){return"function"==typeof e?e():e!==_.nil&&this._leafNode(new P(e)),this}},{key:"object",value:function(){for(var e=["{"],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=c(a[i],2),s=o[0],u=o[1];e.length>1&&e.push(","),e.push(s),(s!==u||this.opts.es5)&&(e.push(":"),(0,_.addCodeArg)(e,u))}return e.push("}"),new _._Code(e)}},{key:"if",value:function(e,t,n){if(this._blockNode(new L(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}},{key:"elseIf",value:function(e){return this._elseNode(new L(e))}},{key:"else",value:function(){return this._elseNode(new I)}},{key:"endIf",value:function(){return this._endBlockNode(L,I)}},{key:"_for",value:function(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}},{key:"for",value:function(e,t){return this._for(new U(e),t)}},{key:"forRange",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.opts.es5?b.varKinds.var:b.varKinds.let,a=this._scope.toName(e);return this._for(new F(i,a,t,n),(function(){return r(a)}))}},{key:"forOf",value:function(e,t,n){var a=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.varKinds.const,s=this._scope.toName(e);if(this.opts.es5){var u=t instanceof _.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,_._)(r||(r=l(["",".length"])),u),(function(e){a.var(s,(0,_._)(i||(i=l(["","[","]"])),u,e)),n(s)}))}return this._for(new j("of",o,s,t),(function(){return n(s)}))}},{key:"forIn",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.es5?b.varKinds.var:b.varKinds.const;if(this.opts.ownProperties)return this.forOf(e,(0,_._)(a||(a=l(["Object.keys(",")"])),t),n);var i=this._scope.toName(e);return this._for(new j("in",r,i,t),(function(){return n(i)}))}},{key:"endFor",value:function(){return this._endBlockNode(D)}},{key:"label",value:function(e){return this._leafNode(new T(e))}},{key:"break",value:function(e){return this._leafNode(new k(e))}},{key:"return",value:function(e){var t=new z;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(z)}},{key:"try",value:function(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');var r=new V;if(this._blockNode(r),this.code(e),t){var i=this.name("e");this._currNode=r.catch=new H(i),t(i)}return n&&(this._currNode=r.finally=new G,this.code(n)),this._endBlockNode(H,G)}},{key:"throw",value:function(e){return this._leafNode(new C(e))}},{key:"block",value:function(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}},{key:"endBlock",value:function(e){var t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");var n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error("CodeGen: wrong number of nodes: ".concat(n," vs ").concat(e," expected"));return this._nodes.length=t,this}},{key:"func",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.nil,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return this._blockNode(new B(e,t,n)),r&&this.code(r).endFunc(),this}},{key:"endFunc",value:function(){return this._endBlockNode(B)}},{key:"optimize",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}},{key:"_leafNode",value:function(e){return this._currNode.nodes.push(e),this}},{key:"_blockNode",value:function(e){this._currNode.nodes.push(e),this._nodes.push(e)}},{key:"_endBlockNode",value:function(e,t){var n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error('CodeGen: not in block "'.concat(t?"".concat(e.kind,"/").concat(t.kind):e.kind,'"'))}},{key:"_elseNode",value:function(e){var t=this._currNode;if(!(t instanceof L))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}},{key:"_root",get:function(){return this._nodes[0]}},{key:"_currNode",get:function(){var e=this._nodes;return e[e.length-1]},set:function(e){var t=this._nodes;t[t.length-1]=e}}]),e}();function W(e,t){for(var n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function q(e,t){return t instanceof _._CodeOrName?W(e,t.names):e}function X(e,t,n){return e instanceof _.Name?i(e):(r=e)instanceof _._Code&&r._items.some((function(e){return e instanceof _.Name&&1===t[e.str]&&void 0!==n[e.str]}))?new _._Code(e._items.reduce((function(e,t){return t instanceof _.Name&&(t=i(t)),t instanceof _._Code?e.push.apply(e,h(t._items)):e.push(t),e}),[])):e;var r;function i(e){var r=n[e.str];return void 0===r||1!==t[e.str]?e:(delete t[e.str],r)}}function K(e,t){for(var n in t)e[n]=(e[n]||0)-(t[n]||0)}function Y(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:(0,_._)(o||(o=l(["!",""])),ee(e))}t.CodeGen=Z,t.not=Y;var Q=$(t.operators.AND);t.and=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Q)};var J=$(t.operators.OR);function $(e){return function(t,n){return t===_.nil?n:n===_.nil?t:(0,_._)(s||(s=l([""," "," ",""])),ee(t),e,ee(n))}}function ee(e){return e instanceof _.Name?e:(0,_._)(u||(u=l(["(",")"])),e)}t.or=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(J)}},824:function(e,t,n){"use strict";var r,i,a,o,s,u=n(2122).default,l=n(9400).default,c=n(9728).default,f=n(6690).default,d=n(1655).default,h=n(6389).default,p=n(3496).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;var m,v=n(4399),g=function(e){d(n,e);var t=h(n);function n(e){var r;return f(this,n),(r=t.call(this,'CodeGen: "code" for '.concat(e," not defined"))).value=e.value,r}return c(n)}(p(Error));!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(m=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new v.Name("const"),let:new v.Name("let"),var:new v.Name("var")};var y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefixes,r=t.parent;f(this,e),this._names={},this._prefixes=n,this._parent=r}return c(e,[{key:"toName",value:function(e){return e instanceof v.Name?e:this.name(e)}},{key:"name",value:function(e){return new v.Name(this._newName(e))}},{key:"_newName",value:function(e){var t=this._names[e]||this._nameGroup(e);return"".concat(e).concat(t.index++)}},{key:"_nameGroup",value:function(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error('CodeGen: prefix "'.concat(e,'" is not allowed in this scope'));return this._names[e]={prefix:e,index:0}}}]),e}();t.Scope=y;var _=function(e){d(n,e);var t=h(n);function n(e,r){var i;return f(this,n),(i=t.call(this,r)).prefix=e,i}return c(n,[{key:"setValue",value:function(e,t){var n=t.property,i=t.itemIndex;this.value=e,this.scopePath=(0,v._)(r||(r=l([".","[","]"])),new v.Name(n),i)}}]),n}(v.Name);t.ValueScopeName=_;var b=(0,v._)(i||(i=l(["\n"],["\\n"]))),x=function(e){d(r,e);var n=h(r);function r(e){var t;return f(this,r),(t=n.call(this,e))._values={},t._scope=e.scope,t.opts=u(u({},e),{},{_n:e.lines?b:v.nil}),t}return c(r,[{key:"get",value:function(){return this._scope}},{key:"name",value:function(e){return new _(e,this._newName(e))}},{key:"value",value:function(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");var r=this.toName(e),i=r.prefix,a=null!==(n=t.key)&&void 0!==n?n:t.ref,o=this._values[i];if(o){var s=o.get(a);if(s)return s}else o=this._values[i]=new Map;o.set(a,r);var u=this._scope[i]||(this._scope[i]=[]),l=u.length;return u[l]=t.ref,r.setValue(t,{property:i,itemIndex:l}),r}},{key:"getValue",value:function(e,t){var n=this._values[e];if(n)return n.get(t)}},{key:"scopeRefs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._values;return this._reduceValues(t,(function(t){if(void 0===t.scopePath)throw new Error('CodeGen: name "'.concat(t,'" has no value'));return(0,v._)(a||(a=l(["","",""])),e,t.scopePath)}))}},{key:"scopeCode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._values,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this._reduceValues(e,(function(e){if(void 0===e.value)throw new Error('CodeGen: name "'.concat(e,'" has no value'));return e.value.code}),t,n)}},{key:"_reduceValues",value:function(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,u=v.nil,c=function(){var c=e[f];if(!c)return 1;var d=i[f]=i[f]||new Map;c.forEach((function(e){if(!d.has(e)){d.set(e,m.Started);var i=n(e);if(i){var c=r.opts.es5?t.varKinds.var:t.varKinds.const;u=(0,v._)(o||(o=l(["",""," "," = ",";",""])),u,c,e,i,r.opts._n)}else{if(!(i=null===a||void 0===a?void 0:a(e)))throw new g(e);u=(0,v._)(s||(s=l(["","","",""])),u,i,r.opts._n)}d.set(e,m.Completed)}}))};for(var f in e)c();return u}}]),r}(y);t.ValueScope=x},6304:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m,v,g,y,_,b,x,w,S,E,A,M,T,k=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;var C=n(6774),P=n(1111),R=n(52);function N(e,t){var n=e.const("err",t);e.if((0,C._)(v||(v=k([""," === null"])),R.default.vErrors),(function(){return e.assign(R.default.vErrors,(0,C._)(g||(g=k(["[","]"])),n))}),(0,C._)(y||(y=k(["",".push(",")"])),R.default.vErrors,n)),e.code((0,C._)(_||(_=k(["","++"])),R.default.errors))}function O(e,t){var n=e.gen,r=e.validateName;e.schemaEnv.$async?n.throw((0,C._)(b||(b=k(["new ","(",")"])),e.ValidationError,t)):(n.assign((0,C._)(x||(x=k(["",".errors"])),r),t),n.return(!1))}t.keywordError={message:function(e){var t=e.keyword;return(0,C.str)(r||(r=k(['must pass "','" keyword validation'])),t)}},t.keyword$DataError={message:function(e){var t=e.keyword,n=e.schemaType;return n?(0,C.str)(i||(i=k(['"','" keyword must be '," ($data)"])),t,n):(0,C.str)(a||(a=k(['"','" keyword is invalid ($data)'])),t)}},t.reportError=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keywordError,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=e.it,s=a.gen,u=a.compositeRule,l=a.allErrors,c=L(e,n,r);(null!==i&&void 0!==i?i:u||l)?N(s,c):O(a,(0,C._)(o||(o=k(["[","]"])),c))},t.reportExtraError=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keywordError,r=arguments.length>2?arguments[2]:void 0,i=e.it,a=i.gen,o=i.compositeRule,s=i.allErrors;N(a,L(e,n,r)),o||s||O(i,R.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(R.default.errors,t),e.if((0,C._)(s||(s=k([""," !== null"])),R.default.vErrors),(function(){return e.if(t,(function(){return e.assign((0,C._)(u||(u=k(["",".length"])),R.default.vErrors),t)}),(function(){return e.assign(R.default.vErrors,null)}))}))},t.extendErrors=function(e){var t=e.gen,n=e.keyword,r=e.schemaValue,i=e.data,a=e.errsCount,o=e.it;if(void 0===a)throw new Error("ajv implementation error");var s=t.name("err");t.forRange("i",a,R.default.errors,(function(e){t.const(s,(0,C._)(l||(l=k(["","[","]"])),R.default.vErrors,e)),t.if((0,C._)(c||(c=k(["",".instancePath === undefined"])),s),(function(){return t.assign((0,C._)(f||(f=k(["",".instancePath"])),s),(0,C.strConcat)(R.default.instancePath,o.errorPath))})),t.assign((0,C._)(d||(d=k(["",".schemaPath"])),s),(0,C.str)(h||(h=k(["","/",""])),o.errSchemaPath,n)),o.opts.verbose&&(t.assign((0,C._)(p||(p=k(["",".schema"])),s),r),t.assign((0,C._)(m||(m=k(["",".data"])),s),i))}))};var I={keyword:new C.Name("keyword"),schemaPath:new C.Name("schemaPath"),params:new C.Name("params"),propertyName:new C.Name("propertyName"),message:new C.Name("message"),schema:new C.Name("schema"),parentSchema:new C.Name("parentSchema")};function L(e,t,n){return!1===e.it.createErrors?(0,C._)(w||(w=k(["{}"]))):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.gen,i=e.it,a=[D(i,n),U(e,n)];return function(e,t,n){var r=t.params,i=t.message,a=e.keyword,o=e.data,s=e.schemaValue,u=e.it,l=u.opts,c=u.propertyName,f=u.topSchemaRef,d=u.schemaPath;n.push([I.keyword,a],[I.params,"function"==typeof r?r(e):r||(0,C._)(M||(M=k(["{}"])))]),l.messages&&n.push([I.message,"function"==typeof i?i(e):i]);l.verbose&&n.push([I.schema,s],[I.parentSchema,(0,C._)(T||(T=k(["","",""])),f,d)],[R.default.data,o]);c&&n.push([I.propertyName,c])}(e,t,a),r.object.apply(r,a)}(e,t,n)}function D(e,t){var n=e.errorPath,r=t.instancePath,i=r?(0,C.str)(S||(S=k(["","",""])),n,(0,P.getErrorPath)(r,P.Type.Str)):n;return[R.default.instancePath,(0,C.strConcat)(R.default.instancePath,i)]}function U(e,t){var n=e.keyword,r=e.it.errSchemaPath,i=t.schemaPath,a=t.parentSchema?r:(0,C.str)(E||(E=k(["","/",""])),r,n);return i&&(a=(0,C.str)(A||(A=k(["","",""])),a,(0,P.getErrorPath)(i,P.Type.Str))),[I.schemaPath,a]}},3393:function(e,t,n){"use strict";var r,i,a=n(4704).default,o=n(9400).default,s=n(9728).default,u=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;var l=n(6774),c=n(2605),f=n(52),d=n(3696),h=n(1111),p=n(7733),m=s((function e(t){var n,r;u(this,e),this.refs={},this.dynamicAnchors={},"object"==typeof t.schema&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=null!==(n=t.baseId)&&void 0!==n?n:(0,d.normalizeId)(null===r||void 0===r?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=null===r||void 0===r?void 0:r.$async,this.refs={}}));function v(e){var t=y.call(this,e);if(t)return t;var n,a=(0,d.getFullPath)(this.opts.uriResolver,e.root.baseId),s=this.opts.code,u=s.es5,h=s.lines,m=this.opts.ownProperties,v=new l.CodeGen(this.scope,{es5:u,lines:h,ownProperties:m});e.$async&&(n=v.scopeValue("Error",{ref:c.default,code:(0,l._)(r||(r=o(['require("ajv/dist/runtime/validation_error").default'])))}));var g=v.scopeName("validate");e.validateName=g;var _,b={gen:v,allErrors:this.opts.allErrors,data:f.default.data,parentData:f.default.parentData,parentDataProperty:f.default.parentDataProperty,dataNames:[f.default.data],dataPathArr:[l.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:v.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,l.stringify)(e.schema)}:{ref:e.schema}),validateName:g,ValidationError:n,schema:e.schema,schemaEnv:e,rootId:a,baseId:e.baseId||a,schemaPath:l.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,l._)(i||(i=o(['""']))),opts:this.opts,self:this};try{this._compilations.add(e),(0,p.validateFunctionCode)(b),v.optimize(this.opts.code.optimize);var x=v.toString();_="".concat(v.scopeRefs(f.default.scope),"return ").concat(x),this.opts.code.process&&(_=this.opts.code.process(_,e));var w=new Function("".concat(f.default.self),"".concat(f.default.scope),_)(this,this.scope.get());if(this.scope.value(g,{ref:w}),w.errors=null,w.schema=e.schema,w.schemaEnv=e,e.$async&&(w.$async=!0),!0===this.opts.code.source&&(w.source={validateName:g,validateCode:x,scopeValues:v._values}),this.opts.unevaluated){var S=b.props,E=b.items;w.evaluated={props:S instanceof l.Name?void 0:S,items:E instanceof l.Name?void 0:E,dynamicProps:S instanceof l.Name,dynamicItems:E instanceof l.Name},w.source&&(w.source.evaluated=(0,l.stringify)(w.evaluated))}return e.validate=w,e}catch(A){throw delete e.validate,delete e.validateName,_&&this.logger.error("Error compiling schema, function code:",_),A}finally{this._compilations.delete(e)}}function g(e){return(0,d.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:v.call(this,e)}function y(e){var t,n,r,i=a(this._compilations);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(r=e,(n=o).schema===r.schema&&n.root===r.root&&n.baseId===r.baseId)return o}}catch(s){i.e(s)}finally{i.f()}}function _(e,t){for(var n;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||b.call(this,e,t)}function b(e,t){var n=this.opts.uriResolver.parse(t),r=(0,d._getFullPath)(this.opts.uriResolver,n),i=(0,d.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return w.call(this,n,e);var a=(0,d.normalizeId)(r),o=this.refs[a]||this.schemas[a];if("string"==typeof o){var s=b.call(this,e,o);if("object"!==typeof(null===s||void 0===s?void 0:s.schema))return;return w.call(this,n,s)}if("object"===typeof(null===o||void 0===o?void 0:o.schema)){if(o.validate||v.call(this,o),a===(0,d.normalizeId)(t)){var u=o.schema,l=this.opts.schemaId,c=u[l];return c&&(i=(0,d.resolveUrl)(this.opts.uriResolver,i,c)),new m({schema:u,schemaId:l,root:e,baseId:i})}return w.call(this,n,o)}}t.SchemaEnv=m,t.compileSchema=v,t.resolveRef=function(e,t,n){var r;n=(0,d.resolveUrl)(this.opts.uriResolver,t,n);var i=e.refs[n];if(i)return i;var a=_.call(this,e,n);if(void 0===a){var o=null===(r=e.localRefs)||void 0===r?void 0:r[n],s=this.opts.schemaId;o&&(a=new m({schema:o,schemaId:s,root:e,baseId:t}))}return void 0!==a?e.refs[n]=g.call(this,a):void 0},t.getCompilingSchema=y,t.resolveSchema=b;var x=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function w(e,t){var n,r=t.baseId,i=t.schema,o=t.root;if("/"===(null===(n=e.fragment)||void 0===n?void 0:n[0])){var s,u,l=a(e.fragment.slice(1).split("/"));try{for(l.s();!(s=l.n()).done;){var c=s.value;if("boolean"===typeof i)return;var f=i[(0,h.unescapeFragment)(c)];if(void 0===f)return;var p="object"===typeof(i=f)&&i[this.opts.schemaId];!x.has(c)&&p&&(r=(0,d.resolveUrl)(this.opts.uriResolver,r,p))}}catch(y){l.e(y)}finally{l.f()}if("boolean"!=typeof i&&i.$ref&&!(0,h.schemaHasRulesButRef)(i,this.RULES)){var v=(0,d.resolveUrl)(this.opts.uriResolver,r,i.$ref);u=b.call(this,o,v)}var g=this.opts.schemaId;return(u=u||new m({schema:i,schemaId:g,root:o,baseId:r})).schema!==u.root.schema?u:void 0}}},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6774),i={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};t.default=i},6594:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default,a=n(1655).default,o=n(6389).default,s=n(3496).default;Object.defineProperty(t,"__esModule",{value:!0});var u=n(3696),l=function(e){a(n,e);var t=o(n);function n(e,r,a,o){var s;return i(this,n),(s=t.call(this,o||"can't resolve reference ".concat(a," from id ").concat(r))).missingRef=(0,u.resolveUrl)(e,r,a),s.missingSchema=(0,u.normalizeId)((0,u.getFullPath)(e,s.missingRef)),s}return r(n)}(s(Error));t.default=l},3696:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;var r=n(1111),i=n(8262),a=n(5713),o=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"boolean"==typeof e||(!0===t?!u(e):!!t&&l(e)<=t)};var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(e){for(var t in e){if(s.has(t))return!0;var n=e[t];if(Array.isArray(n)&&n.some(u))return!0;if("object"==typeof n&&u(n))return!0}return!1}function l(e){var t=0;for(var n in e){if("$ref"===n)return 1/0;if(t++,!o.has(n)&&("object"==typeof e[n]&&(0,r.eachItem)(e[n],(function(e){return t+=l(e)})),t===1/0))return 1/0}return t}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!1!==(arguments.length>2?arguments[2]:void 0)&&(t=h(t));var n=e.parse(t);return f(e,n)}function f(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=c,t._getFullPath=f;var d=/#\/?$/;function h(e){return e?e.replace(d,""):""}t.normalizeId=h,t.resolveUrl=function(e,t,n){return n=h(n),e.resolve(t,n)};var p=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){var n=this;if("boolean"==typeof e)return{};var r=this.opts,o=r.schemaId,s=r.uriResolver,u=h(e[o]||t),l={"":u},f=c(s,u,!1),d={},m=new Set;return a(e,{allKeys:!0},(function(e,t,r,i){if(void 0!==i){var a=f+t,s=l[i];"string"==typeof e[o]&&(s=u.call(n,e[o])),c.call(n,e.$anchor),c.call(n,e.$dynamicAnchor),l[t]=s}function u(t){var n=this.opts.uriResolver.resolve;if(t=h(s?n(s,t):t),m.has(t))throw g(t);m.add(t);var r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?v(e,r.schema,t):t!==h(a)&&("#"===t[0]?(v(e,d[t],t),d[t]=e):this.refs[t]=a),t}function c(e){if("string"==typeof e){if(!p.test(e))throw new Error('invalid anchor "'.concat(e,'"'));u.call(this,"#".concat(e))}}})),d;function v(e,t,n){if(void 0!==t&&!i(e,t))throw g(n)}function g(e){return new Error('reference "'.concat(e,'" resolves to more than one schema'))}}},7445:function(e,t,n){"use strict";var r=n(2122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;var i=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&i.has(e)},t.getRules=function(){var e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:r(r({},e),{},{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},1111:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m,v,g,y,_,b,x=n(2122).default,w=n(9400).default,S=n(4704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;var E=n(6774),A=n(4399);function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema,n=e.opts,r=e.self;if(n.strictSchema&&"boolean"!==typeof t){var i=r.RULES.keywords;for(var a in t)i[a]||L(e,'unknown keyword: "'.concat(a,'"'))}}function T(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0;return!1}function k(e){return"number"==typeof e?"".concat(e):e.replace(/~/g,"~0").replace(/\//g,"~1")}function C(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function P(e){var t=e.mergeNames,n=e.mergeToName,r=e.mergeValues,i=e.resultToName;return function(e,a,o,s){var u=void 0===o?a:o instanceof E.Name?(a instanceof E.Name?t(e,a,o):n(e,a,o),o):a instanceof E.Name?(n(e,o,a),a):r(a,o);return s!==E.Name||u instanceof E.Name?u:i(e,u)}}function R(e,t){if(!0===t)return e.var("props",!0);var n=e.var("props",(0,E._)(m||(m=w(["{}"]))));return void 0!==t&&N(e,n,t),n}function N(e,t,n){Object.keys(n).forEach((function(n){return e.assign((0,E._)(v||(v=w(["","",""])),t,(0,E.getProperty)(n)),!0)}))}t.toHash=function(e){var t,n={},r=S(e);try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(M(e,t),!T(t,e.self.RULES.all))},t.checkUnknownRules=M,t.schemaHasRules=T,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function(e,t,n,a){var o=e.topSchemaRef,s=e.schemaPath;if(!a){if("number"==typeof t||"boolean"==typeof t)return t;if("string"==typeof t)return(0,E._)(r||(r=w(["",""])),t)}return(0,E._)(i||(i=w(["","","",""])),o,s,(0,E.getProperty)(n))},t.unescapeFragment=function(e){return C(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(k(e))},t.escapeJsonPointer=k,t.unescapeJsonPointer=C,t.eachItem=function(e,t){if(Array.isArray(e)){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){t(n.value)}}catch(i){r.e(i)}finally{r.f()}}else t(e)},t.mergeEvaluated={props:P({mergeNames:function(e,t,n){return e.if((0,E._)(a||(a=w([""," !== true && "," !== undefined"])),n,t),(function(){e.if((0,E._)(o||(o=w([""," === true"])),t),(function(){return e.assign(n,!0)}),(function(){return e.assign(n,(0,E._)(s||(s=w([""," || {}"])),n)).code((0,E._)(u||(u=w(["Object.assign(",", ",")"])),n,t))}))}))},mergeToName:function(e,t,n){return e.if((0,E._)(l||(l=w([""," !== true"])),n),(function(){!0===t?e.assign(n,!0):(e.assign(n,(0,E._)(c||(c=w([""," || {}"])),n)),N(e,n,t))}))},mergeValues:function(e,t){return!0===e||x(x({},e),t)},resultToName:R}),items:P({mergeNames:function(e,t,n){return e.if((0,E._)(f||(f=w([""," !== true && "," !== undefined"])),n,t),(function(){return e.assign(n,(0,E._)(d||(d=w([""," === true ? true : "," > "," ? "," : ",""])),t,n,t,n,t))}))},mergeToName:function(e,t,n){return e.if((0,E._)(h||(h=w([""," !== true"])),n),(function(){return e.assign(n,!0===t||(0,E._)(p||(p=w([""," > "," ? "," : ",""])),n,t,n,t))}))},mergeValues:function(e,t){return!0===e||Math.max(e,t)},resultToName:function(e,t){return e.var("items",t)}})},t.evaluatedPropsToName=R,t.setEvaluated=N;var O,I={};function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.opts.strictSchema;if(n){if(t="strict mode: ".concat(t),!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:I[t.code]||(I[t.code]=new A._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(O=t.Type||(t.Type={})),t.getErrorPath=function(e,t,n){if(e instanceof E.Name){var r=t===O.Num;return n?r?(0,E._)(g||(g=w(['"[" + ',' + "]"'])),e):(0,E._)(y||(y=w(['"[\'" + ',' + "\']"'])),e):r?(0,E._)(_||(_=w(['"/" + ',""])),e):(0,E._)(b||(b=w(['"/" + ','.replace(/~/g, "~0").replace(/\\//g, "~1")'],['"/" + ','.replace(/~/g, "~0").replace(/\\\\//g, "~1")'])),e)}return n?(0,E.getProperty)(e).toString():"/"+k(e)},t.checkStrictMode=L},6849:function(e,t){"use strict";function n(e,t){return t.rules.some((function(t){return r(e,t)}))}function r(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((function(t){return void 0!==e[t]})))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function(e,t){var r=e.schema,i=e.self.RULES.types[t];return i&&!0!==i&&n(r,i)},t.shouldUseGroup=n,t.shouldUseRule=r},850:function(e,t,n){"use strict";var r,i=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;var a=n(6304),o=n(6774),s=n(52),u={message:"boolean schema is false"};function l(e,t){var n={gen:e.gen,keyword:"false schema",data:e.data,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,a.reportError)(n,u,void 0,t)}t.topBoolOrEmptySchema=function(e){var t=e.gen,n=e.schema,a=e.validateName;!1===n?l(e,!1):"object"==typeof n&&!0===n.$async?t.return(s.default.data):(t.assign((0,o._)(r||(r=i(["",".errors"])),a),null),t.return(!0))},t.boolOrEmptySchema=function(e,t){var n=e.gen;!1===e.schema?(n.var(t,!1),l(e)):n.var(t,!0)}},1562:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m,v,g,y,_,b,x,w,S,E,A,M,T,k,C,P,R,N,O,I,L,D=n(4704).default,U=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;var F,j=n(7445),B=n(6849),z=n(6304),V=n(6774),H=n(1111);function G(e){var t=Array.isArray(e)?e:e?[e]:[];if(t.every(j.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(F=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){var t=G(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=G,t.coerceAndCheckDataType=function(e,t){var n=e.gen,A=e.data,M=e.opts,T=function(e,t){return t?e.filter((function(e){return Z.has(e)||"array"===t&&"array"===e})):[]}(t,M.coerceTypes),k=t.length>0&&!(0===T.length&&1===t.length&&(0,B.schemaHasRulesForType)(e,t[0]));if(k){var C=q(t,A,M.strictNumbers,F.Wrong);n.if(C,(function(){T.length?function(e,t,n){var A=e.gen,M=e.data,T=e.opts,k=A.let("dataType",(0,V._)(r||(r=U(["typeof ",""])),M)),C=A.let("coerced",(0,V._)(i||(i=U(["undefined"]))));"array"===T.coerceTypes&&A.if((0,V._)(a||(a=U([""," == 'object' && Array.isArray(",") && ",".length == 1"])),k,M,M),(function(){return A.assign(M,(0,V._)(o||(o=U(["","[0]"])),M)).assign(k,(0,V._)(s||(s=U(["typeof ",""])),M)).if(q(t,M,T.strictNumbers),(function(){return A.assign(C,M)}))}));A.if((0,V._)(u||(u=U([""," !== undefined"])),C));var P,R=D(n);try{for(R.s();!(P=R.n()).done;){var N=P.value;(Z.has(N)||"array"===N&&"array"===T.coerceTypes)&&O(N)}}catch(I){R.e(I)}finally{R.f()}function O(e){switch(e){case"string":return void A.elseIf((0,V._)(c||(c=U(["",' == "number" || ',' == "boolean"'])),k,k)).assign(C,(0,V._)(f||(f=U(['"" + ',""])),M)).elseIf((0,V._)(d||(d=U([""," === null"])),M)).assign(C,(0,V._)(h||(h=U(['""']))));case"number":return void A.elseIf((0,V._)(p||(p=U(["",' == "boolean" || '," === null\n              || (",' == "string" && '," && "," == +",")"])),k,M,k,M,M,M)).assign(C,(0,V._)(m||(m=U(["+",""])),M));case"integer":return void A.elseIf((0,V._)(v||(v=U(["",' === "boolean" || '," === null\n              || (",' === "string" && '," && "," == +"," && !("," % 1))"])),k,M,k,M,M,M,M)).assign(C,(0,V._)(g||(g=U(["+",""])),M));case"boolean":return void A.elseIf((0,V._)(y||(y=U(["",' === "false" || '," === 0 || "," === null"])),M,M,M)).assign(C,!1).elseIf((0,V._)(_||(_=U(["",' === "true" || '," === 1"])),M,M)).assign(C,!0);case"null":return A.elseIf((0,V._)(b||(b=U(["",' === "" || '," === 0 || "," === false"])),M,M,M)),void A.assign(C,null);case"array":A.elseIf((0,V._)(x||(x=U(["",' === "string" || ',' === "number"\n              || ',' === "boolean" || '," === null"])),k,k,k,M)).assign(C,(0,V._)(w||(w=U(["[","]"])),M))}}A.else(),K(e),A.endIf(),A.if((0,V._)(l||(l=U([""," !== undefined"])),C),(function(){A.assign(M,C),function(e,t){var n=e.gen,r=e.parentData,i=e.parentDataProperty;n.if((0,V._)(S||(S=U([""," !== undefined"])),r),(function(){return n.assign((0,V._)(E||(E=U(["","[","]"])),r,i),t)}))}(e,C)}))}(e,t,T):K(e)}))}return k};var Z=new Set(["string","number","integer","boolean","null"]);function W(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:F.Correct,a=i===F.Correct?V.operators.EQ:V.operators.NEQ;switch(e){case"null":return(0,V._)(A||(A=U([""," "," null"])),t,a);case"array":r=(0,V._)(M||(M=U(["Array.isArray(",")"])),t);break;case"object":r=(0,V._)(T||(T=U([""," && typeof ",' == "object" && !Array.isArray(',")"])),t,t,t);break;case"integer":r=o((0,V._)(k||(k=U(["!("," % 1) && !isNaN(",")"])),t,t));break;case"number":r=o();break;default:return(0,V._)(C||(C=U(["typeof "," "," ",""])),t,a,e)}return i===F.Correct?r:(0,V.not)(r);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V.nil;return(0,V.and)((0,V._)(P||(P=U(["typeof ",' == "number"'])),t),e,n?(0,V._)(R||(R=U(["isFinite(",")"])),t):V.nil)}}function q(e,t,n,r){if(1===e.length)return W(e[0],t,n,r);var i,a=(0,H.toHash)(e);if(a.array&&a.object){var o=(0,V._)(N||(N=U(["typeof ",' != "object"'])),t);i=a.null?o:(0,V._)(O||(O=U(["!"," || ",""])),t,o),delete a.null,delete a.array,delete a.object}else i=V.nil;for(var s in a.number&&delete a.integer,a)i=(0,V.and)(i,W(s,t,n,r));return i}t.checkDataType=W,t.checkDataTypes=q;var X={message:function(e){var t=e.schema;return"must be ".concat(t)},params:function(e){var t=e.schema,n=e.schemaValue;return"string"==typeof t?(0,V._)(I||(I=U(["{type: ","}"])),t):(0,V._)(L||(L=U(["{type: ","}"])),n)}};function K(e){var t=function(e){var t=e.gen,n=e.data,r=e.schema,i=(0,H.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:i,schemaValue:i,parentSchema:r,params:{},it:e}}(e);(0,z.reportError)(t,X)}t.reportTypeError=K},7391:function(e,t,n){"use strict";var r,i,a,o,s=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;var u=n(6774),l=n(1111);function c(e,t,n){var c=e.gen,f=e.compositeRule,d=e.data,h=e.opts;if(void 0!==n){var p=(0,u._)(r||(r=s(["","",""])),d,(0,u.getProperty)(t));if(f)(0,l.checkStrictMode)(e,"default is ignored for: ".concat(p));else{var m=(0,u._)(i||(i=s([""," === undefined"])),p);"empty"===h.useDefaults&&(m=(0,u._)(a||(a=s([""," || "," === null || ",' === ""'])),m,p,p)),c.if(m,(0,u._)(o||(o=s([""," = ",""])),p,(0,u.stringify)(n)))}}}t.assignDefaults=function(e,t){var n=e.schema,r=n.properties,i=n.items;if("object"===t&&r)for(var a in r)c(e,a,r[a].default);else"array"===t&&Array.isArray(i)&&i.forEach((function(t,n){return c(e,n,t.default)}))}},7733:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m,v,g,y,_,b,x,w,S,E,A,M,T,k,C,P,R,N,O,I,L,D,U,F,j,B,z,V=n(2122).default,H=n(6690).default,G=n(9728).default,Z=n(4704).default,W=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;var q=n(850),X=n(1562),K=n(6849),Y=n(1562),Q=n(7391),J=n(5373),$=n(1195),ee=n(6774),te=n(52),ne=n(3696),re=n(1111),ie=n(6304);function ae(e,t){var n=e.gen,g=e.validateName,y=e.schema,_=e.schemaEnv,b=e.opts;b.code.es5?n.func(g,(0,ee._)(r||(r=W(["",", ",""])),te.default.data,te.default.valCxt),_.$async,(function(){n.code((0,ee._)(i||(i=W(['"use strict"; ',""])),oe(y,b))),function(e,t){e.if(te.default.valCxt,(function(){e.var(te.default.instancePath,(0,ee._)(u||(u=W(["",".",""])),te.default.valCxt,te.default.instancePath)),e.var(te.default.parentData,(0,ee._)(l||(l=W(["",".",""])),te.default.valCxt,te.default.parentData)),e.var(te.default.parentDataProperty,(0,ee._)(c||(c=W(["",".",""])),te.default.valCxt,te.default.parentDataProperty)),e.var(te.default.rootData,(0,ee._)(f||(f=W(["",".",""])),te.default.valCxt,te.default.rootData)),t.dynamicRef&&e.var(te.default.dynamicAnchors,(0,ee._)(d||(d=W(["",".",""])),te.default.valCxt,te.default.dynamicAnchors))}),(function(){e.var(te.default.instancePath,(0,ee._)(h||(h=W(['""'])))),e.var(te.default.parentData,(0,ee._)(p||(p=W(["undefined"])))),e.var(te.default.parentDataProperty,(0,ee._)(m||(m=W(["undefined"])))),e.var(te.default.rootData,te.default.data),t.dynamicRef&&e.var(te.default.dynamicAnchors,(0,ee._)(v||(v=W(["{}"]))))}))}(n,b),n.code(t)})):n.func(g,(0,ee._)(a||(a=W(["",", ",""])),te.default.data,function(e){return(0,ee._)(o||(o=W(["{",'="", ',", ",", ","=","","}={}"])),te.default.instancePath,te.default.parentData,te.default.parentDataProperty,te.default.rootData,te.default.data,e.dynamicRef?(0,ee._)(s||(s=W([", ","={}"])),te.default.dynamicAnchors):ee.nil)}(b)),_.$async,(function(){return n.code(oe(y,b)).code(t)}))}function oe(e,t){var n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,ee._)(E||(E=W(["/*# sourceURL="," */"])),n):ee.nil}function se(e,t){le(e)&&(ce(e),ue(e))?function(e,t){var n=e.schema,r=e.gen,i=e.opts;i.$comment&&n.$comment&&de(e);(function(e){var t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,ne.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);var a=r.const("_errs",te.default.errors);fe(e,a),r.var(t,(0,ee._)(A||(A=W([""," === ",""])),a,te.default.errors))}(e,t):(0,q.boolOrEmptySchema)(e,t)}function ue(e){var t=e.schema,n=e.self;if("boolean"==typeof t)return!t;for(var r in t)if(n.RULES.all[r])return!0;return!1}function le(e){return"boolean"!=typeof e.schema}function ce(e){(0,re.checkUnknownRules)(e),function(e){var t=e.schema,n=e.errSchemaPath,r=e.opts,i=e.self;t.$ref&&r.ignoreKeywordsWithRef&&(0,re.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn('$ref: keywords ignored in schema at path "'.concat(n,'"'))}(e)}function fe(e,t){if(e.opts.jtd)return he(e,[],!1,t);var n=(0,X.getSchemaTypes)(e.schema);he(e,n,!(0,X.coerceAndCheckDataType)(e,n),t)}function de(e){var t=e.gen,n=e.schemaEnv,r=e.schema,i=e.errSchemaPath,a=e.opts,o=r.$comment;if(!0===a.$comment)t.code((0,ee._)(M||(M=W(["",".logger.log(",")"])),te.default.self,o));else if("function"==typeof a.$comment){var s=(0,ee.str)(T||(T=W(["","/$comment"])),i),u=t.scopeValue("root",{ref:n.root});t.code((0,ee._)(k||(k=W(["",".opts.$comment(",", ",", ",".schema)"])),te.default.self,o,s,u))}}function he(e,t,n,r){var i=e.gen,a=e.schema,o=e.data,s=e.allErrors,u=e.opts,l=e.self.RULES;function c(l){(0,K.shouldUseGroup)(a,l)&&(l.type?(i.if((0,Y.checkDataType)(l.type,o,u.strictNumbers)),pe(e,l),1===t.length&&t[0]===l.type&&n&&(i.else(),(0,Y.reportTypeError)(e)),i.endIf()):pe(e,l),s||i.if((0,ee._)(L||(L=W([""," === ",""])),te.default.errors,r||0)))}!a.$ref||!u.ignoreKeywordsWithRef&&(0,re.schemaHasRulesButRef)(a,l)?(u.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((function(t){ve(e.dataTypes,t)||ge(e,'type "'.concat(t,'" not allowed by context "').concat(e.dataTypes.join(","),'"'))})),function(e,t){var n,r=[],i=Z(e.dataTypes);try{for(i.s();!(n=i.n()).done;){var a=n.value;ve(t,a)?r.push(a):t.includes("integer")&&"number"===a&&r.push("integer")}}catch(o){i.e(o)}finally{i.f()}e.dataTypes=r}(e,t)})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&ge(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){var n=e.self.RULES.all;for(var r in n){var i=n[r];if("object"==typeof i&&(0,K.shouldUseRule)(e.schema,i)){var a=i.definition.type;a.length&&!a.some((function(e){return me(t,e)}))&&ge(e,'missing type "'.concat(a.join(","),'" for keyword "').concat(r,'"'))}}}(e,e.dataTypes)}(e,t),i.block((function(){var e,t=Z(l.rules);try{for(t.s();!(e=t.n()).done;){c(e.value)}}catch(n){t.e(n)}finally{t.f()}c(l.post)}))):i.block((function(){return _e(e,"$ref",l.all.$ref.definition)}))}function pe(e,t){var n=e.gen,r=e.schema;e.opts.useDefaults&&(0,Q.assignDefaults)(e,t.type),n.block((function(){var n,i=Z(t.rules);try{for(i.s();!(n=i.n()).done;){var a=n.value;(0,K.shouldUseRule)(r,a)&&_e(e,a.keyword,a.definition,t.type)}}catch(o){i.e(o)}finally{i.f()}}))}function me(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function ve(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function ge(e,t){var n=e.schemaEnv.baseId+e.errSchemaPath;t+=' at "'.concat(n,'" (strictTypes)'),(0,re.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){le(e)&&(ce(e),ue(e))?function(e){var t=e.schema,n=e.opts,r=e.gen;ae(e,(function(){n.$comment&&t.$comment&&de(e),function(e){var t=e.schema,n=e.opts;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,re.checkStrictMode)(e,"default is ignored in the schema root")}(e),r.let(te.default.vErrors,null),r.let(te.default.errors,0),n.unevaluated&&function(e){var t=e.gen,n=e.validateName;e.evaluated=t.const("evaluated",(0,ee._)(g||(g=W(["",".evaluated"])),n)),t.if((0,ee._)(y||(y=W(["",".dynamicProps"])),e.evaluated),(function(){return t.assign((0,ee._)(_||(_=W(["",".props"])),e.evaluated),(0,ee._)(b||(b=W(["undefined"]))))})),t.if((0,ee._)(x||(x=W(["",".dynamicItems"])),e.evaluated),(function(){return t.assign((0,ee._)(w||(w=W(["",".items"])),e.evaluated),(0,ee._)(S||(S=W(["undefined"]))))}))}(e),fe(e),function(e){var t=e.gen,n=e.schemaEnv,r=e.validateName,i=e.ValidationError,a=e.opts;n.$async?t.if((0,ee._)(C||(C=W([""," === 0"])),te.default.errors),(function(){return t.return(te.default.data)}),(function(){return t.throw((0,ee._)(P||(P=W(["new ","(",")"])),i,te.default.vErrors))})):(t.assign((0,ee._)(R||(R=W(["",".errors"])),r),te.default.vErrors),a.unevaluated&&function(e){var t=e.gen,n=e.evaluated,r=e.props,i=e.items;r instanceof ee.Name&&t.assign((0,ee._)(O||(O=W(["",".props"])),n),r);i instanceof ee.Name&&t.assign((0,ee._)(I||(I=W(["",".items"])),n),i)}(e),t.return((0,ee._)(N||(N=W([""," === 0"])),te.default.errors)))}(e)}))}(e):ae(e,(function(){return(0,q.topBoolOrEmptySchema)(e)}))};var ye=function(){function e(t,n,r){if(H(this,e),(0,J.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,re.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",we(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,J.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error("".concat(r," value must be ").concat(JSON.stringify(n.schemaType)));("code"in n?n.trackErrors:!1!==n.errors)&&(this.errsCount=t.gen.const("_errs",te.default.errors))}return G(e,[{key:"result",value:function(e,t,n){this.failResult((0,ee.not)(e),t,n)}},{key:"failResult",value:function(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}},{key:"pass",value:function(e,t){this.failResult((0,ee.not)(e),void 0,t)}},{key:"fail",value:function(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}},{key:"fail$data",value:function(e){if(!this.$data)return this.fail(e);var t=this.schemaCode;this.fail((0,ee._)(D||(D=W([""," !== undefined && (",")"])),t,(0,ee.or)(this.invalid$data(),e)))}},{key:"error",value:function(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}},{key:"_error",value:function(e,t){(e?ie.reportExtraError:ie.reportError)(this,this.def.error,t)}},{key:"$dataError",value:function(){(0,ie.reportError)(this,this.def.$dataError||ie.keyword$DataError)}},{key:"reset",value:function(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,ie.resetErrorsCount)(this.gen,this.errsCount)}},{key:"ok",value:function(e){this.allErrors||this.gen.if(e)}},{key:"setParams",value:function(e,t){t?Object.assign(this.params,e):this.params=e}},{key:"block$data",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ee.nil;this.gen.block((function(){n.check$data(e,r),t()}))}},{key:"check$data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee.nil,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.nil;if(this.$data){var n=this.gen,r=this.schemaCode,i=this.schemaType,a=this.def;n.if((0,ee.or)((0,ee._)(U||(U=W([""," === undefined"])),r),t)),e!==ee.nil&&n.assign(e,!0),(i.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==ee.nil&&n.assign(e,!1)),n.else()}}},{key:"invalid$data",value:function(){var e=this.gen,t=this.schemaCode,n=this.schemaType,r=this.def,i=this.it;return(0,ee.or)(function(){if(n.length){if(!(t instanceof ee.Name))throw new Error("ajv implementation error");var e=Array.isArray(n)?n:[n];return(0,ee._)(F||(F=W(["",""])),(0,Y.checkDataTypes)(e,t,i.opts.strictNumbers,Y.DataType.Wrong))}return ee.nil}(),function(){if(r.validateSchema){var n=e.scopeValue("validate$data",{ref:r.validateSchema});return(0,ee._)(j||(j=W(["!","(",")"])),n,t)}return ee.nil}())}},{key:"subschema",value:function(e,t){var n=(0,$.getSubschema)(this.it,e);(0,$.extendSubschemaData)(n,this.it,e),(0,$.extendSubschemaMode)(n,e);var r=V(V(V({},this.it),n),{},{items:void 0,props:void 0});return se(r,t),r}},{key:"mergeEvaluated",value:function(e,t){var n=this.it,r=this.gen;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=re.mergeEvaluated.props(r,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=re.mergeEvaluated.items(r,e.items,n.items,t)))}},{key:"mergeValidEvaluated",value:function(e,t){var n=this,r=this.it,i=this.gen;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return i.if(t,(function(){return n.mergeEvaluated(e,ee.Name)})),!0}}]),e}();function _e(e,t,n,r){var i=new ye(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,J.funcKeywordCode)(i,n):"macro"in n?(0,J.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,J.funcKeywordCode)(i,n)}t.KeywordCxt=ye;var be=/^\/(?:[^~]|~0|~1)*$/,xe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function we(e,t){var n,r,i=t.dataLevel,a=t.dataNames,o=t.dataPathArr;if(""===e)return te.default.rootData;if("/"===e[0]){if(!be.test(e))throw new Error("Invalid JSON-pointer: ".concat(e));n=e,r=te.default.rootData}else{var s=xe.exec(e);if(!s)throw new Error("Invalid JSON-pointer: ".concat(e));var u=+s[1];if("#"===(n=s[2])){if(u>=i)throw new Error(p("property/index",u));return o[i-u]}if(u>i)throw new Error(p("data",u));if(r=a[i-u],!n)return r}var l,c=r,f=n.split("/"),d=Z(f);try{for(d.s();!(l=d.n()).done;){var h=l.value;h&&(r=(0,ee._)(B||(B=W(["","",""])),r,(0,ee.getProperty)((0,re.unescapeJsonPointer)(h))),c=(0,ee._)(z||(z=W([""," && ",""])),c,r))}}catch(m){d.e(m)}finally{d.f()}return c;function p(e,t){return"Cannot access ".concat(e," ").concat(t," levels up, current level is ").concat(i)}}t.getData=we},5373:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;var p=n(6774),m=n(52),v=n(1853),g=n(6304);function y(e){var t=e.gen,n=e.data,r=e.it;t.if(r.parentData,(function(){return t.assign(n,(0,p._)(l||(l=h(["","[","]"])),r.parentData,r.parentDataProperty))}))}function _(e,t,n){if(void 0===n)throw new Error('keyword "'.concat(t,'" failed to compile'));return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,p.stringify)(n)})}t.macroKeywordCode=function(e,t){var n=e.gen,r=e.keyword,i=e.schema,a=e.parentSchema,o=e.it,s=t.macro.call(o.self,i,a,o),u=_(n,r,s);!1!==o.opts.validateSchema&&o.self.validateSchema(s,!0);var l=n.name("valid");e.subschema({schema:s,schemaPath:p.nil,errSchemaPath:"".concat(o.errSchemaPath,"/").concat(r),topSchemaRef:u,compositeRule:!0},l),e.pass(l,(function(){return e.error(!0)}))},t.funcKeywordCode=function(e,t){var n,l=e.gen,b=e.keyword,x=e.schema,w=e.parentSchema,S=e.$data,E=e.it;!function(e,t){var n=e.schemaEnv;if(t.async&&!n.$async)throw new Error("async keyword in sync schema")}(E,t);var A=!S&&t.compile?t.compile.call(E.self,x,w,E):t.validate,M=_(l,b,A),T=l.let("valid");function k(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.async?(0,p._)(s||(s=h(["await "]))):p.nil,r=E.opts.passContext?m.default.this:m.default.self,i=!("compile"in t&&!S||!1===t.schema);l.assign(T,(0,p._)(u||(u=h(["","",""])),n,(0,v.callValidateCode)(e,M,r,i)),t.modifying)}function C(e){var n;l.if((0,p.not)(null!==(n=t.valid)&&void 0!==n?n:T),e)}e.block$data(T,(function(){if(!1===t.errors)k(),t.modifying&&y(e),C((function(){return e.error()}));else{var n=t.async?function(){var e=l.let("ruleErrs",null);return l.try((function(){return k((0,p._)(r||(r=h(["await "]))))}),(function(t){return l.assign(T,!1).if((0,p._)(i||(i=h([""," instanceof ",""])),t,E.ValidationError),(function(){return l.assign(e,(0,p._)(a||(a=h(["",".errors"])),t))}),(function(){return l.throw(t)}))})),e}():function(){var e=(0,p._)(o||(o=h(["",".errors"])),M);return l.assign(e,null),k(p.nil),e}();t.modifying&&y(e),C((function(){return function(e,t){var n=e.gen;n.if((0,p._)(c||(c=h(["Array.isArray(",")"])),t),(function(){n.assign(m.default.vErrors,(0,p._)(f||(f=h([""," === null ? "," : ",".concat(",")"])),m.default.vErrors,t,m.default.vErrors,t)).assign(m.default.errors,(0,p._)(d||(d=h(["",".length"])),m.default.vErrors)),(0,g.extendErrors)(e)}),(function(){return e.error()}))}(e,n)}))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:T)},t.validSchemaType=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!t.length||t.some((function(t){return"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&"undefined"==typeof e}))},t.validateKeywordUsage=function(e,t,n){var r=e.schema,i=e.opts,a=e.self,o=e.errSchemaPath;if(Array.isArray(t.keyword)?!t.keyword.includes(n):t.keyword!==n)throw new Error("ajv implementation error");var s=t.dependencies;if(null===s||void 0===s?void 0:s.some((function(e){return!Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have dependencies of ".concat(n,": ").concat(s.join(",")));if(t.validateSchema&&!t.validateSchema(r[n])){var u='keyword "'.concat(n,'" value is invalid at path "').concat(o,'": ')+a.errorsText(t.validateSchema.errors);if("log"!==i.validateSchema)throw new Error(u);a.logger.error(u)}}},1195:function(e,t,n){"use strict";var r,i,a,o,s,u=n(861).default,l=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;var c=n(6774),f=n(1111);t.getSubschema=function(e,t){var n=t.keyword,a=t.schemaProp,o=t.schema,s=t.schemaPath,u=t.errSchemaPath,d=t.topSchemaRef;if(void 0!==n&&void 0!==o)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==n){var h=e.schema[n];return void 0===a?{schema:h,schemaPath:(0,c._)(r||(r=l(["","",""])),e.schemaPath,(0,c.getProperty)(n)),errSchemaPath:"".concat(e.errSchemaPath,"/").concat(n)}:{schema:h[a],schemaPath:(0,c._)(i||(i=l(["","","",""])),e.schemaPath,(0,c.getProperty)(n),(0,c.getProperty)(a)),errSchemaPath:"".concat(e.errSchemaPath,"/").concat(n,"/").concat((0,f.escapeFragment)(a))}}if(void 0!==o){if(void 0===s||void 0===u||void 0===d)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:s,topSchemaRef:d,errSchemaPath:u}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,n){var r=n.dataProp,i=n.dataPropType,d=n.data,h=n.dataTypes,p=n.propertyName;if(void 0!==d&&void 0!==r)throw new Error('both "data" and "dataProp" passed, only one allowed');var m=t.gen;if(void 0!==r){var v=t.errorPath,g=t.dataPathArr,y=t.opts;_(m.let("data",(0,c._)(a||(a=l(["","",""])),t.data,(0,c.getProperty)(r)),!0)),e.errorPath=(0,c.str)(o||(o=l(["","",""])),v,(0,f.getErrorPath)(r,i,y.jsPropertySyntax)),e.parentDataProperty=(0,c._)(s||(s=l(["",""])),r),e.dataPathArr=[].concat(u(g),[e.parentDataProperty])}function _(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[].concat(u(t.dataNames),[n])}void 0!==d&&(_(d instanceof c.Name?d:m.let("data",d,!0)),void 0!==p&&(e.propertyName=p)),h&&(e.dataTypes=h)},t.extendSubschemaMode=function(e,t){var n=t.jtdDiscriminator,r=t.jtdMetadata,i=t.compositeRule,a=t.createErrors,o=t.allErrors;void 0!==i&&(e.compositeRule=i),void 0!==a&&(e.createErrors=a),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=n,e.jtdMetadata=r}},8549:function(e,t,n){"use strict";var r=n(4704).default,i=n(7061).default,a=n(7156).default,o=n(6690).default,s=n(9728).default,u=n(2122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var l=n(7733);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=n(6774);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=n(2605),d=n(6594),h=n(7445),p=n(3393),m=n(6774),v=n(3696),g=n(1562),y=n(1111),_=n(7099),b=n(3517),x=function(e,t){return new RegExp(e,t)};x.code="new RegExp";var w=["removeAdditional","useDefaults","coerceTypes"],S=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),E={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},A={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};var M=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts=u(u({},t),function(e){var t,n,r,i,a,o,s,l,c,f,d,h,p,m,v,g,y,_,w,S,E,A,M,T,k,C=e.strict,P=null===(t=e.code)||void 0===t?void 0:t.optimize,R=!0===P||void 0===P?1:P||0,N=null!==(r=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==r?r:x,O=null!==(i=e.uriResolver)&&void 0!==i?i:b.default;return{strictSchema:null===(o=null!==(a=e.strictSchema)&&void 0!==a?a:C)||void 0===o||o,strictNumbers:null===(l=null!==(s=e.strictNumbers)&&void 0!==s?s:C)||void 0===l||l,strictTypes:null!==(f=null!==(c=e.strictTypes)&&void 0!==c?c:C)&&void 0!==f?f:"log",strictTuples:null!==(h=null!==(d=e.strictTuples)&&void 0!==d?d:C)&&void 0!==h?h:"log",strictRequired:null!==(m=null!==(p=e.strictRequired)&&void 0!==p?p:C)&&void 0!==m&&m,code:e.code?u(u({},e.code),{},{optimize:R,regExp:N}):{optimize:R,regExp:N},loopRequired:null!==(v=e.loopRequired)&&void 0!==v?v:200,loopEnum:null!==(g=e.loopEnum)&&void 0!==g?g:200,meta:null===(y=e.meta)||void 0===y||y,messages:null===(_=e.messages)||void 0===_||_,inlineRefs:null===(w=e.inlineRefs)||void 0===w||w,schemaId:null!==(S=e.schemaId)&&void 0!==S?S:"$id",addUsedSchema:null===(E=e.addUsedSchema)||void 0===E||E,validateSchema:null===(A=e.validateSchema)||void 0===A||A,validateFormats:null===(M=e.validateFormats)||void 0===M||M,unicodeRegExp:null===(T=e.unicodeRegExp)||void 0===T||T,int32range:null===(k=e.int32range)||void 0===k||k,uriResolver:O}}(t));var n=this.opts.code,r=n.es5,i=n.lines;this.scope=new m.ValueScope({scope:{},prefixes:S,es5:r,lines:i}),this.logger=function(e){if(!1===e)return O;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(t.logger);var a=t.validateFormats;t.validateFormats=!1,this.RULES=(0,h.getRules)(),T.call(this,E,t,"NOT SUPPORTED"),T.call(this,A,t,"DEPRECATED","warn"),this._metaOpts=N.call(this),t.formats&&P.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&R.call(this,t.keywords),"object"==typeof t.meta&&this.addMetaSchema(t.meta),C.call(this),t.validateFormats=a}return s(e,[{key:"_addVocabularies",value:function(){this.addKeyword("$async")}},{key:"_addDefaultMetaSchema",value:function(){var e=this.opts,t=e.$data,n=e.meta,r=e.schemaId,i=_;"id"===r&&((i=u({},_)).id=i.$id,delete i.$id),n&&t&&this.addMetaSchema(i,i[r],!1)}},{key:"defaultMeta",value:function(){var e=this.opts,t=e.meta,n=e.schemaId;return this.opts.defaultMeta="object"==typeof t?t[n]||t:void 0}},{key:"validate",value:function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'.concat(e,'"'))}else n=this.compile(e);var r=n(t);return"$async"in n||(this.errors=n.errors),r}},{key:"compile",value:function(e,t){var n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}},{key:"compileAsync",value:function(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");var n=this.opts.loadSchema;return r.call(this,e,t);function r(e,t){return o.apply(this,arguments)}function o(){return(o=a(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.call(this,t.$schema);case 2:return r=this._addSchema(t,n),e.abrupt("return",r.validate||l.call(this,r));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function s(e){return u.apply(this,arguments)}function u(){return(u=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.getSchema(t)){e.next=3;break}return e.next=3,r.call(this,{$ref:t},!0);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return(c=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this._compileSchemaEnv(t));case 4:if(e.prev=4,e.t0=e.catch(0),e.t0 instanceof d.default){e.next=8;break}throw e.t0;case 8:return f.call(this,e.t0),e.next=11,h.call(this,e.t0.missingSchema);case 11:return e.abrupt("return",l.call(this,t));case 12:case"end":return e.stop()}}),e,this,[[0,4]])})))).apply(this,arguments)}function f(e){var t=e.missingSchema,n=e.missingRef;if(this.refs[t])throw new Error("AnySchema ".concat(t," is loaded but ").concat(n," cannot be resolved"))}function h(e){return p.apply(this,arguments)}function p(){return(p=a(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.call(this,n);case 2:if(r=e.sent,this.refs[n]){e.next=6;break}return e.next=6,s.call(this,r.$schema);case 6:this.refs[n]||this.addSchema(r,n,t);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=a(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this._loading[t])){e.next=3;break}return e.abrupt("return",r);case 3:return e.prev=3,e.next=6,this._loading[t]=n(t);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,delete this._loading[t],e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[3,,7,10]])})))).apply(this,arguments)}}},{key:"addSchema",value:function(e,t,n){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.validateSchema;if(Array.isArray(e)){var o,s=r(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.addSchema(u,void 0,n,a)}}catch(c){s.e(c)}finally{s.f()}return this}if("object"===typeof e){var l=this.opts.schemaId;if(void 0!==(i=e[l])&&"string"!=typeof i)throw new Error("schema ".concat(l," must be string"))}return t=(0,v.normalizeId)(t||i),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,a,!0),this}},{key:"addMetaSchema",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.opts.validateSchema;return this.addSchema(e,t,!0,n),this}},{key:"validateSchema",value:function(e,t){if("boolean"==typeof e)return!0;var n;if(void 0!==(n=e.$schema)&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(n,e);if(!r&&t){var i="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(i);this.logger.error(i)}return r}},{key:"getSchema",value:function(e){for(var t;"string"==typeof(t=k.call(this,e));)e=t;if(void 0===t){var n=this.opts.schemaId,r=new p.SchemaEnv({schema:{},schemaId:n});if(!(t=p.resolveSchema.call(this,r,e)))return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}},{key:"removeSchema",value:function(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":var t=k.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this;case"object":var n=e;this._cache.delete(n);var r=e[this.opts.schemaId];return r&&(r=(0,v.normalizeId)(r),delete this.schemas[r],delete this.refs[r]),this;default:throw new Error("ajv.removeSchema: invalid parameter")}}},{key:"addVocabulary",value:function(e){var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.addKeyword(i)}}catch(a){n.e(a)}finally{n.f()}return this}},{key:"addKeyword",value:function(e,t){var n,r=this;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(L.call(this,n,t),!t)return(0,y.eachItem)(n,(function(e){return D.call(r,e)})),this;F.call(this,t);var i=u(u({},t),{},{type:(0,g.getJSONTypes)(t.type),schemaType:(0,g.getJSONTypes)(t.schemaType)});return(0,y.eachItem)(n,0===i.type.length?function(e){return D.call(r,e,i)}:function(e){return i.type.forEach((function(t){return D.call(r,e,i,t)}))}),this}},{key:"getKeyword",value:function(e){var t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}},{key:"removeKeyword",value:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e];var n,i=r(t.rules);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.rules.findIndex((function(t){return t.keyword===e}));o>=0&&a.rules.splice(o,1)}}catch(s){i.e(s)}finally{i.f()}return this}},{key:"addFormat",value:function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}},{key:"errorsText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.errors,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.separator,r=void 0===n?", ":n,i=t.dataVar,a=void 0===i?"data":i;return e&&0!==e.length?e.map((function(e){return"".concat(a).concat(e.instancePath," ").concat(e.message)})).reduce((function(e,t){return e+r+t})):"No errors"}},{key:"$dataMetaSchema",value:function(e,t){var n=this.RULES.all;e=JSON.parse(JSON.stringify(e));var i,a=r(t);try{for(a.s();!(i=a.n()).done;){var o,s=i.value.split("/").slice(1),u=e,l=r(s);try{for(l.s();!(o=l.n()).done;){u=u[o.value]}}catch(p){l.e(p)}finally{l.f()}for(var c in n){var f=n[c];if("object"==typeof f){var d=f.definition.$data,h=u[c];d&&h&&(u[c]=B(h))}}}}catch(p){a.e(p)}finally{a.f()}return e}},{key:"_removeAllSchemas",value:function(e,t){for(var n in e){var r=e[n];t&&!t.test(n)||("string"==typeof r?delete e[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[n]))}}},{key:"_addSchema",value:function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.validateSchema,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.opts.addUsedSchema,o=this.opts.schemaId;if("object"==typeof e)r=e[o];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}var s=this._cache.get(e);if(void 0!==s)return s;n=(0,v.normalizeId)(r||n);var u=v.getSchemaRefs.call(this,e,n);return s=new p.SchemaEnv({schema:e,schemaId:o,meta:t,baseId:n,localRefs:u}),this._cache.set(s.schema,s),a&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=s),i&&this.validateSchema(e,!0),s}},{key:"_checkUnique",value:function(e){if(this.schemas[e]||this.refs[e])throw new Error('schema with key or id "'.concat(e,'" already exists'))}},{key:"_compileSchemaEnv",value:function(e){if(e.meta?this._compileMetaSchema(e):p.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}},{key:"_compileMetaSchema",value:function(e){var t=this.opts;this.opts=this._metaOpts;try{p.compileSchema.call(this,e)}finally{this.opts=t}}}]),e}();function T(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"error";for(var i in e){var a=i;a in t&&this.logger[r]("".concat(n,": option ").concat(i,". ").concat(e[a]))}}function k(e){return e=(0,v.normalizeId)(e),this.schemas[e]||this.refs[e]}function C(){var e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(var t in e)this.addSchema(e[t],t)}function P(){for(var e in this.opts.formats){var t=this.opts.formats[e];t&&this.addFormat(e,t)}}function R(e){if(Array.isArray(e))this.addVocabulary(e);else for(var t in this.logger.warn("keywords option as map is deprecated, pass array"),e){var n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}function N(){var e,t=u({},this.opts),n=r(w);try{for(n.s();!(e=n.n()).done;){delete t[e.value]}}catch(i){n.e(i)}finally{n.f()}return t}t.default=M,M.ValidationError=f.default,M.MissingRefError=d.default;var O={log:function(){},warn:function(){},error:function(){}};var I=/^[a-z_$][a-z0-9_$:-]*$/i;function L(e,t){var n=this.RULES;if((0,y.eachItem)(e,(function(e){if(n.keywords[e])throw new Error("Keyword ".concat(e," is already defined"));if(!I.test(e))throw new Error("Keyword ".concat(e," has invalid name"))})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function D(e,t,n){var r,i=this,a=null===t||void 0===t?void 0:t.post;if(n&&a)throw new Error('keyword with "post" flag cannot have "type"');var o=this.RULES,s=a?o.post:o.rules.find((function(e){return e.type===n}));if(s||(s={type:n,rules:[]},o.rules.push(s)),o.keywords[e]=!0,t){var l={keyword:e,definition:u(u({},t),{},{type:(0,g.getJSONTypes)(t.type),schemaType:(0,g.getJSONTypes)(t.schemaType)})};t.before?U.call(this,s,l,t.before):s.rules.push(l),o.all[e]=l,null===(r=t.implements)||void 0===r||r.forEach((function(e){return i.addKeyword(e)}))}}function U(e,t,n){var r=e.rules.findIndex((function(e){return e.keyword===n}));r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn("rule ".concat(n," is not defined")))}function F(e){var t=e.metaSchema;void 0!==t&&(e.$data&&this.opts.$data&&(t=B(t)),e.validateSchema=this.compile(t,!0))}var j={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function B(e){return{anyOf:[e,j]}}},7993:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8262);r.code='require("ajv/dist/runtime/equal").default',t.default=r},2973:function(e,t){"use strict";function n(e){for(var t,n=e.length,r=0,i=0;i<n;)r++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<n&&56320===(64512&(t=e.charCodeAt(i)))&&i++;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},3517:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23);r.code='require("ajv/dist/runtime/uri").default',t.default=r},2605:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default,a=n(1655).default,o=n(6389).default,s=n(3496).default;Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){a(n,e);var t=o(n);function n(e){var r;return i(this,n),(r=t.call(this,"validation failed")).errors=e,r.ajv=r.validation=!0,r}return r(n)}(s(Error));t.default=u},7394:function(e,t,n){"use strict";var r,i,a,o,s,u=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;var l=n(6774),c=n(1111),f={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:function(e){var t=e.params.len;return(0,l.str)(r||(r=u(["must NOT have more than "," items"])),t)},params:function(e){var t=e.params.len;return(0,l._)(i||(i=u(["{limit: ","}"])),t)}},code:function(e){var t=e.parentSchema,n=e.it,r=t.items;Array.isArray(r)?d(e,r):(0,c.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function d(e,t){var n=e.gen,r=e.schema,i=e.data,f=e.keyword,d=e.it;d.items=!0;var h=n.const("len",(0,l._)(a||(a=u(["",".length"])),i));if(!1===r)e.setParams({len:t.length}),e.pass((0,l._)(o||(o=u([""," <= ",""])),h,t.length));else if("object"==typeof r&&!(0,c.alwaysValidSchema)(d,r)){var p=n.var("valid",(0,l._)(s||(s=u([""," <= ",""])),h,t.length));n.if((0,l.not)(p),(function(){return function(r){n.forRange("i",t.length,h,(function(t){e.subschema({keyword:f,dataProp:t,dataPropType:c.Type.Num},r),d.allErrors||n.if((0,l.not)(r),(function(){return n.break()}))}))}(p)})),e.ok(p)}}t.validateAdditionalItems=d,t.default=f},9298:function(e,t,n){"use strict";var r,i,a,o,s,u=n(861).default,l=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var c=n(1853),f=n(6774),d=n(52),h=n(1111),p={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:function(e){var t=e.params;return(0,f._)(r||(r=l(["{additionalProperty: ","}"])),t.additionalProperty)}},code:function(e){var t=e.gen,n=e.schema,r=e.parentSchema,p=e.data,m=e.errsCount,v=e.it;if(!m)throw new Error("ajv implementation error");var g=v.allErrors,y=v.opts;if(v.props=!0,"all"===y.removeAdditional||!(0,h.alwaysValidSchema)(v,n)){var _=(0,c.allSchemaProperties)(r.properties),b=(0,c.allSchemaProperties)(r.patternProperties);t.forIn("key",p,(function(n){_.length||b.length?t.if(function(n){var i;if(_.length>8){var s=(0,h.schemaRefOrVal)(v,r.properties,"properties");i=(0,c.isOwnProperty)(t,s,n)}else i=_.length?f.or.apply(void 0,u(_.map((function(e){return(0,f._)(a||(a=l([""," === ",""])),n,e)})))):f.nil;return b.length&&(i=f.or.apply(void 0,[i].concat(u(b.map((function(t){return(0,f._)(o||(o=l(["",".test(",")"])),(0,c.usePattern)(e,t),n)})))))),(0,f.not)(i)}(n),(function(){return w(n)})):w(n)})),e.ok((0,f._)(i||(i=l([""," === ",""])),m,d.default.errors))}function x(e){t.code((0,f._)(s||(s=l(["delete ","[","]"])),p,e))}function w(r){if("all"===y.removeAdditional||y.removeAdditional&&!1===n)x(r);else{if(!1===n)return e.setParams({additionalProperty:r}),e.error(),void(g||t.break());if("object"==typeof n&&!(0,h.alwaysValidSchema)(v,n)){var i=t.name("valid");"failing"===y.removeAdditional?(S(r,i,!1),t.if((0,f.not)(i),(function(){e.reset(),x(r)}))):(S(r,i),g||t.if((0,f.not)(i),(function(){return t.break()})))}}}function S(t,n,r){var i={keyword:"additionalProperties",dataProp:t,dataPropType:h.Type.Str};!1===r&&Object.assign(i,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(i,n)}}};t.default=p},3163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1111),i={keyword:"allOf",schemaType:"array",code:function(e){var t=e.gen,n=e.schema,i=e.it;if(!Array.isArray(n))throw new Error("ajv implementation error");var a=t.name("valid");n.forEach((function(t,n){if(!(0,r.alwaysValidSchema)(i,t)){var o=e.subschema({keyword:"allOf",schemaProp:n},a);e.ok(a),e.mergeEvaluated(o)}}))}};t.default=i},9937:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(1853).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=r},9788:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var v=n(6774),g=n(1111),y={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:function(e){var t=e.params,n=t.min,a=t.max;return void 0===a?(0,v.str)(r||(r=m(["must contain at least "," valid item(s)"])),n):(0,v.str)(i||(i=m(["must contain at least "," and no more than "," valid item(s)"])),n,a)},params:function(e){var t=e.params,n=t.min,r=t.max;return void 0===r?(0,v._)(a||(a=m(["{minContains: ","}"])),n):(0,v._)(o||(o=m(["{minContains: ",", maxContains: ","}"])),n,r)}},code:function(e){var t,n,r=e.gen,i=e.schema,a=e.parentSchema,o=e.data,y=e.it,_=a.minContains,b=a.maxContains;y.opts.next?(t=void 0===_?1:_,n=b):t=1;var x=r.const("len",(0,v._)(s||(s=m(["",".length"])),o));if(e.setParams({min:t,max:n}),void 0!==n||0!==t){if(void 0!==n&&t>n)return(0,g.checkStrictMode)(y,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,g.alwaysValidSchema)(y,i)){var w=(0,v._)(u||(u=m([""," >= ",""])),x,t);return void 0!==n&&(w=(0,v._)(l||(l=m([""," && "," <= ",""])),w,x,n)),void e.pass(w)}y.items=!0;var S=r.name("valid");void 0===n&&1===t?A(S,(function(){return r.if(S,(function(){return r.break()}))})):0===t?(r.let(S,!0),void 0!==n&&r.if((0,v._)(c||(c=m(["",".length > 0"])),o),E)):(r.let(S,!1),E()),e.result(S,(function(){return e.reset()}))}else(0,g.checkStrictMode)(y,'"minContains" == 0 without "maxContains": "contains" keyword ignored');function E(){var e=r.name("_valid"),i=r.let("count",0);A(e,(function(){return r.if(e,(function(){return function(e){r.code((0,v._)(f||(f=m(["","++"])),e)),void 0===n?r.if((0,v._)(d||(d=m([""," >= ",""])),e,t),(function(){return r.assign(S,!0).break()})):(r.if((0,v._)(h||(h=m([""," > ",""])),e,n),(function(){return r.assign(S,!1).break()})),1===t?r.assign(S,!0):r.if((0,v._)(p||(p=m([""," >= ",""])),e,t),(function(){return r.assign(S,!0)})))}(i)}))}))}function A(t,n){r.forRange("i",0,x,(function(r){e.subschema({keyword:"contains",dataProp:r,dataPropType:g.Type.Num,compositeRule:!0},t),n()}))}}};t.default=y},8760:function(e,t,n){"use strict";var r,i,a,o=n(4704).default,s=n(7424).default,u=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;var l=n(6774),c=n(1111),f=n(1853);t.error={message:function(e){var t=e.params,n=t.property,i=t.depsCount,a=t.deps,o=1===i?"property":"properties";return(0,l.str)(r||(r=u(["must have "," "," when property "," is present"])),o,a,n)},params:function(e){var t=e.params,n=t.property,r=t.depsCount,a=t.deps,o=t.missingProperty;return(0,l._)(i||(i=u(["{property: ",",\n    missingProperty: ",",\n    depsCount: ",",\n    deps: ","}"])),n,o,r,a)}};var d={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code:function(e){var t=function(e){var t=e.schema,n={},r={};for(var i in t){if("__proto__"!==i)(Array.isArray(t[i])?n:r)[i]=t[i]}return[n,r]}(e),n=s(t,2),r=n[0],i=n[1];h(e,r),p(e,i)}};function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema,n=e.gen,r=e.data,i=e.it;if(0!==Object.keys(t).length){var s=n.let("missing"),c=function(){var c=t[d];if(0===c.length)return 1;var h=(0,f.propertyInData)(n,r,d,i.opts.ownProperties);e.setParams({property:d,depsCount:c.length,deps:c.join(", ")}),i.allErrors?n.if(h,(function(){var t,n=o(c);try{for(n.s();!(t=n.n()).done;){var r=t.value;(0,f.checkReportMissingProp)(e,r)}}catch(i){n.e(i)}finally{n.f()}})):(n.if((0,l._)(a||(a=u([""," && (",")"])),h,(0,f.checkMissingProp)(e,c,s))),(0,f.reportMissingProp)(e,s),n.else())};for(var d in t)c()}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema,n=e.gen,r=e.data,i=e.keyword,a=e.it,o=n.name("valid"),s=function(s){if((0,c.alwaysValidSchema)(a,t[s]))return 1;n.if((0,f.propertyInData)(n,r,s,a.opts.ownProperties),(function(){var t=e.subschema({keyword:i,schemaProp:s},o);e.mergeValidEvaluated(t,o)}),(function(){return n.var(o,!0)})),e.ok(o)};for(var u in t)s(u)}t.validatePropertyDeps=h,t.validateSchemaDeps=p,t.default=d},2838:function(e,t,n){"use strict";var r,i,a,o=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(6774),u=n(1111),l={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:function(e){var t=e.params;return(0,s.str)(r||(r=o(['must match "','" schema'])),t.ifClause)},params:function(e){var t=e.params;return(0,s._)(i||(i=o(["{failingKeyword: ","}"])),t.ifClause)}},code:function(e){var t=e.gen,n=e.parentSchema,r=e.it;void 0===n.then&&void 0===n.else&&(0,u.checkStrictMode)(r,'"if" without "then" and "else" is ignored');var i=c(r,"then"),l=c(r,"else");if(i||l){var f=t.let("valid",!0),d=t.name("_valid");if(function(){var t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},d);e.mergeEvaluated(t)}(),e.reset(),i&&l){var h=t.let("ifClause");e.setParams({ifClause:h}),t.if(d,p("then",h),p("else",h))}else i?t.if(d,p("then")):t.if((0,s.not)(d),p("else"));e.pass(f,(function(){return e.error(!0)}))}function p(n,r){return function(){var i=e.subschema({keyword:n},d);t.assign(f,d),e.mergeValidEvaluated(i,f),r?t.assign(r,(0,s._)(a||(a=o(["",""])),n)):e.setParams({ifClause:n})}}}};function c(e,t){var n=e.schema[t];return void 0!==n&&!(0,u.alwaysValidSchema)(e,n)}t.default=l},3729:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7394),i=n(8951),a=n(7143),o=n(3054),s=n(9788),u=n(8760),l=n(1847),c=n(9298),f=n(1393),d=n(1544),h=n(2689),p=n(9937),m=n(8294),v=n(3163),g=n(2838),y=n(5640);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[h.default,p.default,m.default,v.default,g.default,y.default,l.default,c.default,u.default,f.default,d.default];return e?t.push(i.default,o.default):t.push(r.default,a.default),t.push(s.default),t}},7143:function(e,t,n){"use strict";var r,i,a=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;var o=n(6774),s=n(1111),u=n(1853),l={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code:function(e){var t=e.schema,n=e.it;if(Array.isArray(t))return c(e,"additionalItems",t);n.items=!0,(0,s.alwaysValidSchema)(n,t)||e.ok((0,u.validateArray)(e))}};function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.schema,u=e.gen,l=e.parentSchema,c=e.data,f=e.keyword,d=e.it;!function(e){var r=d.opts,i=d.errSchemaPath,a=n.length,o=a===e.minItems&&(a===e.maxItems||!1===e[t]);if(r.strictTuples&&!o){var u='"'.concat(f,'" is ').concat(a,"-tuple, but minItems or maxItems/").concat(t,' are not specified or different at path "').concat(i,'"');(0,s.checkStrictMode)(d,u,r.strictTuples)}}(l),d.opts.unevaluated&&n.length&&!0!==d.items&&(d.items=s.mergeEvaluated.items(u,n.length,d.items));var h=u.name("valid"),p=u.const("len",(0,o._)(r||(r=a(["",".length"])),c));n.forEach((function(t,n){(0,s.alwaysValidSchema)(d,t)||(u.if((0,o._)(i||(i=a([""," > ",""])),p,n),(function(){return e.subschema({keyword:f,schemaProp:n,dataProp:n},h)})),e.ok(h))}))}t.validateTuple=c,t.default=l},3054:function(e,t,n){"use strict";var r,i,a=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(6774),s=n(1111),u=n(1853),l=n(7394),c={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:function(e){var t=e.params.len;return(0,o.str)(r||(r=a(["must NOT have more than "," items"])),t)},params:function(e){var t=e.params.len;return(0,o._)(i||(i=a(["{limit: ","}"])),t)}},code:function(e){var t=e.schema,n=e.parentSchema,r=e.it,i=n.prefixItems;r.items=!0,(0,s.alwaysValidSchema)(r,t)||(i?(0,l.validateAdditionalItems)(e,i):e.ok((0,u.validateArray)(e)))}};t.default=c},2689:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1111),i={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code:function(e){var t=e.gen,n=e.schema,i=e.it;if((0,r.alwaysValidSchema)(i,n))e.fail();else{var a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,(function(){return e.reset()}),(function(){return e.error()}))}},error:{message:"must NOT be valid"}};t.default=i},8294:function(e,t,n){"use strict";var r,i,a,o=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(6774),u=n(1111),l={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:function(e){var t=e.params;return(0,s._)(r||(r=o(["{passingSchemas: ","}"])),t.passing)}},code:function(e){var t=e.gen,n=e.schema,r=e.parentSchema,l=e.it;if(!Array.isArray(n))throw new Error("ajv implementation error");if(!l.opts.discriminator||!r.discriminator){var c=n,f=t.let("valid",!1),d=t.let("passing",null),h=t.name("_valid");e.setParams({passing:d}),t.block((function(){c.forEach((function(n,r){var c;(0,u.alwaysValidSchema)(l,n)?t.var(h,!0):c=e.subschema({keyword:"oneOf",schemaProp:r,compositeRule:!0},h),r>0&&t.if((0,s._)(i||(i=o([""," && ",""])),h,f)).assign(f,!1).assign(d,(0,s._)(a||(a=o(["[",", ","]"])),d,r)).else(),t.if(h,(function(){t.assign(f,!0),t.assign(d,r),c&&e.mergeEvaluated(c,s.Name)}))}))})),e.result(f,(function(){return e.reset()}),(function(){return e.error(!0)}))}}};t.default=l},1544:function(e,t,n){"use strict";var r,i,a=n(9400).default,o=n(4704).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(1853),u=n(6774),l=n(1111),c=n(1111),f={keyword:"patternProperties",type:"object",schemaType:"object",code:function(e){var t=e.gen,n=e.schema,f=e.data,d=e.parentSchema,h=e.it,p=h.opts,m=(0,s.allSchemaProperties)(n),v=m.filter((function(e){return(0,l.alwaysValidSchema)(h,n[e])}));if(0!==m.length&&(v.length!==m.length||h.opts.unevaluated&&!0!==h.props)){var g=p.strictSchema&&!p.allowMatchingProperties&&d.properties,y=t.name("valid");!0===h.props||h.props instanceof u.Name||(h.props=(0,c.evaluatedPropsToName)(t,h.props));var _=h.props;!function(){var e,n=o(m);try{for(n.s();!(e=n.n()).done;){var r=e.value;g&&b(r),h.allErrors?x(r):(t.var(y,!0),x(r),t.if(y))}}catch(i){n.e(i)}finally{n.f()}}()}function b(e){for(var t in g)new RegExp(e).test(t)&&(0,l.checkStrictMode)(h,"property ".concat(t," matches pattern ").concat(e," (use allowMatchingProperties)"))}function x(n){t.forIn("key",f,(function(o){t.if((0,u._)(r||(r=a(["",".test(",")"])),(0,s.usePattern)(e,n),o),(function(){var r=v.includes(n);r||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:o,dataPropType:c.Type.Str},y),h.opts.unevaluated&&!0!==_?t.assign((0,u._)(i||(i=a(["","[","]"])),_,o),!0):r||h.allErrors||t.if((0,u.not)(y),(function(){return t.break()}))}))}))}}};t.default=f},8951:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7143),i={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:function(e){return(0,r.validateTuple)(e,"items")}};t.default=i},1393:function(e,t,n){"use strict";var r=n(4704).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(7733),a=n(1853),o=n(1111),s=n(9298),u={keyword:"properties",type:"object",schemaType:"object",code:function(e){var t=e.gen,n=e.schema,u=e.parentSchema,l=e.data,c=e.it;"all"===c.opts.removeAdditional&&void 0===u.additionalProperties&&s.default.code(new i.KeywordCxt(c,s.default,"additionalProperties"));var f,d=(0,a.allSchemaProperties)(n),h=r(d);try{for(h.s();!(f=h.n()).done;){var p=f.value;c.definedProperties.add(p)}}catch(w){h.e(w)}finally{h.f()}c.opts.unevaluated&&d.length&&!0!==c.props&&(c.props=o.mergeEvaluated.props(t,(0,o.toHash)(d),c.props));var m=d.filter((function(e){return!(0,o.alwaysValidSchema)(c,n[e])}));if(0!==m.length){var v,g=t.name("valid"),y=r(m);try{for(y.s();!(v=y.n()).done;){var _=v.value;b(_)?x(_):(t.if((0,a.propertyInData)(t,l,_,c.opts.ownProperties)),x(_),c.allErrors||t.else().var(g,!0),t.endIf()),e.it.definedProperties.add(_),e.ok(g)}}catch(w){y.e(w)}finally{y.f()}}function b(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==n[e].default}function x(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},g)}}};t.default=u},1847:function(e,t,n){"use strict";var r,i=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(6774),o=n(1111),s={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:function(e){var t=e.params;return(0,a._)(r||(r=i(["{propertyName: ","}"])),t.propertyName)}},code:function(e){var t=e.gen,n=e.schema,r=e.data,i=e.it;if(!(0,o.alwaysValidSchema)(i,n)){var s=t.name("valid");t.forIn("key",r,(function(n){e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},s),t.if((0,a.not)(s),(function(){e.error(!0),i.allErrors||t.break()}))})),e.ok(s)}}};t.default=s},5640:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1111),i={keyword:["then","else"],schemaType:["object","boolean"],code:function(e){var t=e.keyword,n=e.parentSchema,i=e.it;void 0===n.if&&(0,r.checkStrictMode)(i,'"'.concat(t,'" without "if" is ignored'))}};t.default=i},1853:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m,v,g,y=n(861).default,_=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;var b=n(6774),x=n(1111),w=n(52),S=n(1111);function E(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,b._)(a||(a=_(["Object.prototype.hasOwnProperty"])))})}function A(e,t,n){return(0,b._)(o||(o=_(["",".call(",", ",")"])),E(e),t,n)}function M(e,t,n,r){var i=(0,b._)(l||(l=_(["",""," === undefined"])),t,(0,b.getProperty)(n));return r?(0,b.or)(i,(0,b.not)(A(e,t,n))):i}function T(e){return e?Object.keys(e).filter((function(e){return"__proto__"!==e})):[]}t.checkReportMissingProp=function(e,t){var n=e.gen,i=e.data,a=e.it;n.if(M(n,i,t,a.opts.ownProperties),(function(){e.setParams({missingProperty:(0,b._)(r||(r=_(["",""])),t)},!0),e.error()}))},t.checkMissingProp=function(e,t,n){var r=e.gen,a=e.data,o=e.it.opts;return b.or.apply(void 0,y(t.map((function(e){return(0,b.and)(M(r,a,e,o.ownProperties),(0,b._)(i||(i=_([""," = ",""])),n,e))}))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=E,t.isOwnProperty=A,t.propertyInData=function(e,t,n,r){var i=(0,b._)(s||(s=_(["",""," !== undefined"])),t,(0,b.getProperty)(n));return r?(0,b._)(u||(u=_([""," && ",""])),i,A(e,t,n)):i},t.noPropertyInData=M,t.allSchemaProperties=T,t.schemaProperties=function(e,t){return T(t).filter((function(n){return!(0,x.alwaysValidSchema)(e,t[n])}))},t.callValidateCode=function(e,t,n,r){var i=e.schemaCode,a=e.data,o=e.it,s=o.gen,u=o.topSchemaRef,l=o.schemaPath,p=o.errorPath,m=e.it,v=r?(0,b._)(c||(c=_(["",", ",", ","",""])),i,a,u,l):a,g=[[w.default.instancePath,(0,b.strConcat)(w.default.instancePath,p)],[w.default.parentData,m.parentData],[w.default.parentDataProperty,m.parentDataProperty],[w.default.rootData,w.default.rootData]];m.opts.dynamicRef&&g.push([w.default.dynamicAnchors,w.default.dynamicAnchors]);var y=(0,b._)(f||(f=_(["",", ",""])),v,s.object.apply(s,g));return n!==b.nil?(0,b._)(d||(d=_(["",".call(",", ",")"])),t,n,y):(0,b._)(h||(h=_(["","(",")"])),t,y)};var k=(0,b._)(p||(p=_(["new RegExp"])));t.usePattern=function(e,t){var n=e.gen,r=e.it.opts,i=r.unicodeRegExp?"u":"",a=r.code.regExp,o=a(t,i);return n.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,b._)(m||(m=_(["","(",", ",")"])),"new RegExp"===a.code?k:(0,S.useFunc)(n,a),t,i)})},t.validateArray=function(e){var t=e.gen,n=e.data,r=e.keyword,i=e.it,a=t.name("valid");if(i.allErrors){var o=t.let("valid",!0);return s((function(){return t.assign(o,!1)})),o}return t.var(a,!0),s((function(){return t.break()})),a;function s(i){var o=t.const("len",(0,b._)(v||(v=_(["",".length"])),n));t.forRange("i",0,o,(function(n){e.subschema({keyword:r,dataProp:n,dataPropType:x.Type.Num},a),t.if((0,b.not)(a),i)}))}},t.validateUnion=function(e){var t=e.gen,n=e.schema,r=e.keyword,i=e.it;if(!Array.isArray(n))throw new Error("ajv implementation error");if(!n.some((function(e){return(0,x.alwaysValidSchema)(i,e)}))||i.opts.unevaluated){var a=t.let("valid",!1),o=t.name("_valid");t.block((function(){return n.forEach((function(n,i){var s=e.subschema({keyword:r,schemaProp:i,compositeRule:!0},o);t.assign(a,(0,b._)(g||(g=_([""," || ",""])),a,o)),e.mergeValidEvaluated(s,o)||t.if((0,b.not)(a))}))})),e.result(a,(function(){return e.reset()}),(function(){return e.error(!0)}))}}},3369:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={keyword:"id",code:function(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},5613:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3369),i=n(938),a=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,i.default];t.default=a},938:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;var h=n(6594),p=n(1853),m=n(6774),v=n(52),g=n(3393),y=n(1111),_={keyword:"$ref",schemaType:"string",code:function(e){var t=e.gen,n=e.schema,i=e.it,a=i.baseId,o=i.schemaEnv,s=i.validateName,u=i.opts,l=i.self,c=o.root;if(("#"===n||"#/"===n)&&a===c.baseId)return function(){if(o===c)return x(e,s,o,o.$async);var n=t.scopeValue("root",{ref:c});return x(e,(0,m._)(r||(r=d(["",".validate"])),n),c,c.$async)}();var f=g.resolveRef.call(l,c,a,n);if(void 0===f)throw new h.default(i.opts.uriResolver,a,n);return f instanceof g.SchemaEnv?function(t){var n=b(e,t);x(e,n,t,t.$async)}(f):function(r){var i=t.scopeValue("schema",!0===u.code.source?{ref:r,code:(0,m.stringify)(r)}:{ref:r}),a=t.name("valid"),o=e.subschema({schema:r,dataTypes:[],schemaPath:m.nil,topSchemaRef:i,errSchemaPath:n},a);e.mergeEvaluated(o),e.ok(a)}(f)}};function b(e,t){var n=e.gen;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,m._)(i||(i=d(["",".validate"])),n.scopeValue("wrapper",{ref:t}))}function x(e,t,n,r){var i=e.gen,h=e.it,g=h.allErrors,_=h.schemaEnv,b=h.opts.passContext?v.default.this:m.nil;function x(e){var t=(0,m._)(s||(s=d(["",".errors"])),e);i.assign(v.default.vErrors,(0,m._)(u||(u=d([""," === null ? "," : ",".concat(",")"])),v.default.vErrors,t,v.default.vErrors,t)),i.assign(v.default.errors,(0,m._)(l||(l=d(["",".length"])),v.default.vErrors))}function w(e){var t;if(h.opts.unevaluated){var r=null===(t=null===n||void 0===n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==h.props)if(r&&!r.dynamicProps)void 0!==r.props&&(h.props=y.mergeEvaluated.props(i,r.props,h.props));else{var a=i.var("props",(0,m._)(c||(c=d(["",".evaluated.props"])),e));h.props=y.mergeEvaluated.props(i,a,h.props,m.Name)}if(!0!==h.items)if(r&&!r.dynamicItems)void 0!==r.items&&(h.items=y.mergeEvaluated.items(i,r.items,h.items));else{var o=i.var("items",(0,m._)(f||(f=d(["",".evaluated.items"])),e));h.items=y.mergeEvaluated.items(i,o,h.items,m.Name)}}}r?function(){if(!_.$async)throw new Error("async schema referenced by sync schema");var n=i.let("valid");i.try((function(){i.code((0,m._)(a||(a=d(["await ",""])),(0,p.callValidateCode)(e,t,b))),w(t),g||i.assign(n,!0)}),(function(e){i.if((0,m._)(o||(o=d(["!("," instanceof ",")"])),e,h.ValidationError),(function(){return i.throw(e)})),x(e),g||i.assign(n,!1)})),e.ok(n)}():e.result((0,p.callValidateCode)(e,t,b),(function(){return w(t)}),(function(){return x(t)}))}t.getValidate=b,t.callRef=x,t.default=_},8819:function(e,t,n){"use strict";var r,i,a,o,s=n(4704).default,u=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var l=n(6774),c=n(8602),f=n(3393),d=n(1111),h={keyword:"discriminator",type:"object",schemaType:"object",error:{message:function(e){var t=e.params,n=t.discrError,r=t.tagName;return n===c.DiscrError.Tag?'tag "'.concat(r,'" must be string'):'value of tag "'.concat(r,'" must be in oneOf')},params:function(e){var t=e.params,n=t.discrError,i=t.tag,a=t.tagName;return(0,l._)(r||(r=u(["{error: ",", tag: ",", tagValue: ","}"])),n,a,i)}},code:function(e){var t=e.gen,n=e.data,r=e.schema,h=e.parentSchema,p=e.it,m=h.oneOf;if(!p.opts.discriminator)throw new Error("discriminator: requires discriminator option");var v=r.propertyName;if("string"!=typeof v)throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");var g=t.let("valid",!1),y=t.const("tag",(0,l._)(i||(i=u(["","",""])),n,(0,l.getProperty)(v)));function _(n){var r=t.name("valid"),i=e.subschema({keyword:"oneOf",schemaProp:n},r);return e.mergeEvaluated(i,l.Name),r}t.if((0,l._)(a||(a=u(["typeof ",' == "string"'])),y),(function(){return function(){var n=function(){for(var e,t={},n=u(h),r=!0,i=0;i<m.length;i++){var a=m[i];(null===a||void 0===a?void 0:a.$ref)&&!(0,d.schemaHasRulesButRef)(a,p.self.RULES)&&(a=f.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,null===a||void 0===a?void 0:a.$ref))instanceof f.SchemaEnv&&(a=a.schema);var o=null===(e=null===a||void 0===a?void 0:a.properties)||void 0===e?void 0:e[v];if("object"!=typeof o)throw new Error('discriminator: oneOf subschemas (or referenced schemas) must have "properties/'.concat(v,'"'));r=r&&(n||u(a)),l(o,i)}if(!r)throw new Error('discriminator: "'.concat(v,'" must be required'));return t;function u(e){var t=e.required;return Array.isArray(t)&&t.includes(v)}function l(e,t){if(e.const)c(e.const,t);else{if(!e.enum)throw new Error('discriminator: "properties/'.concat(v,'" must have "const" or "enum"'));var n,r=s(e.enum);try{for(r.s();!(n=r.n()).done;){c(n.value,t)}}catch(i){r.e(i)}finally{r.f()}}}function c(e,n){if("string"!=typeof e||e in t)throw new Error('discriminator: "'.concat(v,'" values must be unique strings'));t[e]=n}}();for(var r in t.if(!1),n)t.elseIf((0,l._)(o||(o=u([""," === ",""])),y,r)),t.assign(g,_(n[r]));t.else(),e.error(!1,{discrError:c.DiscrError.Mapping,tag:y,tagName:v}),t.endIf()}()}),(function(){return e.error(!1,{discrError:c.DiscrError.Tag,tag:y,tagName:v})})),e.ok(g)}};t.default=h},8602:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))},7848:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5613),i=n(433),a=n(3729),o=n(8571),s=n(4076),u=[r.default,i.default,(0,a.default)(),o.default,s.metadataVocabulary,s.contentVocabulary];t.default=u},6722:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m,v,g,y,_,b=n(7424).default,x=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var w=n(6774),S={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:function(e){var t=e.schemaCode;return(0,w.str)(r||(r=x(['must match format "','"'])),t)},params:function(e){var t=e.schemaCode;return(0,w._)(i||(i=x(["{format: ","}"])),t)}},code:function(e,t){var n=e.gen,r=e.data,i=e.$data,S=e.schema,E=e.schemaCode,A=e.it,M=A.opts,T=A.errSchemaPath,k=A.schemaEnv,C=A.self;M.validateFormats&&(i?function(){var i=n.scopeValue("formats",{ref:C.formats,code:M.code.formats}),m=n.const("fDef",(0,w._)(a||(a=x(["","[","]"])),i,E)),v=n.let("fType"),g=n.let("format");n.if((0,w._)(o||(o=x(["typeof ",' == "object" && !('," instanceof RegExp)"])),m,m),(function(){return n.assign(v,(0,w._)(s||(s=x(["",'.type || "string"'])),m)).assign(g,(0,w._)(u||(u=x(["",".validate"])),m))}),(function(){return n.assign(v,(0,w._)(l||(l=x(['"string"'])))).assign(g,m)})),e.fail$data((0,w.or)(!1===M.strictSchema?w.nil:(0,w._)(c||(c=x([""," && !",""])),E,g),function(){var e=k.$async?(0,w._)(f||(f=x(["(",".async ? await ","(",") : ","(","))"])),m,g,r,g,r):(0,w._)(d||(d=x(["","(",")"])),g,r),n=(0,w._)(h||(h=x(["(typeof ",' == "function" ? '," : ",".test(","))"])),g,e,g,r);return(0,w._)(p||(p=x([""," && "," !== true && "," === "," && !",""])),g,g,v,t,n)}()))}():function(){var i=C.formats[S];if(!i)return void function(){if(!1===M.strictSchema)return void C.logger.warn(e());throw new Error(e());function e(){return'unknown format "'.concat(S,'" ignored in schema at path "').concat(T,'"')}}();if(!0===i)return;var a=function(e){var t=e instanceof RegExp?(0,w.regexpCode)(e):M.code.formats?(0,w._)(m||(m=x(["","",""])),M.code.formats,(0,w.getProperty)(S)):void 0,r=n.scopeValue("formats",{key:S,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,(0,w._)(v||(v=x(["",".validate"])),r)];return["string",e,r]}(i),o=b(a,3),s=o[0],u=o[1],l=o[2];s===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!k.$async)throw new Error("async format in sync schema");return(0,w._)(g||(g=x(["await ","(",")"])),l,r)}return"function"==typeof u?(0,w._)(y||(y=x(["","(",")"])),l,r):(0,w._)(_||(_=x(["",".test(",")"])),l,r)}())}())}};t.default=S},8571:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[n(6722).default];t.default=r},4076:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},4143:function(e,t,n){"use strict";var r,i,a,o=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(6774),u=n(1111),l=n(7993),c={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:function(e){var t=e.schemaCode;return(0,s._)(r||(r=o(["{allowedValue: ","}"])),t)}},code:function(e){var t=e.gen,n=e.data,r=e.$data,c=e.schemaCode,f=e.schema;r||f&&"object"==typeof f?e.fail$data((0,s._)(i||(i=o(["!","(",", ",")"])),(0,u.useFunc)(t,l.default),n,c)):e.fail((0,s._)(a||(a=o([""," !== ",""])),f,n))}};t.default=c},1424:function(e,t,n){"use strict";var r,i,a,o,s=n(861).default,u=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var l=n(6774),c=n(1111),f=n(7993),d={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:function(e){var t=e.schemaCode;return(0,l._)(r||(r=u(["{allowedValues: ","}"])),t)}},code:function(e){var t=e.gen,n=e.data,r=e.$data,d=e.schema,h=e.schemaCode,p=e.it;if(!r&&0===d.length)throw new Error("enum must have non-empty array");var m,v,g=d.length>=p.opts.loopEnum,y=function(){return null!==m&&void 0!==m?m:m=(0,c.useFunc)(t,f.default)};if(g||r)v=t.let("valid"),e.block$data(v,(function(){t.assign(v,!1),t.forOf("v",h,(function(e){return t.if((0,l._)(i||(i=u(["","(",", ",")"])),y(),n,e),(function(){return t.assign(v,!0).break()}))}))}));else{if(!Array.isArray(d))throw new Error("ajv implementation error");var _=t.const("vSchema",h);v=l.or.apply(void 0,s(d.map((function(e,t){return function(e,t){var r=d[t];return"object"===typeof r&&null!==r?(0,l._)(a||(a=u(["","(",", ","[","])"])),y(),n,e,t):(0,l._)(o||(o=u([""," === ",""])),n,r)}(_,t)}))))}e.pass(v)}};t.default=d},433:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8927),i=n(3572),a=n(2794),o=n(1612),s=n(3885),u=n(7738),l=n(259),c=n(8596),f=n(4143),d=n(1424),h=[r.default,i.default,a.default,o.default,s.default,u.default,l.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,d.default];t.default=h},259:function(e,t,n){"use strict";var r,i,a,o=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(6774),u={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:function(e){var t=e.keyword,n=e.schemaCode,i="maxItems"===t?"more":"fewer";return(0,s.str)(r||(r=o(["must NOT have "," than "," items"])),i,n)},params:function(e){var t=e.schemaCode;return(0,s._)(i||(i=o(["{limit: ","}"])),t)}},code:function(e){var t=e.keyword,n=e.data,r=e.schemaCode,i="maxItems"===t?s.operators.GT:s.operators.LT;e.fail$data((0,s._)(a||(a=o(["",".length "," ",""])),n,i,r))}};t.default=u},2794:function(e,t,n){"use strict";var r,i,a,o,s,u=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var l=n(6774),c=n(1111),f=n(2973),d={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:function(e){var t=e.keyword,n=e.schemaCode,i="maxLength"===t?"more":"fewer";return(0,l.str)(r||(r=u(["must NOT have "," than "," characters"])),i,n)},params:function(e){var t=e.schemaCode;return(0,l._)(i||(i=u(["{limit: ","}"])),t)}},code:function(e){var t=e.keyword,n=e.data,r=e.schemaCode,i=e.it,d="maxLength"===t?l.operators.GT:l.operators.LT,h=!1===i.opts.unicode?(0,l._)(a||(a=u(["",".length"])),n):(0,l._)(o||(o=u(["","(",")"])),(0,c.useFunc)(e.gen,f.default),n);e.fail$data((0,l._)(s||(s=u([""," "," ",""])),h,d,r))}};t.default=d},8927:function(e,t,n){"use strict";var r,i,a,o=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(6774),u=s.operators,l={maximum:{okStr:"<=",ok:u.LTE,fail:u.GT},minimum:{okStr:">=",ok:u.GTE,fail:u.LT},exclusiveMaximum:{okStr:"<",ok:u.LT,fail:u.GTE},exclusiveMinimum:{okStr:">",ok:u.GT,fail:u.LTE}},c={message:function(e){var t=e.keyword,n=e.schemaCode;return(0,s.str)(r||(r=o(["must be "," ",""])),l[t].okStr,n)},params:function(e){var t=e.keyword,n=e.schemaCode;return(0,s._)(i||(i=o(["{comparison: ",", limit: ","}"])),l[t].okStr,n)}},f={keyword:Object.keys(l),type:"number",schemaType:"number",$data:!0,error:c,code:function(e){var t=e.keyword,n=e.data,r=e.schemaCode;e.fail$data((0,s._)(a||(a=o([""," "," "," || isNaN(",")"])),n,l[t].fail,r,n))}};t.default=f},3885:function(e,t,n){"use strict";var r,i,a,o=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(6774),u={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:function(e){var t=e.keyword,n=e.schemaCode,i="maxProperties"===t?"more":"fewer";return(0,s.str)(r||(r=o(["must NOT have "," than "," properties"])),i,n)},params:function(e){var t=e.schemaCode;return(0,s._)(i||(i=o(["{limit: ","}"])),t)}},code:function(e){var t=e.keyword,n=e.data,r=e.schemaCode,i="maxProperties"===t?s.operators.GT:s.operators.LT;e.fail$data((0,s._)(a||(a=o(["Object.keys(",").length "," ",""])),n,i,r))}};t.default=u},3572:function(e,t,n){"use strict";var r,i,a,o,s,u=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var l=n(6774),c={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:function(e){var t=e.schemaCode;return(0,l.str)(r||(r=u(["must be multiple of ",""])),t)},params:function(e){var t=e.schemaCode;return(0,l._)(i||(i=u(["{multipleOf: ","}"])),t)}},code:function(e){var t=e.gen,n=e.data,r=e.schemaCode,i=e.it.opts.multipleOfPrecision,c=t.let("res"),f=i?(0,l._)(a||(a=u(["Math.abs(Math.round(",") - ",") > 1e-",""])),c,c,i):(0,l._)(o||(o=u([""," !== parseInt(",")"])),c,c);e.fail$data((0,l._)(s||(s=u(["("," === 0 || ("," = ","/",", ","))"])),r,c,n,r,f))}};t.default=c},1612:function(e,t,n){"use strict";var r,i,a,o,s=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var u=n(1853),l=n(6774),c={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:function(e){var t=e.schemaCode;return(0,l.str)(r||(r=s(['must match pattern "','"'])),t)},params:function(e){var t=e.schemaCode;return(0,l._)(i||(i=s(["{pattern: ","}"])),t)}},code:function(e){var t=e.data,n=e.$data,r=e.schema,i=e.schemaCode,c=e.it.opts.unicodeRegExp?"u":"",f=n?(0,l._)(a||(a=s(["(new RegExp(",", ","))"])),i,c):(0,u.usePattern)(e,r);e.fail$data((0,l._)(o||(o=s(["!",".test(",")"])),f,t))}};t.default=c},7738:function(e,t,n){"use strict";var r,i,a=n(4704).default,o=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(1853),u=n(6774),l=n(1111),c={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:function(e){var t=e.params.missingProperty;return(0,u.str)(r||(r=o(["must have required property '","'"])),t)},params:function(e){var t=e.params.missingProperty;return(0,u._)(i||(i=o(["{missingProperty: ","}"])),t)}},code:function(e){var t=e.gen,n=e.schema,r=e.schemaCode,i=e.data,o=e.$data,c=e.it,f=c.opts;if(o||0!==n.length){var d=n.length>=f.loopRequired;if(c.allErrors?function(){if(d||o)e.block$data(u.nil,b);else{var t,r=a(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;(0,s.checkReportMissingProp)(e,i)}}catch(l){r.e(l)}finally{r.f()}}}():function(){var a=t.let("missing");if(d||o){var l=t.let("valid",!0);e.block$data(l,(function(){return function(n,a){e.setParams({missingProperty:n}),t.forOf(n,r,(function(){t.assign(a,(0,s.propertyInData)(t,i,n,f.ownProperties)),t.if((0,u.not)(a),(function(){e.error(),t.break()}))}),u.nil)}(a,l)})),e.ok(l)}else t.if((0,s.checkMissingProp)(e,n,a)),(0,s.reportMissingProp)(e,a),t.else()}(),f.strictRequired){var h,p=e.parentSchema.properties,m=e.it.definedProperties,v=a(n);try{for(v.s();!(h=v.n()).done;){var g=h.value;if(void 0===(null===p||void 0===p?void 0:p[g])&&!m.has(g)){var y=c.schemaEnv.baseId+c.errSchemaPath,_='required property "'.concat(g,'" is not defined at "').concat(y,'" (strictRequired)');(0,l.checkStrictMode)(c,_,c.opts.strictRequired)}}}catch(x){v.e(x)}finally{v.f()}}}function b(){t.forOf("prop",r,(function(n){e.setParams({missingProperty:n}),t.if((0,s.noPropertyInData)(t,i,n,f.ownProperties),(function(){return e.error()}))}))}}};t.default=c},8596:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,f,d,h,p,m,v,g,y,_,b=n(9400).default;Object.defineProperty(t,"__esModule",{value:!0});var x=n(1562),w=n(6774),S=n(1111),E=n(7993),A={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:function(e){var t=e.params,n=t.i,i=t.j;return(0,w.str)(r||(r=b(["must NOT have duplicate items (items ## "," and "," are identical)"])),i,n)},params:function(e){var t=e.params,n=t.i,r=t.j;return(0,w._)(i||(i=b(["{i: ",", j: ","}"])),n,r)}},code:function(e){var t=e.gen,n=e.data,r=e.$data,i=e.schema,A=e.parentSchema,M=e.schemaCode,T=e.it;if(r||i){var k=t.let("valid"),C=A.items?(0,x.getSchemaTypes)(A.items):[];e.block$data(k,(function(){var r=t.let("i",(0,w._)(o||(o=b(["",".length"])),n)),i=t.let("j");e.setParams({i:r,j:i}),t.assign(k,!0),t.if((0,w._)(s||(s=b([""," > 1"])),r),(function(){return(C.length>0&&!C.some((function(e){return"object"===e||"array"===e}))?P:R)(r,i)}))}),(0,w._)(a||(a=b([""," === false"])),M)),e.ok(k)}function P(r,i){var a=t.name("item"),o=(0,x.checkDataTypes)(C,a,T.opts.strictNumbers,x.DataType.Wrong),s=t.const("indices",(0,w._)(u||(u=b(["{}"]))));t.for((0,w._)(l||(l=b([";","--;"])),r),(function(){t.let(a,(0,w._)(c||(c=b(["","[","]"])),n,r)),t.if(o,(0,w._)(f||(f=b(["continue"])))),C.length>1&&t.if((0,w._)(d||(d=b(["typeof ",' == "string"'])),a),(0,w._)(h||(h=b(["",' += "_"'])),a)),t.if((0,w._)(p||(p=b(["typeof ","[",'] == "number"'])),s,a),(function(){t.assign(i,(0,w._)(m||(m=b(["","[","]"])),s,a)),e.error(),t.assign(k,!1).break()})).code((0,w._)(v||(v=b(["","[","] = ",""])),s,a,r))}))}function R(r,i){var a=(0,S.useFunc)(t,E.default),o=t.name("outer");t.label(o).for((0,w._)(g||(g=b([";","--;"])),r),(function(){return t.for((0,w._)(y||(y=b([""," = ","; ","--;"])),i,r,i),(function(){return t.if((0,w._)(_||(_=b(["","(","[","], ","[","])"])),a,n,r,n,i),(function(){e.error(),t.assign(k,!1).break(o)}))}))}))}}};t.default=A},5713:function(e){"use strict";var t=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function n(e,r,i,a,o,s,u,l,c,f){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var d in r(a,o,s,u,l,c,f),a){var h=a[d];if(Array.isArray(h)){if(d in t.arrayKeywords)for(var p=0;p<h.length;p++)n(e,r,i,h[p],o+"/"+d+"/"+p,s,o,d,a,p)}else if(d in t.propsKeywords){if(h&&"object"==typeof h)for(var m in h)n(e,r,i,h[m],o+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,o,d,a,m)}else(d in t.keywords||e.allKeys&&!(d in t.skipKeywords))&&n(e,r,i,h,o+"/"+d,s,o,d,a)}i(a,o,s,u,l,c,f)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},7130:function(e,t,n){"use strict";var r=n(5081),i=n(6934),a=n(3642),o=Math.pow(2,31)-1;function s(e,t){var n,r=1;if(0===e)return t;if(0===t)return e;for(;e%2===0&&t%2===0;)e/=2,t/=2,r*=2;for(;e%2===0;)e/=2;for(;t;){for(;t%2===0;)t/=2;e>t&&(n=t,t=e,e=n),t-=e}return r*e}function u(e,t){var n,r=0;if(0===e)return t;if(0===t)return e;for(;0===(1&e)&&0===(1&t);)e>>>=1,t>>>=1,r++;for(;0===(1&e);)e>>>=1;for(;t;){for(;0===(1&t);)t>>>=1;e>t&&(n=t,t=e,e=n),t-=e}return e<<r}e.exports=function(){var e,t,n,l,c,f,d,h=arguments.length;for(e=new Array(h),d=0;d<h;d++)e[d]=arguments[d];if(i(e)){if(2===h)return(c=e[0])<0&&(c=-c),(f=e[1])<0&&(f=-f),c<=o&&f<=o?u(c,f):s(c,f);n=e}else{if(!r(e[0]))throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+e[0]+"`.");if(h>1){if(n=e[0],t=e[1],!a(t))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+t+"`.")}else n=e[0]}if((l=n.length)<2)return null;if(t){for(c=new Array(l),d=0;d<l;d++)c[d]=t(n[d],d);n=c}if(h<3&&!i(n))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+n+"`.");for(d=0;d<l;d++)(c=n[d])<0&&(n[d]=-c);for(c=n[0],d=1;d<l;d++)c=(f=n[d])<=o&&c<=o?u(c,f):s(c,f);return c}},3027:function(e,t,n){"use strict";var r=n(7130),i=n(5081),a=n(6934),o=n(3642);e.exports=function(){var e,t,n,s,u,l,c,f=arguments.length;for(e=new Array(f),c=0;c<f;c++)e[c]=arguments[c];if(a(e)){if(2===f)return(u=e[0])<0&&(u=-u),(l=e[1])<0&&(l=-l),0===u||0===l?0:u/r(u,l)*l;n=e}else{if(!i(e[0]))throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+e[0]+"`.");if(f>1){if(n=e[0],t=e[1],!o(t))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+t+"`.")}else n=e[0]}if((s=n.length)<2)return null;if(t){for(u=new Array(s),c=0;c<s;c++)u[c]=t(n[c],c);n=u}if(f<3&&!a(n))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+n+"`.");for(c=0;c<s;c++)(u=n[c])<0&&(n[c]=-u);for(u=n[0],c=1;c<s;c++){if(l=n[c],0===u||0===l)return 0;u=u/r(u,l)*l}return u}},8262:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},9394:function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},2530:function(e){"use strict";e.exports={}},4035:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,s],c=0;(u=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},2553:function(e,t,n){var r=n(8111),i=n(4286),a=n(2064),o=n(6742),s=n(6933),u=n(5366),l=n(3977),c=n(5127),f=function(e){return Array.isArray(e)?e:[e]},d=function(e){return void 0===e},h=function(e){return l(e)||Array.isArray(e)?Object.keys(e):[]},p=function(e,t){return e.hasOwnProperty(t)},m=function(e){return i(a(e))},v=function(e){return d(e)||Array.isArray(e)&&0===e.length},g=function(e,t,n,r){return t&&p(t,n)&&e&&p(e,n)&&r(e[n],t[n])},y=function(e,t){return d(e)&&0===t||d(t)&&0===e||r(e,t)},_=function(e){return d(e)||r(e,{})||!0===e},b=function(e){return d(e)||r(e,{})},x=function(e){return d(e)||l(e)||!0===e||!1===e};function w(e,t){return!(!v(e)||!v(t))||r(m(e),m(t))}function S(e,t,n,i){var o=a(h(e).concat(h(t)));return!(!b(e)||!b(t))||(!b(e)||!h(t).length)&&((!b(t)||!h(e).length)&&o.every((function(n){var a=e[n],o=t[n];return Array.isArray(a)&&Array.isArray(o)?r(m(e),m(t)):!(Array.isArray(a)&&!Array.isArray(o))&&(!(Array.isArray(o)&&!Array.isArray(a))&&g(e,t,n,i))})))}function E(e,t,n,r){var i=o(e,r),a=o(t,r);return u(i,a,r).length===Math.max(i.length,a.length)}var A={title:r,uniqueItems:function(e,t){return d(e)&&!1===t||d(t)&&!1===e||r(e,t)},minLength:y,minItems:y,minProperties:y,required:w,enum:w,type:function(e,t){return e=f(e),t=f(t),r(m(e),m(t))},items:function(e,t,n,i){return l(e)&&l(t)?i(e,t):Array.isArray(e)&&Array.isArray(t)?S(e,t,0,i):r(e,t)},anyOf:E,allOf:E,oneOf:E,properties:S,patternProperties:S,dependencies:S},M=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],T=["additionalProperties","additionalItems","contains","propertyNames","not"];e.exports=function e(t,n,i){if(i=s(i,{ignore:[]}),_(t)&&_(n))return!0;if(!x(t)||!x(n))throw new Error("Either of the values are not a JSON schema.");if(t===n)return!0;if(c(t)&&c(n))return t===n;if(void 0===t&&!1===n||void 0===n&&!1===t)return!1;if(d(t)&&!d(n)||!d(t)&&d(n))return!1;var o=a(Object.keys(t).concat(Object.keys(n)));if(i.ignore.length&&(o=o.filter((function(e){return-1===i.ignore.indexOf(e)}))),!o.length)return!0;function u(t,n){return e(t,n,i)}return o.every((function(a){var o=t[a],s=n[a];if(-1!==T.indexOf(a))return e(o,s,i);var l=A[a];if(l||(l=r),r(o,s))return!0;if(-1===M.indexOf(a)&&(!p(t,a)&&p(n,a)||p(t,a)&&!p(n,a)))return o===s;var f=l(o,s,a,u);if(!c(f))throw new Error("Comparer must return true or false");return f}))}},2920:function(e,t,n){var r=n(5506),i=n(3613),a=n(3977),o=n(2064),s=n(6742),u=n(1761);var l=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c=function(e){return a(e)||Array.isArray(e)?Object.keys(e):[]},f=function(e){return!c(e).length&&!1!==e&&!0!==e};e.exports={allUniqueKeys:function(e){return o(i(e.map(c)))},deleteUndefinedProps:function(e){for(var t in e)l(e,t)&&f(e[t])&&delete e[t];return e},getValues:function(e,t){return e.map((function(e){return e&&e[t]}))},has:l,isEmptySchema:f,isSchema:function(e){return a(e)||!0===e||!1===e},keys:c,notUndefined:function(e){return void 0!==e},uniqWith:s,withoutArr:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return u.apply(null,[e].concat(r(n)))}}},7586:function(e,t,n){var r=n(2553),i=n(6514),a=n(2920),o=a.allUniqueKeys,s=a.deleteUndefinedProps,u=a.has,l=a.isSchema,c=a.notUndefined,f=a.uniqWith;function d(e,t,n){return o(n).reduce((function(n,i){var a=function(e,t){return e.map((function(e){if(e){if(!Array.isArray(e.items))return e.items;var n=e.items[t];return l(n)?n:u(e,"additionalItems")?e.additionalItems:void 0}}))}(e,i),o=f(a.filter(c),r);return n[i]=t(o,i),n}),[])}e.exports={keywords:["items","additionalItems"],resolver:function(e,t,n){var r,a,o=e.map((function(e){return e.items})),u=o.filter(c),f={};return u.every(l)?f.items=n.items(o):f.items=d(e,n.items,o),u.every(Array.isArray)?r=e.map((function(e){return e.additionalItems})):u.some(Array.isArray)&&(r=e.map((function(e){if(e)return Array.isArray(e.items)?e.additionalItems:e.items}))),r&&(f.additionalItems=n.additionalItems(r)),!1===f.additionalItems&&Array.isArray(f.items)&&(a=f.items,i(a,(function(e,t){!1===e&&a.splice(t,1)}))),s(f)}}},9906:function(e,t,n){var r=n(2553),i=n(6514),a=n(2920),o=a.allUniqueKeys,s=a.deleteUndefinedProps,u=a.getValues,l=a.keys,c=a.notUndefined,f=a.uniqWith,d=a.withoutArr;function h(e,t){return o(e).reduce((function(n,i){var a=u(e,i),o=f(a.filter(c),r);return n[i]=t(o,i),n}),{})}e.exports={keywords:["properties","patternProperties","additionalProperties"],resolver:function(e,t,n,r){r.ignoreAdditionalProperties||(e.forEach((function(t){var r=e.filter((function(e){return e!==t})),i=l(t.properties),a=l(t.patternProperties).map((function(e){return new RegExp(e)}));r.forEach((function(e){var r=l(e.properties),o=r.filter((function(e){return a.some((function(t){return t.test(e)}))}));d(r,i,o).forEach((function(r){e.properties[r]=n.properties([e.properties[r],t.additionalProperties],r)}))}))})),e.forEach((function(t){var n=e.filter((function(e){return e!==t})),r=l(t.patternProperties);!1===t.additionalProperties&&n.forEach((function(e){var t=l(e.patternProperties);d(t,r).forEach((function(t){return delete e.patternProperties[t]}))}))})));var a,o={additionalProperties:n.additionalProperties(e.map((function(e){return e.additionalProperties}))),patternProperties:h(e.map((function(e){return e.patternProperties})),n.patternProperties),properties:h(e.map((function(e){return e.properties})),n.properties)};return!1===o.additionalProperties&&i(a=o.properties,(function(e,t){!1===e&&delete a[t]})),s(o)}}},2699:function(e,t,n){var r=n(7424).default,i=n(2122).default,a=n(861).default,o=n(215).default,s=n(8416).default,u=["allOf"],l=n(8121),c=n(2553),f=n(3027),d=n(4521),h=n(5506),p=n(3613),m=n(7753),v=n(5366),g=n(8111),y=n(3977),_=n(566),b=n(4286),x=n(2064),w=n(6742),S=n(9906),E=n(7586),A=function(e,t){return-1!==e.indexOf(t)},M=function(e){return y(e)||!0===e||!1===e},T=function(e){return!1===e},k=function(e){return!0===e},C=function(e,t,n){return n(e)},P=function(e){return b(x(p(e)))},R=function(e){return void 0!==e},N=function(e){return x(p(e.map(F)))},O=function(e){return e[0]},I=function(e){return Math.max.apply(Math,e)},L=function(e){return Math.min.apply(Math,e)};function D(e){var t=e.allOf,n=void 0===t?[]:t,r=o(e,u);return[r=y(e)?r:e].concat(a(n.map(D)))}function U(e,t){return e.map((function(e){return e&&e[t]}))}function F(e){return y(e)||Array.isArray(e)?Object.keys(e):[]}function j(e,t){if(t=t||[],!e.length)return t;var n=e.slice(0).shift(),r=e.slice(1);return t.length?j(r,h(t.map((function(e){return n.map((function(t){return[t].concat(e)}))})))):j(r,n.map((function(e){return e})))}function B(e,t){var n;try{n=e.map((function(e){return JSON.stringify(e,null,2)})).join("\n")}catch(r){n=e.join(", ")}throw new Error('Could not resolve values for path:"'+t.join(".")+'". They are probably incompatible. Values: \n'+n)}function z(e){return{required:e}}var V=["properties","patternProperties","definitions","dependencies"],H=["anyOf","oneOf"],G=["additionalProperties","additionalItems","contains","propertyNames","not","items"],Z={type:function(e){if(e.some(Array.isArray)){var t=e.map((function(e){return Array.isArray(e)?e:[e]})),n=m.apply(null,t);if(1===n.length)return n[0];if(n.length>1)return x(n)}},dependencies:function(e,t,n){return N(e).reduce((function(t,r){var i=U(e,r),a=w(i.filter(R),g),o=a.filter(Array.isArray);if(o.length){if(o.length===a.length)t[r]=P(a);else{var s=a.filter(M),u=o.map(z);t[r]=n(s.concat(u),r)}return t}return a=w(a,c),t[r]=n(a,r),t}),{})},oneOf:function(e,t,n){var r=function(e,t){return e.map((function(e,n){try{return t(e,n)}catch(r){return}})).filter(R)}(j(l(e)),n),i=w(r,c);if(i.length)return i},not:function(e){return{anyOf:e}},pattern:function(e){return e.map((function(e){return"(?="+e+")"})).join("")},multipleOf:function(e){for(var t=e.slice(0),n=1;t.some((function(e){return!Number.isInteger(e)}));)t=t.map((function(e){return 10*e})),n*=10;return f(t)/n},enum:function(e){var t=v.apply(null,e.concat(g));if(t.length)return b(t)}};Z.$id=O,Z.$ref=O,Z.$schema=O,Z.additionalItems=C,Z.additionalProperties=C,Z.anyOf=Z.oneOf,Z.contains=C,Z.default=O,Z.definitions=Z.dependencies,Z.description=O,Z.examples=function(e){return w(h(e),g)},Z.exclusiveMaximum=L,Z.exclusiveMinimum=I,Z.items=E,Z.maximum=L,Z.maxItems=L,Z.maxLength=L,Z.maxProperties=L,Z.minimum=I,Z.minItems=I,Z.minLength=I,Z.minProperties=I,Z.properties=S,Z.propertyNames=C,Z.required=function(e){return P(e)},Z.title=O,Z.uniqueItems=function(e){return e.some(k)};var W={properties:S,items:E};function q(e,t,n){n=n||[],t=d(t,{ignoreAdditionalProperties:!1,resolvers:Z,complexResolvers:W,deep:!0});var a=Object.entries(t.complexResolvers);var o=function e(o,u,f){o=l(o.filter(R)),f=f||[];var d=y(u)?u:{};if(o.length){if(o.some(T))return!1;if(o.every(k))return!0;o=o.filter(y);var h=N(o);if(t.deep&&A(h,"allOf"))return q({allOf:o},t,n);var p=a.map((function(e){var t=r(e,2),n=(t[0],t[1]);return h.filter((function(e){return n.keywords.includes(e)}))}));return p.forEach((function(e){return _(h,e)})),h.forEach((function(n){var r=U(o,n),i=w(r.filter(R),function(e){return function(t,n){return c(s({},e,t),s({},e,n))}}(n));if(1===i.length&&A(H,n))d[n]=i[0].map((function(t){return e([t],t)}));else if(1!==i.length||A(V,n)||A(G,n)){var a=t.resolvers[n]||t.resolvers.defaultResolver;if(!a)throw new Error("No resolver found for key "+n+". You can provide a resolver for this keyword in the options, or provide a default resolver.");d[n]=a(i,f.concat(n),(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e(t,null,f.concat(n,r))}),t),void 0===d[n]?B(i,f.concat(n)):void 0===d[n]&&delete d[n]}else d[n]=i[0]})),a.reduce((function(n,a,u){var l=r(a,2),d=l[0];l[1];return i(i({},n),function(e,t,n,r,a,o){if(e.length){var u=a.complexResolvers[t];if(!u||!u.resolver)throw new Error("No resolver found for "+t);var l=n.map((function(t){return e.reduce((function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e}),{})})),f=w(l,c),d=u.keywords.reduce((function(e,t){return i(i({},e),{},s({},t,(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r(e,null,o.concat(t,n))})))}),{}),h=u.resolver(f,o.concat(t),d,a);return y(h)||B(f,o.concat(t)),h}}(p[u],d,o,e,t,f))}),d)}}(p(D(e)));return o}q.options={resolvers:Z},e.exports=q},7712:function(e,t,n){var r=n(4704).default,i=/~/,a=/~[01]/g;function o(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function s(e){return i.test(e)?e.replace(a,o):e}function u(e){if("string"===typeof e){if(""===(e=e.split("/"))[0])return e;throw new Error("Invalid JSON pointer.")}if(Array.isArray(e)){var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if("string"!==typeof i&&"number"!==typeof i)throw new Error("Invalid JSON pointer. Must be of type string or number.")}}catch(a){n.e(a)}finally{n.f()}return e}throw new Error("Invalid JSON pointer.")}function l(e,t){if("object"!==typeof e)throw new Error("Invalid input object.");var n=(t=u(t)).length;if(1===n)return e;for(var r=1;r<n;){if(e=e[s(t[r++])],n===r)return e;if("object"!==typeof e||null===e)return}}function c(e,t,n){if("object"!==typeof e)throw new Error("Invalid input object.");if(0===(t=u(t)).length)throw new Error("Invalid JSON pointer for set.");return function(e,t,n){for(var r,i,a=1,o=t.length;a<o;){if("constructor"===t[a]||"prototype"===t[a]||"__proto__"===t[a])return e;if(r=s(t[a++]),i=o>a,"undefined"===typeof e[r]&&(Array.isArray(e)&&"-"===r&&(r=e.length),i&&(""!==t[a]&&t[a]<1/0||"-"===t[a]?e[r]=[]:e[r]={})),!i)break;e=e[r]}var u=e[r];return void 0===n?delete e[r]:e[r]=n,u}(e,t,n)}t.get=l,t.set=c,t.compile=function(e){var t=u(e);return{get:function(e){return l(e,t)},set:function(e,n){return c(e,t,n)}}}},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),s=n(8832),u=n(5077);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=s,l.prototype.set=u,e.exports=l},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},3665:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},4550:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},9055:function(e,t,n){var r=n(4842);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},2683:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),s=n(6800),u=n(9102),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),c=!n&&i(e),f=!n&&!c&&o(e),d=!n&&!c&&!f&&u(e),h=n||c||f||d,p=h?r(e.length,String):[],m=p.length;for(var v in e)!t&&!l.call(e,v)||h&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2095:function(e){e.exports=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},8002:function(e,t,n){var r=n(2526),i=n(9231);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},8463:function(e,t,n){var r=n(2526),i=n(9231),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1855:function(e,t,n){var r=n(4503),i=n(2742);e.exports=function(e,t){return e&&r(t,i(t),e)}},5076:function(e,t,n){var r=n(4503),i=n(3961);e.exports=function(e,t){return e&&r(t,i(t),e)}},2526:function(e,t,n){var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1905:function(e,t,n){var r=n(2854),i=n(4550),a=n(8463),o=n(1855),s=n(5076),u=n(4523),l=n(291),c=n(2455),f=n(7636),d=n(8248),h=n(5341),p=n(8383),m=n(9243),v=n(9759),g=n(548),y=n(3629),_=n(5174),b=n(103),x=n(8092),w=n(6995),S=n(2742),E=n(3961),A="[object Arguments]",M="[object Function]",T="[object Object]",k={};k[A]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[T]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[M]=k["[object WeakMap]"]=!1,e.exports=function e(t,n,C,P,R,N){var O,I=1&n,L=2&n,D=4&n;if(C&&(O=R?C(t,P,R,N):C(t)),void 0!==O)return O;if(!x(t))return t;var U=y(t);if(U){if(O=m(t),!I)return l(t,O)}else{var F=p(t),j=F==M||"[object GeneratorFunction]"==F;if(_(t))return u(t,I);if(F==T||F==A||j&&!R){if(O=L||j?{}:g(t),!I)return L?f(t,s(O,t)):c(t,o(O,t))}else{if(!k[F])return R?t:{};O=v(t,F,I)}}N||(N=new r);var B=N.get(t);if(B)return B;N.set(t,O),w(t)?t.forEach((function(r){O.add(e(r,n,C,r,t,N))})):b(t)&&t.forEach((function(r,i){O.set(i,e(r,n,C,i,t,N))}));var z=U?void 0:(D?L?h:d:L?E:S)(t);return i(z||t,(function(r,i){z&&(r=t[i=r]),a(O,i,e(r,n,C,i,t,N))})),O}},5763:function(e,t,n){var r=n(8092),i=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},1468:function(e,t,n){var r=n(692),i=n(9055),a=n(2683),o=n(8950),s=n(6194),u=n(75);e.exports=function(e,t,n,l){var c=-1,f=i,d=!0,h=e.length,p=[],m=t.length;if(!h)return p;n&&(t=o(t,s(n))),l?(f=a,d=!1):t.length>=200&&(f=u,d=!1,t=new r(t));e:for(;++c<h;){var v=e[c],g=null==n?v:n(v);if(v=l||0!==v?v:0,d&&g===g){for(var y=m;y--;)if(t[y]===g)continue e;p.push(v)}else f(t,g,l)||p.push(v)}return p}},7927:function(e,t,n){var r=n(5358),i=n(7056)(r);e.exports=i},2045:function(e){e.exports=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},5182:function(e,t,n){var r=n(1705),i=n(3529);e.exports=function e(t,n,a,o,s){var u=-1,l=t.length;for(a||(a=i),s||(s=[]);++u<l;){var c=t[u];n>0&&a(c)?n>1?e(c,n-1,a,o,s):r(s,c):o||(s[s.length]=c)}return s}},5099:function(e,t,n){var r=n(372)();e.exports=r},5358:function(e,t,n){var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},8667:function(e,t,n){var r=n(3082),i=n(9793);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},7852:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},4842:function(e,t,n){var r=n(2045),i=n(505),a=n(7167);e.exports=function(e,t,n){return t===t?a(e,t,n):r(e,i,n)}},4032:function(e){e.exports=function(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}},5188:function(e,t,n){var r=n(692),i=n(9055),a=n(2683),o=n(8950),s=n(6194),u=n(75),l=Math.min;e.exports=function(e,t,n){for(var c=n?a:i,f=e[0].length,d=e.length,h=d,p=Array(d),m=1/0,v=[];h--;){var g=e[h];h&&t&&(g=o(g,s(t))),m=l(g.length,m),p[h]=!n&&(t||f>=120&&g.length>=120)?new r(h&&g):void 0}g=e[0];var y=-1,_=p[0];e:for(;++y<f&&v.length<m;){var b=g[y],x=t?t(b):b;if(b=n||0!==b?b:0,!(_?u(_,x):c(v,x,n))){for(h=d;--h;){var w=p[h];if(!(w?u(w,x):c(e[h],x,n)))continue e}_&&_.push(x),v.push(b)}}return v}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,s))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),s=n(8383),u=n(3629),l=n(5174),c=n(9102),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var y=u(e),_=u(t),b=y?d:s(e),x=_?d:s(t),w=(b=b==f?h:b)==h,S=(x=x==f?h:x)==h,E=b==x;if(E&&l(e)){if(!l(t))return!1;y=!0,w=!1}if(E&&!w)return g||(g=new r),y||c(e)?i(e,t,n,m,v,g):a(e,t,b,n,m,v,g);if(!(1&n)){var A=w&&p.call(e,"__wrapped__"),M=S&&p.call(t,"__wrapped__");if(A||M){var T=A?e.value():e,k=M?t.value():t;return g||(g=new r),v(T,k,n,m,g)}}return!!E&&(g||(g=new r),o(e,t,n,m,v,g))}},3085:function(e,t,n){var r=n(8383),i=n(3141);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},8856:function(e,t,n){var r=n(2854),i=n(1848);e.exports=function(e,t,n,a){var o=n.length,s=o,u=!a;if(null==e)return!s;for(e=Object(e);o--;){var l=n[o];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var c=(l=n[o])[0],f=e[c],d=l[1];if(u&&l[2]){if(void 0===f&&!(c in e))return!1}else{var h=new r;if(a)var p=a(f,d,c,e,t,h);if(!(void 0===p?i(d,f,3,a,h):p))return!1}}return!0}},505:function(e){e.exports=function(e){return e!==e}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?d:s).test(o(e))}},8680:function(e,t,n){var r=n(8383),i=n(3141);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},6025:function(e,t,n){var r=n(7080),i=n(4322),a=n(2100),o=n(3629),s=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):s(e)}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},8664:function(e,t,n){var r=n(8092),i=n(2936),a=n(4221),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},3849:function(e,t,n){var r=n(7927),i=n(1473);e.exports=function(e,t){var n=-1,a=i(e)?Array(e.length):[];return r(e,(function(e,r,i){a[++n]=t(e,r,i)})),a}},7080:function(e,t,n){var r=n(8856),i=n(9091),a=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:function(e,t,n){var r=n(1848),i=n(6181),a=n(5658),o=n(5823),s=n(5072),u=n(284),l=n(9793);e.exports=function(e,t){return o(e)&&s(t)?u(l(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},4173:function(e,t,n){var r=n(2854),i=n(8002),a=n(5099),o=n(9216),s=n(8092),u=n(3961),l=n(5906);e.exports=function e(t,n,c,f,d){t!==n&&a(n,(function(a,u){if(d||(d=new r),s(a))o(t,n,u,c,e,f,d);else{var h=f?f(l(t,u),a,u+"",t,n,d):void 0;void 0===h&&(h=a),i(t,u,h)}}),u)}},9216:function(e,t,n){var r=n(8002),i=n(4523),a=n(613),o=n(291),s=n(548),u=n(4963),l=n(3629),c=n(6279),f=n(5174),d=n(4786),h=n(8092),p=n(3977),m=n(9102),v=n(5906),g=n(6576);e.exports=function(e,t,n,y,_,b,x){var w=v(e,n),S=v(t,n),E=x.get(S);if(E)r(e,n,E);else{var A=b?b(w,S,n+"",e,t,x):void 0,M=void 0===A;if(M){var T=l(S),k=!T&&f(S),C=!T&&!k&&m(S);A=S,T||k||C?l(w)?A=w:c(w)?A=o(w):k?(M=!1,A=i(S,!0)):C?(M=!1,A=a(S,!0)):A=[]:p(S)||u(S)?(A=w,u(w)?A=g(w):h(w)&&!d(w)||(A=s(S))):M=!1}M&&(x.set(S,A),_(A,S,y,b,x),x.delete(S)),r(e,n,A)}}},3226:function(e,t,n){var r=n(8950),i=n(8667),a=n(6025),o=n(3849),s=n(9179),u=n(6194),l=n(4480),c=n(2100),f=n(3629);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return f(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[c];var d=-1;t=r(t,u(a));var h=o(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++d,value:e}}));return s(h,(function(e,t){return l(e,t,n)}))}},4980:function(e,t,n){var r=n(2591),i=n(5658);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},2591:function(e,t,n){var r=n(8667),i=n(379),a=n(3082);e.exports=function(e,t,n){for(var o=-1,s=t.length,u={};++o<s;){var l=t[o],c=r(e,l);n(c,l)&&i(u,a(l,e),c)}return u}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},2664:function(e,t,n){var r=n(8950),i=n(4842),a=n(4032),o=n(6194),s=n(291),u=Array.prototype.splice;e.exports=function(e,t,n,l){var c=l?a:i,f=-1,d=t.length,h=e;for(e===t&&(t=s(t)),n&&(h=r(e,o(n)));++f<d;)for(var p=0,m=t[f],v=n?n(m):m;(p=c(h,v,p,l))>-1;)h!==e&&u.call(h,p,1),u.call(e,p,1);return e}},750:function(e){e.exports=function(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}},8794:function(e,t,n){var r=n(2100),i=n(4262),a=n(9156);e.exports=function(e,t){return a(i(e,t,r),e+"")}},379:function(e,t,n){var r=n(8463),i=n(3082),a=n(6800),o=n(8092),s=n(9793);e.exports=function(e,t,n,u){if(!o(e))return e;for(var l=-1,c=(t=i(t,e)).length,f=c-1,d=e;null!=d&&++l<c;){var h=s(t[l]),p=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(l!=f){var m=d[h];void 0===(p=u?u(m,h,d):void 0)&&(p=o(m)?m:a(t[l+1])?[]:{})}r(d,h,p),d=d[h]}return e}},7532:function(e,t,n){var r=n(1547),i=n(8528),a=n(2100),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=o},2646:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},9179:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(7197),i=n(8950),a=n(3629),o=n(152),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},821:function(e,t,n){var r=n(6050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},9602:function(e,t,n){var r=n(692),i=n(9055),a=n(2683),o=n(75),s=n(7730),u=n(2230);e.exports=function(e,t,n){var l=-1,c=i,f=e.length,d=!0,h=[],p=h;if(n)d=!1,c=a;else if(f>=200){var m=t?null:s(e);if(m)return u(m);d=!1,c=o,p=new r}else p=t?[]:h;e:for(;++l<f;){var v=e[l],g=t?t(v):v;if(v=n||0!==v?v:0,d&&g===g){for(var y=p.length;y--;)if(p[y]===g)continue e;t&&p.push(g),h.push(v)}else c(p,g,n)||(p!==h&&p.push(g),h.push(v))}return h}},6555:function(e,t,n){var r=n(3082),i=n(5727),a=n(8978),o=n(9793);e.exports=function(e,t){return t=r(t,e),null==(e=a(e,t))||delete e[o(i(t))]}},75:function(e){e.exports=function(e,t){return e.has(t)}},5600:function(e,t,n){var r=n(6279);e.exports=function(e){return r(e)?e:[]}},3410:function(e,t,n){var r=n(2100);e.exports=function(e){return"function"==typeof e?e:r}},3082:function(e,t,n){var r=n(3629),i=n(5823),a=n(170),o=n(3518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},7010:function(e,t,n){var r=n(6219);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},4523:function(e,t,n){e=n.nmd(e);var r=n(7009),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},1022:function(e,t,n){var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},8503:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},4720:function(e,t,n){var r=n(7197),i=r?r.prototype:void 0,a=i?i.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},613:function(e,t,n){var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},8558:function(e,t,n){var r=n(152);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,a=e===e,o=r(e),s=void 0!==t,u=null===t,l=t===t,c=r(t);if(!u&&!c&&!o&&e>t||o&&s&&l&&!u&&!c||i&&s&&l||!n&&l||!a)return 1;if(!i&&!o&&!c&&e<t||c&&n&&a&&!i&&!o||u&&n&&a||!s&&a||!l)return-1}return 0}},4480:function(e,t,n){var r=n(8558);e.exports=function(e,t,n){for(var i=-1,a=e.criteria,o=t.criteria,s=a.length,u=n.length;++i<s;){var l=r(a[i],o[i]);if(l)return i>=u?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}},291:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},4503:function(e,t,n){var r=n(8463),i=n(2526);e.exports=function(e,t,n,a){var o=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=a?a(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),o?i(n,l,c):r(n,l,c)}return n}},2455:function(e,t,n){var r=n(4503),i=n(5918);e.exports=function(e,t){return r(e,i(e),t)}},7636:function(e,t,n){var r=n(4503),i=n(8487);e.exports=function(e,t){return r(e,i(e),t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},9934:function(e,t,n){var r=n(8794),i=n(3195);e.exports=function(e){return r((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,s&&i(n[0],n[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var u=n[r];u&&e(t,u,r,o)}return t}))}},7056:function(e,t,n){var r=n(1473);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==i(s[o],o,s););return n}}},372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}},7730:function(e,t,n){var r=n(3924),i=n(9694),a=n(2230),o=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=o},7493:function(e,t,n){var r=n(4173),i=n(8092);e.exports=function e(t,n,a,o,s,u){return i(t)&&i(n)&&(u.set(n,t),r(t,n,void 0,e,u),u.delete(n)),t}},6013:function(e,t,n){var r=n(3977);e.exports=function(e){return r(e)?void 0:e}},8528:function(e,t,n){var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,s,u){var l=1&n,c=e.length,f=t.length;if(c!=f&&!(l&&f>c))return!1;var d=u.get(e),h=u.get(t);if(d&&h)return d==t&&h==e;var p=-1,m=!0,v=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<c;){var g=e[p],y=t[p];if(o)var _=l?o(y,g,p,t,e,u):o(g,y,p,e,t,u);if(void 0!==_){if(_)continue;m=!1;break}if(v){if(!i(t,(function(e,t){if(!a(v,t)&&(g===e||s(g,e,n,o,u)))return v.push(t)}))){m=!1;break}}else if(g!==y&&!s(g,y,n,o,u)){m=!1;break}}return u.delete(e),u.delete(t),m}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),s=n(234),u=n(2230),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=u),e.size!=t.size&&!p)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var v=o(h(e),h(t),r,l,f,d);return d.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var u=1&n,l=r(e),c=l.length;if(c!=r(t).length&&!u)return!1;for(var f=c;f--;){var d=l[f];if(!(u?d in t:i.call(t,d)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=u;++f<c;){var g=e[d=l[f]],y=t[d];if(a)var _=u?a(y,g,d,t,e,s):a(g,y,d,e,t,s);if(!(void 0===_?g===y||o(g,y,n,a,s):_)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var b=e.constructor,x=t.constructor;b==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},7038:function(e,t,n){var r=n(5506),i=n(4262),a=n(9156);e.exports=function(e){return a(i(e,void 0,r),e+"")}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},5341:function(e,t,n){var r=n(1986),i=n(8487),a=n(3961);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9091:function(e,t,n){var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1137:function(e,t,n){var r=n(2709)(Object.getPrototypeOf,Object);e.exports=r},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},8487:function(e,t,n){var r=n(1705),i=n(1137),a=n(5918),o=n(8174),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=i(e);return t}:o;e.exports=s},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),s=n(7091),u=n(9066),l=n(7907),c="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",m=l(r),v=l(i),g=l(a),y=l(o),_=l(s),b=u;(r&&b(new r(new ArrayBuffer(1)))!=p||i&&b(new i)!=c||a&&b(a.resolve())!=f||o&&b(new o)!=d||s&&b(new s)!=h)&&(b=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case m:return p;case v:return c;case g:return f;case y:return d;case _:return h}return t}),e.exports=b},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6417:function(e,t,n){var r=n(3082),i=n(4963),a=n(3629),o=n(6800),s=n(4635),u=n(9793);e.exports=function(e,t,n){for(var l=-1,c=(t=r(t,e)).length,f=!1;++l<c;){var d=u(t[l]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++l!=c?f:!!(c=null==e?0:e.length)&&s(c)&&o(d,c)&&(a(e)||i(e))}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},9243:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},9759:function(e,t,n){var r=n(7010),i=n(1022),a=n(8503),o=n(4720),s=n(613);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return a(e);case"[object Symbol]":return o(e)}}},548:function(e,t,n){var r=n(5763),i=n(1137),a=n(2936);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(i(e))}},3529:function(e,t,n){var r=n(7197),i=n(4963),a=n(3629),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3195:function(e,t,n){var r=n(9231),i=n(1473),a=n(6800),o=n(8092);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&a(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},5823:function(e,t,n){var r=n(3629),i=n(152),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4634:function(e,t,n){var r=n(9151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},4221:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},4262:function(e,t,n){var r=n(3665),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),u=Array(s);++o<s;)u[o]=a[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=a[o];return l[t]=n(u),r(e,this,l)}}},8978:function(e,t,n){var r=n(8667),i=n(2646);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5906:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},9156:function(e,t,n){var r=n(7532),i=n(3197)(r);e.exports=i},3197:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),a=16-(i-r);if(r=i,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7167:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},170:function(e,t,n){var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},9793:function(e,t,n){var r=n(152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8121:function(e,t,n){var r=n(1905);e.exports=function(e){return r(e,5)}},1547:function(e){e.exports=function(e){return function(){return e}}},6933:function(e,t,n){var r=n(8794),i=n(9231),a=n(3195),o=n(3961),s=Object.prototype,u=s.hasOwnProperty,l=r((function(e,t){e=Object(e);var n=-1,r=t.length,l=r>2?t[2]:void 0;for(l&&a(t[0],t[1],l)&&(r=1);++n<r;)for(var c=t[n],f=o(c),d=-1,h=f.length;++d<h;){var p=f[d],m=e[p];(void 0===m||i(m,s[p])&&!u.call(e,p))&&(e[p]=c[p])}return e}));e.exports=l},4521:function(e,t,n){var r=n(3665),i=n(8794),a=n(7493),o=n(2617),s=i((function(e){return e.push(void 0,a),r(o,void 0,e)}));e.exports=s},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},5506:function(e,t,n){var r=n(5182);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},3613:function(e,t,n){var r=n(5182);e.exports=function(e){return(null==e?0:e.length)?r(e,Infinity):[]}},6514:function(e,t,n){var r=n(4550),i=n(7927),a=n(3410),o=n(3629);e.exports=function(e,t){return(o(e)?r:i)(e,a(t))}},6181:function(e,t,n){var r=n(8667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},7805:function(e,t,n){var r=n(7852),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},5658:function(e,t,n){var r=n(529),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},7753:function(e,t,n){var r=n(8950),i=n(5188),a=n(8794),o=n(5600),s=a((function(e){var t=r(e,o);return t.length&&t[0]===e[0]?i(t):[]}));e.exports=s},5366:function(e,t,n){var r=n(8950),i=n(5188),a=n(8794),o=n(5600),s=n(5727),u=a((function(e){var t=s(e),n=r(e,o);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?i(n,void 0,t):[]}));e.exports=u},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6279:function(e,t,n){var r=n(1473),i=n(3141);e.exports=function(e){return i(e)&&r(e)}},5127:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},6364:function(e,t,n){var r=n(3654),i=n(8383),a=n(4963),o=n(3629),s=n(1473),u=n(5174),l=n(2936),c=n(9102),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||c(e)||a(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},290:function(e,t,n){var r=n(1848);e.exports=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?r(e,t,void 0,n):!!i}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},103:function(e,t,n){var r=n(3085),i=n(6194),a=n(9494),o=a&&a.isMap,s=o?i(o):r;e.exports=s},5633:function(e){e.exports=function(e){return null==e}},298:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3977:function(e,t,n){var r=n(9066),i=n(1137),a=n(3141),o=Function.prototype,s=Object.prototype,u=o.toString,l=s.hasOwnProperty,c=u.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==c}},6995:function(e,t,n){var r=n(8680),i=n(6194),a=n(9494),o=a&&a.isSet,s=o?i(o):r;e.exports=s},6769:function(e,t,n){var r=n(9066),i=n(3629),a=n(3141);e.exports=function(e){return"string"==typeof e||!i(e)&&a(e)&&"[object String]"==r(e)}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},3961:function(e,t,n){var r=n(7538),i=n(8664),a=n(1473);e.exports=function(e){return a(e)?r(e,!0):i(e)}},5727:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},9151:function(e,t,n){var r=n(8059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},9286:function(e,t,n){var r=n(4173),i=n(9934)((function(e,t,n){r(e,t,n)}));e.exports=i},2617:function(e,t,n){var r=n(4173),i=n(9934)((function(e,t,n,i){r(e,t,n,i)}));e.exports=i},9694:function(e){e.exports=function(){}},4242:function(e,t,n){var r=n(8950),i=n(1905),a=n(6555),o=n(3082),s=n(4503),u=n(6013),l=n(7038),c=n(5341),f=l((function(e,t){var n={};if(null==e)return n;var l=!1;t=r(t,(function(t){return t=o(t,e),l||(l=t.length>1),t})),s(e,c(e),n),l&&(n=i(n,7,u));for(var f=t.length;f--;)a(n,t[f]);return n}));e.exports=f},6460:function(e,t,n){var r=n(4980),i=n(7038)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},38:function(e,t,n){var r=n(9586),i=n(4084),a=n(5823),o=n(9793);e.exports=function(e){return a(e)?r(o(e)):i(e)}},566:function(e,t,n){var r=n(2664);e.exports=function(e,t){return e&&e.length&&t&&t.length?r(e,t):e}},5080:function(e,t,n){var r=n(2095),i=n(7927),a=n(6025),o=n(750),s=n(3629);e.exports=function(e,t,n){var u=s(e)?r:o,l=arguments.length<3;return u(e,a(t,4),n,l,i)}},4485:function(e,t,n){var r=n(379);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},4286:function(e,t,n){var r=n(5182),i=n(3226),a=n(8794),o=n(3195),s=a((function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},778:function(e,t,n){var r=n(6478),i=n(3410),a=n(9753),o=4294967295,s=Math.min;e.exports=function(e,t){if((e=a(e))<1||e>9007199254740991)return[];var n=o,u=s(e,o);t=i(t),e-=o;for(var l=r(u,t);++n<e;)t(n);return l}},1495:function(e,t,n){var r=n(2582),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},9753:function(e,t,n){var r=n(1495);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},2582:function(e,t,n){var r=n(821),i=n(8092),a=n(152),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):o.test(e)?NaN:+e}},168:function(e,t,n){var r=n(8950),i=n(291),a=n(3629),o=n(152),s=n(170),u=n(9793),l=n(3518);e.exports=function(e){return a(e)?r(e,u):o(e)?[e]:i(s(l(e)))}},6576:function(e,t,n){var r=n(4503),i=n(3961);e.exports=function(e){return r(e,i(e))}},3518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},5653:function(e,t,n){var r=n(4550),i=n(5763),a=n(5358),o=n(6025),s=n(1137),u=n(3629),l=n(5174),c=n(4786),f=n(8092),d=n(9102);e.exports=function(e,t,n){var h=u(e),p=h||l(e)||d(e);if(t=o(t,4),null==n){var m=e&&e.constructor;n=p?h?new m:[]:f(e)&&c(m)?i(s(e)):{}}return(p?r:a)(e,(function(e,r,i){return t(n,e,r,i)})),n}},6310:function(e,t,n){var r=n(5182),i=n(8794),a=n(9602),o=n(6279),s=i((function(e){return a(r(e,1,o,!0))}));e.exports=s},2064:function(e,t,n){var r=n(9602);e.exports=function(e){return e&&e.length?r(e):[]}},6742:function(e,t,n){var r=n(9602);e.exports=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?r(e,void 0,t):[]}},3986:function(e,t,n){var r=n(6555);e.exports=function(e,t){return null==e||r(e,t)}},1761:function(e,t,n){var r=n(1468),i=n(8794),a=n(6279),o=i((function(e,t){return a(e)?r(e,t):[]}));e.exports=o},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in a=Object(arguments[u]))n.call(a,l)&&(s[l]=a[l]);if(t){o=t(a);for(var c=0;c<o.length;c++)r.call(a,o[c])&&(s[o[c]]=a[o[c]])}}return s}},399:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Xs}});var r=n(1413),i=n(7326),a=n(136),o=n(7277);function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var u,l,c,f,d,h,p,m,v,g,y,_,b,x,w=n(5671),S=n(3144),E=n(9439),A=n(4942),M=n(4165),T=n(7762),k=n(2791);e=n.hmd(e);var C,P=Object.defineProperty,R=function(e,t,n){return function(e,t,n){t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n},N={},O={get exports(){return N},set exports(e){N=e}},I={};O.exports=function(){if(C)return I;C=1;var e=k,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(e,n,o){var s,u={},l=null,c=null;for(s in void 0!==o&&(l=""+o),void 0!==n.key&&(l=""+n.key),void 0!==n.ref&&(c=n.ref),n)r.call(n,s)&&!a.hasOwnProperty(s)&&(u[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps)void 0===u[s]&&(u[s]=n[s]);return{$$typeof:t,type:e,key:l,ref:c,props:u,_owner:i.current}}return I.Fragment=n,I.jsx=o,I.jsxs=o,I}();var L,D,U,F,j=N.jsx,B={},z={get exports(){return B},set exports(e){B=e}};function V(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function H(e){return(e=V(Math.abs(e)))?e[1]:NaN}z.exports=function(){if(F)return U;F=1;var e=D?L:(D=1,L="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function t(){}function n(){}return n.resetWarningCache=t,U=function(){function r(t,n,r,i,a,o){if(o!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function i(){return r}r.isRequired=r;var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a}}()();var G,Z=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function W(e){if(!(t=Z.exec(e)))throw new Error("invalid format: "+e);var t;return new q({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function q(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function X(e,t){var n=V(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}W.prototype=q.prototype,q.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var K={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return X(100*e,t)},r:X,s:function(e,t){var n=V(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(G=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+V(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function Y(e){return e}var Q,J,$,ee=Array.prototype.map,te=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];Q=function(e){var t=void 0===e.grouping||void 0===e.thousands?Y:function(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}(ee.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?Y:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(ee.call(e.numerals,String)),o=void 0===e.percent?"%":e.percent+"",s=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function l(e){var l=(e=W(e)).fill,c=e.align,f=e.sign,d=e.symbol,h=e.zero,p=e.width,m=e.comma,v=e.precision,g=e.trim,y=e.type;"n"===y?(m=!0,y="g"):K[y]||(void 0===v&&(v=12),g=!0,y="g"),(h||"0"===l&&"="===c)&&(h=!0,l="0",c="=");var _="$"===d?n:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===d?r:/[%p]/.test(y)?o:"",x=K[y],w=/[defgprs%]/.test(y);function S(e){var n,r,o,d=_,S=b;if("c"===y)S=x(e)+S,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),v),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0==+e&&"+"!==f&&(E=!1),d=(E?"("===f?f:s:"-"===f||"("===f?"":f)+d,S=("s"===y?te[8+G/3]:"")+S+(E&&"("===f?")":""),w)for(n=-1,r=e.length;++n<r;)if(48>(o=e.charCodeAt(n))||o>57){S=(46===o?i+e.slice(n+1):e.slice(n))+S,e=e.slice(0,n);break}}m&&!h&&(e=t(e,1/0));var A=d.length+e.length+S.length,M=A<p?new Array(p-A+1).join(l):"";switch(m&&h&&(e=t(M+e,M.length?p-S.length:1/0),M=""),c){case"<":e=d+e+S+M;break;case"=":e=d+M+e+S;break;case"^":e=M.slice(0,A=M.length>>1)+d+e+S+M.slice(A);break;default:e=M+d+e+S}return a(e)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),S.toString=function(){return e+""},S}return{format:l,formatPrefix:function(e,t){var n=l(((e=W(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(H(t)/3))),i=Math.pow(10,-r),a=te[8+r/3];return function(e){return n(i*e)+a}}}}({thousands:",",grouping:[3],currency:["$",""]}),J=Q.format,$=Q.formatPrefix;var ne="http://www.w3.org/1999/xhtml",re={svg:"http://www.w3.org/2000/svg",xhtml:ne,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ie(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),re.hasOwnProperty(t)?{space:re[t],local:e}:e}function ae(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ne&&t.documentElement.namespaceURI===ne?t.createElement(e):t.createElementNS(n,e)}}function oe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function se(e){var t=ie(e);return(t.local?oe:ae)(t)}function ue(){}function le(e){return null==e?ue:function(){return this.querySelector(e)}}function ce(){return[]}function fe(e){return null==e?ce:function(){return this.querySelectorAll(e)}}function de(e){return function(){return this.matches(e)}}function he(e){return function(t){return t.matches(e)}}var pe=Array.prototype.find;function me(){return this.firstElementChild}var ve=Array.prototype.filter;function ge(){return Array.from(this.children)}function ye(e){return new Array(e.length)}function _e(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function be(e,t,n,r,i,a){for(var o,s=0,u=t.length,l=a.length;s<l;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new _e(e,a[s]);for(;s<u;++s)(o=t[s])&&(i[s]=o)}function xe(e,t,n,r,i,a,o){var s,u,l,c=new Map,f=t.length,d=a.length,h=new Array(f);for(s=0;s<f;++s)(u=t[s])&&(h[s]=l=o.call(u,u.__data__,s,t)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<d;++s)l=o.call(e,a[s],s,a)+"",(u=c.get(l))?(r[s]=u,u.__data__=a[s],c.delete(l)):n[s]=new _e(e,a[s]);for(s=0;s<f;++s)(u=t[s])&&c.get(h[s])===u&&(i[s]=u)}function we(e){return e.__data__}function Se(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Ee(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ae(e){return function(){this.removeAttribute(e)}}function Me(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Te(e,t){return function(){this.setAttribute(e,t)}}function ke(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ce(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Pe(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Re(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ne(e){return function(){this.style.removeProperty(e)}}function Oe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ie(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Le(e,t){return e.style.getPropertyValue(t)||Re(e).getComputedStyle(e,null).getPropertyValue(t)}function De(e){return function(){delete this[e]}}function Ue(e,t){return function(){this[e]=t}}function Fe(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function je(e){return e.trim().split(/^|\s+/)}function Be(e){return e.classList||new ze(e)}function ze(e){this._node=e,this._names=je(e.getAttribute("class")||"")}function Ve(e,t){for(var n=Be(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function He(e,t){for(var n=Be(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Ge(e){return function(){Ve(this,e)}}function Ze(e){return function(){He(this,e)}}function We(e,t){return function(){(t.apply(this,arguments)?Ve:He)(this,e)}}function qe(){this.textContent=""}function Xe(e){return function(){this.textContent=e}}function Ke(e){return function(){var t=e.apply(this,arguments);this.textContent=null!==t&&void 0!==t?t:""}}function Ye(){this.innerHTML=""}function Qe(e){return function(){this.innerHTML=e}}function Je(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null!==t&&void 0!==t?t:""}}function $e(){this.nextSibling&&this.parentNode.appendChild(this)}function et(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tt(){return null}function nt(){var e=this.parentNode;e&&e.removeChild(this)}function rt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function it(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function at(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function ot(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function st(e,t,n){var r=Re(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ut(e,t){return function(){return st(this,e,t)}}function lt(e,t){return function(){return st(this,e,t.apply(this,arguments))}}_e.prototype={constructor:_e,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},ze.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ct=[null];function ft(e,t){this._groups=e,this._parents=t}function dt(){return new ft([[document.documentElement]],ct)}function ht(e){return"string"==typeof e?new ft([[document.querySelector(e)]],[document.documentElement]):new ft([[e]],ct)}function pt(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mt(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vt(e){var t,n,r;function i(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{var o=i+a>>>1;n(e[o],r)<0?i=o+1:a=o}while(i<a)}return i}return 2!==e.length?(t=pt,n=function(t,n){return pt(e(t),n)},r=function(t,n){return e(t)-n}):(t=e===pt||e===mt?e:gt,n=e,r=e),{left:i,center:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{var o=i+a>>>1;n(e[o],r)<=0?i=o+1:a=o}while(i<a)}return i}}}function gt(){return 0}ft.prototype=dt.prototype=(0,A.Z)({constructor:ft,select:function(e){"function"!=typeof e&&(e=le(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=t[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(a=s[c])&&(o=e.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new ft(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}(e):fe(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,s=t[a],u=s.length,l=0;l<u;++l)(o=s[l])&&(r.push(e.call(o,o.__data__,l,s)),i.push(o));return new ft(r,i)},selectChild:function(e){return this.select(null==e?me:function(e){return function(){return pe.call(this.children,e)}}("function"==typeof e?e:he(e)))},selectChildren:function(e){return this.selectAll(null==e?ge:function(e){return function(){return ve.call(this.children,e)}}("function"==typeof e?e:he(e)))},filter:function(e){"function"!=typeof e&&(e=de(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&u.push(a);return new ft(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,we);var n=t?xe:be,r=this._parents,i=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],d=f.length,h=Se(e.call(c,c&&c.__data__,l,r)),p=h.length,m=s[l]=new Array(p),v=o[l]=new Array(p);n(c,f,m,v,u[l]=new Array(d),h,t);for(var g,y,_=0,b=0;_<p;++_)if(g=m[_]){for(_>=b&&(b=_+1);!(y=v[b])&&++b<p;);g._next=y||null}}return(o=new ft(o,r))._enter=s,o._exit=u,o},enter:function(){return new ft(this._enter||this._groups.map(ye),this._parents)},exit:function(){return new ft(this._exit||this._groups.map(ye),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var l,c=n[u],f=r[u],d=c.length,h=s[u]=new Array(d),p=0;p<d;++p)(l=c[p]||f[p])&&(h[p]=l);for(;u<i;++u)s[u]=n[u];return new ft(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Ee);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,l=i[a]=new Array(u),c=0;c<u;++c)(o=s[c])&&(l[c]=o);l.sort(t)}return new ft(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var e,t=0,n=(0,T.Z)(this);try{for(n.s();!(e=n.n()).done;){e.value;++t}}catch(r){n.e(r)}finally{n.f()}return t},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=ie(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Me:Ae:"function"==typeof t?n.local?Pe:Ce:n.local?ke:Te)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Ne:"function"==typeof t?Ie:Oe)(e,t,null!==n&&void 0!==n?n:"")):Le(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?De:"function"==typeof t?Fe:Ue)(e,t)):this.node()[e]},classed:function(e,t){var n=je(e+"");if(arguments.length<2){for(var r=Be(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?We:t?Ge:Ze)(n,t))},text:function(e){return arguments.length?this.each(null==e?qe:("function"==typeof e?Ke:Xe)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Ye:("function"==typeof e?Je:Qe)(e)):this.node().innerHTML},raise:function(){return this.each($e)},lower:function(){return this.each(et)},append:function(e){var t="function"==typeof e?e:se(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:se(e),r=null==t?tt:"function"==typeof t?t:le(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(nt)},clone:function(e){return this.select(e?it:rt)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?ot:at,r=0;r<o;++r)this.each(s(a[r],t,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"==typeof t?lt:ut)(e,t))}},Symbol.iterator,(0,M.Z)().mark((function e(){var t,n,r,i,a,o,s;return(0,M.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this._groups,n=0,r=t.length;case 1:if(!(n<r)){e.next=14;break}a=t[n],o=0,s=a.length;case 3:if(!(o<s)){e.next=11;break}if(e.t0=i=a[o],!e.t0){e.next=8;break}return e.next=8,i;case 8:++o,e.next=3;break;case 11:++n,e.next=1;break;case 14:case"end":return e.stop()}}),e,this)})));var yt=vt(pt).right;vt((function(e){return null===e?NaN:+e})).center;var _t=yt,bt=Math.sqrt(50),xt=Math.sqrt(10),wt=Math.sqrt(2);function St(e,t,n){var r,i,a,o=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(o)),u=o/Math.pow(10,s),l=u>=bt?10:u>=xt?5:u>=wt?2:1;return s<0?(a=Math.pow(10,-s)/l,(r=Math.round(e*a))/a<e&&++r,(i=Math.round(t*a))/a>t&&--i,a=-a):(a=Math.pow(10,s)*l,(r=Math.round(e/a))*a<e&&++r,(i=Math.round(t/a))*a>t&&--i),i<r&&.5<=n&&n<2?St(e,t,2*n):[r,i,a]}function Et(e,t,n){return St(e=+e,t=+t,n=+n)[2]}function At(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Mt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Tt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function kt(){}var Ct=.7,Pt=1/Ct,Rt="\\s*([+-]?\\d+)\\s*",Nt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ot="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",It=/^#([0-9a-f]{3,8})$/,Lt=new RegExp("^rgb\\(".concat(Rt,",").concat(Rt,",").concat(Rt,"\\)$")),Dt=new RegExp("^rgb\\(".concat(Ot,",").concat(Ot,",").concat(Ot,"\\)$")),Ut=new RegExp("^rgba\\(".concat(Rt,",").concat(Rt,",").concat(Rt,",").concat(Nt,"\\)$")),Ft=new RegExp("^rgba\\(".concat(Ot,",").concat(Ot,",").concat(Ot,",").concat(Nt,"\\)$")),jt=new RegExp("^hsl\\(".concat(Nt,",").concat(Ot,",").concat(Ot,"\\)$")),Bt=new RegExp("^hsla\\(".concat(Nt,",").concat(Ot,",").concat(Ot,",").concat(Nt,"\\)$")),zt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Vt(){return this.rgb().formatHex()}function Ht(){return this.rgb().formatRgb()}function Gt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=It.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Zt(t):3===n?new Xt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Wt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Wt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Lt.exec(e))?new Xt(t[1],t[2],t[3],1):(t=Dt.exec(e))?new Xt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ut.exec(e))?Wt(t[1],t[2],t[3],t[4]):(t=Ft.exec(e))?Wt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=jt.exec(e))?en(t[1],t[2]/100,t[3]/100,1):(t=Bt.exec(e))?en(t[1],t[2]/100,t[3]/100,t[4]):zt.hasOwnProperty(e)?Zt(zt[e]):"transparent"===e?new Xt(NaN,NaN,NaN,0):null}function Zt(e){return new Xt(e>>16&255,e>>8&255,255&e,1)}function Wt(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xt(e,t,n,r)}function qt(e,t,n,r){return 1===arguments.length?function(e){return e instanceof kt||(e=Gt(e)),e?new Xt((e=e.rgb()).r,e.g,e.b,e.opacity):new Xt}(e):new Xt(e,t,n,null!==r&&void 0!==r?r:1)}function Xt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Kt(){return"#".concat($t(this.r)).concat($t(this.g)).concat($t(this.b))}function Yt(){var e=Qt(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Jt(this.r),", ").concat(Jt(this.g),", ").concat(Jt(this.b)).concat(1===e?")":", ".concat(e,")"))}function Qt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $t(e){return((e=Jt(e))<16?"0":"")+e.toString(16)}function en(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rn(e,t,n,r)}function tn(e){if(e instanceof rn)return new rn(e.h,e.s,e.l,e.opacity);if(e instanceof kt||(e=Gt(e)),!e)return new rn;if(e instanceof rn)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new rn(o,s,u,e.opacity)}function nn(e,t,n,r){return 1===arguments.length?tn(e):new rn(e,t,n,null!==r&&void 0!==r?r:1)}function rn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function an(e){return(e=(e||0)%360)<0?e+360:e}function on(e){return Math.max(0,Math.min(1,e||0))}function sn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Mt(kt,Gt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Vt,formatHex:Vt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return tn(this).formatHsl()},formatRgb:Ht,toString:Ht}),Mt(Xt,qt,Tt(kt,{brighter:function(e){return e=null==e?Pt:Math.pow(Pt,e),new Xt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Ct:Math.pow(Ct,e),new Xt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new Xt(Jt(this.r),Jt(this.g),Jt(this.b),Qt(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kt,formatHex:Kt,formatHex8:function(){return"#".concat($t(this.r)).concat($t(this.g)).concat($t(this.b)).concat($t(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Yt,toString:Yt})),Mt(rn,nn,Tt(kt,{brighter:function(e){return e=null==e?Pt:Math.pow(Pt,e),new rn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Ct:Math.pow(Ct,e),new rn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Xt(sn(e>=240?e-240:e+120,i,r),sn(e,i,r),sn(e<120?e+240:e-120,i,r),this.opacity)},clamp:function(){return new rn(an(this.h),on(this.s),on(this.l),Qt(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=Qt(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(an(this.h),", ").concat(100*on(this.s),"%, ").concat(100*on(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var un=function(e){return function(){return e}};function ln(e,t){return function(n){return e+n*t}}function cn(e,t){var n=t-e;return n?ln(e,n):un(isNaN(e)?t:e)}var fn=function e(t){var n=function(e){return 1==(e=+e)?cn:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):un(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=qt(e)).r,(t=qt(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=cn(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function dn(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function hn(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=bn(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function pn(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function mn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vn(e,t){var n,r={},i={};for(n in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)n in e?r[n]=bn(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var gn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yn=new RegExp(gn.source,"g");function _n(e,t){var n,r,i,a=gn.lastIndex=yn.lastIndex=0,o=-1,s=[],u=[];for(e+="",t+="";(n=gn.exec(e))&&(r=yn.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:mn(n,r)})),a=yn.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function bn(e,t){var n,r=typeof t;return null==t||"boolean"===r?un(t):("number"===r?mn:"string"===r?(n=Gt(t))?(t=n,fn):_n:t instanceof Gt?fn:t instanceof Date?pn:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?dn:Array.isArray(t)?hn:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?vn:mn)(e,t)}function xn(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var wn,Sn=180/Math.PI,En={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function An(e,t,n,r,i,a){var o,s,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Sn,skewX:Math.atan(u)*Sn,scaleX:o,scaleY:s}}function Mn(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],u=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var u=o.push("translate(",null,t,null,n);s.push({i:u-4,x:mn(e,i)},{i:u-2,x:mn(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,u),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:mn(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,s,u),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:mn(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,s,u),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:mn(e,n)},{i:s-2,x:mn(t,r)})}else(1!==n||1!==r)&&a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,u),a=o=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var Tn=Mn((function(e){var t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?En:An(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),kn=Mn((function(e){return null!=e&&(wn||(wn=document.createElementNS("http://www.w3.org/2000/svg","g")),wn.setAttribute("transform",e),e=wn.transform.baseVal.consolidate())?An((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):En}),", ",")",")"),Cn=function(e,t){var n=function(e,t){var n=t-e;return n?ln(e,n>180||n<-180?n-360*Math.round(n/360):n):un(isNaN(e)?t:e)}((e=nn(e)).h,(t=nn(t)).h),r=cn(e.s,t.s),i=cn(e.l,t.l),a=cn(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(t),e.opacity=a(t),e+""}};function Pn(e){return+e}var Rn=[0,1];function Nn(e){return e}function On(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function In(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=On(i,r),a=n(o,a)):(r=On(r,i),a=n(a,o)),function(e){return a(r(e))}}function Ln(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=On(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=_t(e,t,1,r)-1;return a[n](i[n](t))}}function Dn(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){if(!((n=+n)>0))return[];if((e=+e)==(t=+t))return[e];var r=t<e,i=r?St(t,e,n):St(e,t,n),a=(0,E.Z)(i,3),o=a[0],s=a[1],u=a[2];if(!(s>=o))return[];var l=s-o+1,c=new Array(l);if(r)if(u<0)for(var f=0;f<l;++f)c[f]=(s-f)/-u;else for(var d=0;d<l;++d)c[d]=(s-d)*u;else if(u<0)for(var h=0;h<l;++h)c[h]=(o+h)/-u;else for(var p=0;p<l;++p)c[p]=(o+p)*u;return c}(n[0],n[n.length-1],null!==e&&void 0!==e?e:10)},e.tickFormat=function(e,n){var r=t();return function(e,t,n,r){var i,a,o=function(e,t,n){n=+n;var r=(t=+t)<(e=+e),i=r?Et(t,e,n):Et(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}(e,t,n);switch((r=W(null!==(i=r)&&void 0!==i?i:",f")).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null==r.precision&&!isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(H(t)/3)))-H(Math.abs(e)))}(o,s))&&(r.precision=a),$(r,s);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,H(t)-H(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(a=function(e){return Math.max(0,-H(Math.abs(e)))}(o))&&(r.precision=a-2*("%"===r.type))}return J(r)}(r[0],r[r.length-1],null!==e&&void 0!==e?e:10,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,u=a[o],l=a[s],c=10;for(l<u&&(i=u,u=l,l=i,i=o,o=s,s=i);c-- >0;){if((i=Et(u,l,n))===r)return a[o]=u,a[s]=l,t(a);if(i>0)u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i}r=i}return e},e}function Un(){var e=function(){var e,t,n,r,i,a,o=Rn,s=Rn,u=bn,l=Nn;function c(){var e=Math.min(o.length,s.length);return l!==Nn&&(l=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?Ln:In,i=a=null,f}function f(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,u)))(e(l(t)))}return f.invert=function(n){return l(t((a||(a=r(s,o.map(e),mn)))(n)))},f.domain=function(e){return arguments.length?(o=Array.from(e,Pn),c()):o.slice()},f.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},f.rangeRound=function(e){return s=Array.from(e),u=xn,c()},f.clamp=function(e){return arguments.length?(l=!!e||Nn,c()):l!==Nn},f.interpolate=function(e){return arguments.length?(u=e,c()):u},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}()(Nn,Nn);return e.copy=function(){return function(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}(e,Un())},At.apply(e,arguments),Dn(e)}function Fn(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[_t(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){var r;return arguments.length?(r=(0,E.Z)(e,2),t=r[0],n=r[1],t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length&&(e=t),o},o.thresholds=function(){return i.slice()},o.copy=function(){return Fn().domain([t,n]).range(a).unknown(e)},At.apply(Dn(o),arguments)}var jn="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,Bn="object"==typeof self&&self&&self.Object===Object&&self,zn=jn||Bn||Function("return this")(),Vn=zn.Symbol,Hn=Object.prototype,Gn=Hn.hasOwnProperty,Zn=Hn.toString,Wn=Vn?Vn.toStringTag:void 0,qn=Object.prototype.toString,Xn="[object Null]",Kn="[object Undefined]",Yn=Vn?Vn.toStringTag:void 0;function Qn(e){return null==e?void 0===e?Kn:Xn:Yn&&Yn in Object(e)?function(e){var t=Gn.call(e,Wn),n=e[Wn];try{e[Wn]=void 0;var r=!0}catch(a){}var i=Zn.call(e);return r&&(t?e[Wn]=n:delete e[Wn]),i}(e):function(e){return qn.call(e)}(e)}function Jn(e){return null!=e&&"object"==typeof e}function $n(e){return e}var er=Object.prototype;function tr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||er)}var nr=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),rr=nr,ir=Object.prototype.hasOwnProperty;function ar(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var or="[object AsyncFunction]",sr="[object Function]",ur="[object GeneratorFunction]",lr="[object Proxy]";function cr(e){if(!ar(e))return!1;var t=Qn(e);return t==sr||t==ur||t==or||t==lr}var fr=zn["__core-js_shared__"],dr=function(){var e=/[^.]+$/.exec(fr&&fr.keys&&fr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),hr=Function.prototype.toString;function pr(e){if(null!=e){try{return hr.call(e)}catch(t){}try{return e+""}catch(n){}}return""}var mr=/^\[object .+?Constructor\]$/,vr=Function.prototype,gr=Object.prototype,yr=vr.toString,_r=gr.hasOwnProperty,br=RegExp("^"+yr.call(_r).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xr(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!ar(e)||function(e){return!!dr&&dr in e}(e))&&(cr(e)?br:mr).test(pr(e))}(n)?n:void 0}var wr=xr(zn,"DataView"),Sr=xr(zn,"Map"),Er=xr(zn,"Promise"),Ar=xr(zn,"Set"),Mr=xr(zn,"WeakMap"),Tr="[object Map]",kr="[object Promise]",Cr="[object Set]",Pr="[object WeakMap]",Rr="[object DataView]",Nr=pr(wr),Or=pr(Sr),Ir=pr(Er),Lr=pr(Ar),Dr=pr(Mr),Ur=Qn;(wr&&Ur(new wr(new ArrayBuffer(1)))!=Rr||Sr&&Ur(new Sr)!=Tr||Er&&Ur(Er.resolve())!=kr||Ar&&Ur(new Ar)!=Cr||Mr&&Ur(new Mr)!=Pr)&&(Ur=function(e){var t=Qn(e),n="[object Object]"==t?e.constructor:void 0,r=n?pr(n):"";if(r)switch(r){case Nr:return Rr;case Or:return Tr;case Ir:return kr;case Lr:return Cr;case Dr:return Pr}return t});var Fr=Ur;function jr(e){return Jn(e)&&"[object Arguments]"==Qn(e)}var Br=Object.prototype,zr=Br.hasOwnProperty,Vr=Br.propertyIsEnumerable,Hr=jr(function(){return arguments}())?jr:function(e){return Jn(e)&&zr.call(e,"callee")&&!Vr.call(e,"callee")},Gr=Hr,Zr=Array.isArray,Wr=9007199254740991;function qr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Wr}var Xr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Kr=Xr&&e&&!e.nodeType&&e,Yr=Kr&&Kr.exports===Xr?zn.Buffer:void 0,Qr=(Yr?Yr.isBuffer:void 0)||function(){return!1},Jr={};Jr["[object Float32Array]"]=Jr["[object Float64Array]"]=Jr["[object Int8Array]"]=Jr["[object Int16Array]"]=Jr["[object Int32Array]"]=Jr["[object Uint8Array]"]=Jr["[object Uint8ClampedArray]"]=Jr["[object Uint16Array]"]=Jr["[object Uint32Array]"]=!0,Jr["[object Arguments]"]=Jr["[object Array]"]=Jr["[object ArrayBuffer]"]=Jr["[object Boolean]"]=Jr["[object DataView]"]=Jr["[object Date]"]=Jr["[object Error]"]=Jr["[object Function]"]=Jr["[object Map]"]=Jr["[object Number]"]=Jr["[object Object]"]=Jr["[object RegExp]"]=Jr["[object Set]"]=Jr["[object String]"]=Jr["[object WeakMap]"]=!1;var $r="object"==typeof exports&&exports&&!exports.nodeType&&exports,ei=$r&&e&&!e.nodeType&&e,ti=ei&&ei.exports===$r&&jn.process,ni=function(){try{return ei&&ei.require&&ei.require("util").types||ti&&ti.binding&&ti.binding("util")}catch(e){}}(),ri=ni&&ni.isTypedArray,ii=ri?function(e){return function(t){return e(t)}}(ri):function(e){return Jn(e)&&qr(e.length)&&!!Jr[Qn(e)]},ai=ii,oi="[object Map]",si="[object Set]",ui=Object.prototype.hasOwnProperty;function li(e){if(null==e)return!0;if(function(e){return null!=e&&qr(e.length)&&!cr(e)}(e)&&(Zr(e)||"string"==typeof e||"function"==typeof e.splice||Qr(e)||ai(e)||Gr(e)))return!e.length;var t=Fr(e);if(t==oi||t==si)return!e.size;if(tr(e))return!function(e){if(!tr(e))return rr(e);var t=[];for(var n in Object(e))ir.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e).length;for(var n in e)if(ui.call(e,n))return!1;return!0}function ci(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function fi(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var di=/\s/,hi=/^\s+/;var pi="[object Symbol]",mi=NaN,vi=/^[-+]0x[0-9a-f]+$/i,gi=/^0b[01]+$/i,yi=/^0o[0-7]+$/i,_i=parseInt;function bi(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||Jn(e)&&Qn(e)==pi}(e))return mi;if(ar(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ar(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=function(e){return e&&e.slice(0,function(e){for(var t=e.length;t--&&di.test(e.charAt(t)););return t}(e)+1).replace(hi,"")}(e);var n=gi.test(e);return n||yi.test(e)?_i(e.slice(2),n?2:8):vi.test(e)?mi:+e}var xi=1/0,wi=17976931348623157e292;function Si(e){var t=function(e){return e?(e=bi(e))===xi||e===-xi?(e<0?-1:1)*wi:e==e?e:0:0===e?e:0}(e),n=t%1;return t==t?n?t-n:t:0}var Ei=4294967295,Ai=Math.min;function Mi(e,t){return function(e){return e&&e.length?function(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);void 0!==a&&(n=void 0===n?a:n+a)}return n}(e,$n):0}(function(e,t,n){return e&&e.length?fi(e,0,(t=void 0===t?1:Si(t))<0?0:t):[]}(e,t))}function Ti(e){var t=e.maxSegmentLabelCount,n=e.segmentCount,r=parseInt(t,10),i=parseInt(n,10);return function(e){return"number"==typeof e||Jn(e)&&"[object Number]"==Qn(e)}(r)&&r>=0&&r<=i?r:i}function ki(e){return e*Math.PI/180}var Ci="easeLinear",Pi="easeQuadIn",Ri="easeQuadOut",Ni="easeQuadInOut",Oi="easeCubicIn",Ii="easeCubicOut",Li="easeCubicInOut",Di="easePolyIn",Ui="easePolyOut",Fi="easePolyInOut",ji="easeSinIn",Bi="easeSinOut",zi="easeSinInOut",Vi="easeExpIn",Hi="easeExpOut",Gi="easeExpInOut",Zi="easeCircleIn",Wi="easeCircleOut",qi="easeCircleInOut",Xi="easeBounceIn",Ki="easeBounceOut",Yi="easeBounceInOut",Qi="easeBackIn",Ji="easeBackOut",$i="easeBackInOut",ea="easeElasticIn",ta="easeElasticOut",na="easeElasticInOut",ra="easeElastic",ia=function(e){return e},aa={value:0,minValue:0,maxValue:1e3,forceRender:!1,width:300,height:300,paddingHorizontal:0,paddingVertical:0,fluidWidth:!1,dimensionUnit:"px",segments:5,maxSegmentLabels:-1,customSegmentStops:[],customSegmentLabels:[],needleColor:"steelblue",startColor:"#FF471A",endColor:"#33CC33",segmentColors:[],needleTransition:Ni,needleTransitionDuration:500,needleHeightRatio:.9,ringWidth:60,textColor:"#666",valueFormat:"",segmentValueFormatter:ia,currentValueText:"${value}",currentValuePlaceholderStyle:"${value}",labelFontSize:"14px",valueTextFontSize:"16px",valueTextFontWeight:"bold",svgAriaLabel:"React d3 speedometer"},oa={ringInset:20,pointerWidth:10,pointerTailLength:5,minAngle:-90,maxAngle:90,labelInset:10};function sa(e){return function(){return e}}var ua=Math.abs,la=Math.atan2,ca=Math.cos,fa=Math.max,da=Math.min,ha=Math.sin,pa=Math.sqrt,ma=1e-12,va=Math.PI,ga=va/2,ya=2*va;function _a(e){return e>=1?ga:e<=-1?-ga:Math.asin(e)}var ba=Math.PI,xa=2*ba,wa=1e-6,Sa=xa-wa;function Ea(e){this._+=e[0];for(var t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}var Aa=function(){function e(t){(0,w.Z)(this,e),this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Ea:function(e){var t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return Ea;var n=Math.pow(10,t);return function(e){this._+=e[0];for(var t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(t)}return(0,S.Z)(e,[{key:"moveTo",value:function(e,t){this._append(u||(u=s(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(l||(l=s(["Z"]))))}},{key:"lineTo",value:function(e,t){this._append(c||(c=s(["L",",",""])),this._x1=+e,this._y1=+t)}},{key:"quadraticCurveTo",value:function(e,t,n,r){this._append(f||(f=s(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){this._append(d||(d=s(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+a)}},{key:"arcTo",value:function(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));var a=this._x1,o=this._y1,u=n-e,l=r-t,c=a-e,f=o-t,d=c*c+f*f;if(null===this._x1)this._append(h||(h=s(["M",",",""])),this._x1=e,this._y1=t);else if(d>wa)if(Math.abs(f*u-l*c)>wa&&i){var g=n-a,y=r-o,_=u*u+l*l,b=g*g+y*y,x=Math.sqrt(_),w=Math.sqrt(d),S=i*Math.tan((ba-Math.acos((_+d-b)/(2*x*w)))/2),E=S/w,A=S/x;Math.abs(E-1)>wa&&this._append(p||(p=s(["L",",",""])),e+E*c,t+E*f),this._append(m||(m=s(["A",",",",0,0,",",",",",""])),i,i,+(f*g>c*y),this._x1=e+A*u,this._y1=t+A*l)}else this._append(v||(v=s(["L",",",""])),this._x1=e,this._y1=t)}},{key:"arc",value:function(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error("negative radius: ".concat(n));var o=n*Math.cos(r),u=n*Math.sin(r),l=e+o,c=t+u,f=1^a,d=a?r-i:i-r;null===this._x1?this._append(g||(g=s(["M",",",""])),l,c):(Math.abs(this._x1-l)>wa||Math.abs(this._y1-c)>wa)&&this._append(y||(y=s(["L",",",""])),l,c),n&&(d<0&&(d=d%xa+xa),d>Sa?this._append(_||(_=s(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,f,e-o,t-u,n,n,f,this._x1=l,this._y1=c):d>wa&&this._append(b||(b=s(["A",",",",0,",",",",",",",""])),n,n,+(d>=ba),f,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}},{key:"rect",value:function(e,t,n,r){this._append(x||(x=s(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}},{key:"toString",value:function(){return this._}}]),e}();function Ma(e){var t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{var r=Math.floor(n);if(!(r>=0))throw new RangeError("invalid digits: ".concat(n));t=r}return e},function(){return new Aa(t)}}function Ta(e){return e.innerRadius}function ka(e){return e.outerRadius}function Ca(e){return e.startAngle}function Pa(e){return e.endAngle}function Ra(e){return e&&e.padAngle}function Na(e,t,n,r,i,a,o){var s=e-n,u=t-r,l=(o?a:-a)/pa(s*s+u*u),c=l*u,f=-l*s,d=e+c,h=t+f,p=n+c,m=r+f,v=(d+p)/2,g=(h+m)/2,y=p-d,_=m-h,b=y*y+_*_,x=i-a,w=d*m-p*h,S=(_<0?-1:1)*pa(fa(0,x*x*b-w*w)),E=(w*_-y*S)/b,A=(-w*y-_*S)/b,M=(w*_+y*S)/b,T=(-w*y+_*S)/b,k=E-v,C=A-g,P=M-v,R=T-g;return k*k+C*C>P*P+R*R&&(E=M,A=T),{cx:E,cy:A,x01:-c,y01:-f,x11:E*(i/x-1),y11:A*(i/x-1)}}function Oa(e){this._context=e}function Ia(e){return new Oa(e)}function La(e){return e[0]}function Da(e){return e[1]}function Ua(e){return e<0?-1:1}function Fa(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Ua(a)+Ua(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function ja(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ba(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function za(e){this._context=e}function Va(e){return new za(e)}Oa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},za.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ba(this,this._t0,ja(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ba(this,ja(this,n=Fa(this,e,t)),n);break;default:Ba(this,this._t0,n=Fa(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},Object.create(za.prototype).point=function(e,t){za.prototype.point.call(this,t,e)};var Ha={value:function(){}};function Ga(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Za(r)}function Za(e){this._=e}function Wa(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function qa(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Ha,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Za.prototype=Ga.prototype={constructor:Za,on:function(e,t){var n,r=this._,i=function(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}(e+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=qa(r[n],e.name,t);else if(null==t)for(n in r)r[n]=qa(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=Wa(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Za(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var Xa,Ka,Ya=0,Qa=0,Ja=0,$a=1e3,eo=0,to=0,no=0,ro="object"==typeof performance&&performance.now?performance:Date,io="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ao(){return to||(io(oo),to=ro.now()+no)}function oo(){to=0}function so(){this._call=this._time=this._next=null}function uo(e,t,n){var r=new so;return r.restart(e,t,n),r}function lo(){to=(eo=ro.now())+no,Ya=Qa=0;try{!function(){ao(),++Ya;for(var e,t=Xa;t;)(e=to-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ya}()}finally{Ya=0,function(){for(var e,t,n=Xa,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Xa=t);Ka=e,fo(r)}(),to=0}}function co(){var e=ro.now(),t=e-eo;t>$a&&(no-=t,eo=e)}function fo(e){Ya||(Qa&&(Qa=clearTimeout(Qa)),e-to>24?(e<1/0&&(Qa=setTimeout(lo,e-ro.now()-no)),Ja&&(Ja=clearInterval(Ja))):(Ja||(eo=ro.now(),Ja=setInterval(co,$a)),Ya=1,io(lo)))}function ho(e,t,n){var r=new so;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}so.prototype=uo.prototype={constructor:so,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?ao():+n)+(null==t?0:+t),!this._next&&Ka!==this&&(Ka?Ka._next=this:Xa=this,Ka=this),this._call=e,this._time=n,fo()},stop:function(){this._call&&(this._call=null,this._time=1/0,fo())}};var po=Ga("start","end","cancel","interrupt"),mo=[],vo=0,go=3;function yo(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(u){var l,c,f,d;if(1!==n.state)return s();for(l in i)if((d=i[l]).name===n.name){if(d.state===go)return ho(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[l]):+l<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[l])}if(ho((function(){n.state===go&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(u))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=go,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function o(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=uo((function(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:po,tween:mo,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:vo})}function _o(e,t){var n=xo(e,t);if(n.state>vo)throw new Error("too late; already scheduled");return n}function bo(e,t){var n=xo(e,t);if(n.state>go)throw new Error("too late; already running");return n}function xo(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function wo(e,t){var n,r;return function(){var i=bo(this,e),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function So(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=bo(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}function Eo(e,t,n){var r=e._id;return e.each((function(){var e=bo(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return xo(e,r).value[t]}}function Ao(e,t){var n;return("number"==typeof t?mn:t instanceof Gt?fn:(n=Gt(t))?(t=n,fn):_n)(e,t)}function Mo(e){return function(){this.removeAttribute(e)}}function To(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ko(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function Co(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function Po(e,t,n){var r,i,a;return function(){var o,s,u=n(this);return null==u?void this.removeAttribute(e):(o=this.getAttribute(e))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,u))}}function Ro(e,t,n){var r,i,a;return function(){var o,s,u=n(this);return null==u?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,u))}}function No(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Oo(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Io(e,t){return function(){_o(this,e).delay=+t.apply(this,arguments)}}function Lo(e,t){return t=+t,function(){_o(this,e).delay=t}}function Do(e,t){return function(){bo(this,e).duration=+t.apply(this,arguments)}}function Uo(e,t){return t=+t,function(){bo(this,e).duration=t}}var Fo=dt.prototype.constructor;function jo(e){return function(){this.style.removeProperty(e)}}var Bo=0;function zo(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Vo(e){return dt().transition(e)}function Ho(){return++Bo}var Go=dt.prototype;zo.prototype=Vo.prototype=(0,A.Z)({constructor:zo,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=le(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,u,l=r[o],c=l.length,f=a[o]=new Array(c),d=0;d<c;++d)(s=l[d])&&(u=e.call(s,s.__data__,d,l))&&("__data__"in s&&(u.__data__=s.__data__),f[d]=u,yo(f[d],t,n,d,f,xo(s,n)));return new zo(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=fe(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,f=0;f<c;++f)if(u=l[f]){for(var d,h=e.call(u,u.__data__,f,l),p=xo(u,n),m=0,v=h.length;m<v;++m)(d=h[m])&&yo(d,t,n,m,h,p);a.push(h),o.push(u)}return new zo(a,o,t,n)},selectChild:Go.selectChild,selectChildren:Go.selectChildren,filter:function(e){"function"!=typeof e&&(e=de(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&u.push(a);return new zo(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=t[s],c=n[s],f=l.length,d=o[s]=new Array(f),h=0;h<f;++h)(u=l[h]||c[h])&&(d[h]=u);for(;s<r;++s)o[s]=t[s];return new zo(o,this._parents,this._name,this._id)},selection:function(){return new Fo(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Ho(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)if(o=s[l]){var c=xo(o,t);yo(o,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new zo(r,this._parents,e,n)},call:Go.call,nodes:Go.nodes,node:Go.node,size:Go.size,empty:Go.empty,each:Go.each,on:function(e,t){var n=this._id;return arguments.length<2?xo(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?_o:bo;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}(n,e,t))},attr:function(e,t){var n=ie(e),r="transform"===n?kn:Ao;return this.attrTween(e,"function"==typeof t?(n.local?Ro:Po)(n,r,Eo(this,"attr."+e,t)):null==t?(n.local?To:Mo)(n):(n.local?Co:ko)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=ie(e);return this.tween(n,(r.local?No:Oo)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Tn:Ao;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=Le(this,e),o=(this.style.removeProperty(e),Le(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,jo(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=Le(this,e),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(e),u=s=Le(this,e)),o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,s))}}(e,r,Eo(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,s="end."+o;return function(){var u=bo(this,e),l=u.on,c=null==u.value[o]?a||(a=jo(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=Le(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null!==n&&void 0!==n?n:""))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null!==t&&void 0!==t?t:""}}(Eo(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=xo(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?wo:So)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Io:Lo)(t,e)):xo(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Do:Uo)(t,e)):xo(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){bo(this,e).ease=t}}(t,e)):xo(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;bo(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},u={value:function(){0==--i&&a()}};n.each((function(){var n=bo(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),n.on=t})),0===i&&a()}))}},Symbol.iterator,Go[Symbol.iterator]);var Zo=function(e){return+e};function Wo(e){return e*e}function qo(e){return e*(2-e)}function Xo(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function Ko(e){return e*e*e}function Yo(e){return--e*e*e+1}function Qo(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Jo=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),$o=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),es=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),ts=Math.PI,ns=ts/2;function rs(e){return 1==+e?1:1-Math.cos(e*ns)}function is(e){return Math.sin(e*ns)}function as(e){return(1-Math.cos(ts*e))/2}function os(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function ss(e){return os(1-+e)}function us(e){return 1-os(e)}function ls(e){return((e*=2)<=1?os(1-e):2-os(e-1))/2}function cs(e){return 1-Math.sqrt(1-e*e)}function fs(e){return Math.sqrt(1- --e*e)}function ds(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var hs=4/11,ps=6/11,ms=8/11,vs=3/4,gs=9/11,ys=10/11,_s=15/16,bs=21/22,xs=63/64,ws=1/hs/hs;function Ss(e){return 1-Es(1-e)}function Es(e){return(e=+e)<hs?ws*e*e:e<ms?ws*(e-=ps)*e+vs:e<ys?ws*(e-=gs)*e+_s:ws*(e-=bs)*e+xs}function As(e){return((e*=2)<=1?1-Es(1-e):Es(e-1)+1)/2}var Ms=1.70158,Ts=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(Ms),ks=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(Ms),Cs=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(Ms),Ps=2*Math.PI,Rs=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ps);function i(e){return t*os(- --e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*Ps)},i.period=function(n){return e(t,n)},i}(1,.3),Ns=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ps);function i(e){return 1-t*os(e=+e)*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*Ps)},i.period=function(n){return e(t,n)},i}(1,.3),Os=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ps);function i(e){return((e=2*e-1)<0?t*os(-e)*Math.sin((r-e)/n):2-t*os(e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*Ps)},i.period=function(n){return e(t,n)},i}(1,.3),Is={time:null,delay:0,duration:250,ease:Qo};function Ls(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}function Ds(e){switch(e){case Ci:return Zo;case Pi:return Wo;case Ri:return qo;case Ni:return Xo;case Oi:return Ko;case Ii:return Yo;case Li:return Qo;case Di:return Jo;case Ui:return $o;case Fi:return es;case ji:return rs;case Bi:return is;case zi:return as;case Vi:return ss;case Hi:return us;case Gi:return ls;case Zi:return cs;case Wi:return fs;case qi:return ds;case Xi:return Ss;case Ki:return Es;case Yi:return As;case Qi:return Ts;case Ji:return ks;case $i:return Cs;case ea:return Rs;case ta:return Ns;case na:return Os;case ra:return Ns;default:return Xo}}dt.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}(this,e)}))},dt.prototype.transition=function(e){var t,n;e instanceof zo?(t=e._id,e=e._name):(t=Ho(),(n=Is).time=ao(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)(o=s[l])&&yo(o,e,t,l,s,n||Ls(o,t));return new zo(r,this._parents,e,t)};var Us=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Fs(e,t){return!!(e===t||Us(e)&&Us(t))}function js(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Fs(e[n],t[n]))return!1;return!0}function Bs(e,t){void 0===t&&(t=js);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}var zs=Bs((function(e){return function(e){var t=e.min,n=e.max;return Un().range([0,1]).domain([t,n])}({min:e.minValue,max:e.maxValue,segments:e.maxSegmentLabels})})),Vs=Bs((function(e){var t=function(e,t){var n=t.min,r=t.max,i=t.segments,a=[];if((ci(a=e.ticks(i))!==r||i<a.length)&&a.length>1){var o=(r-n)/i;a=[n],function(e,t){if((e=Si(e))<1||e>9007199254740991)return[];var n=Ei,r=Ai(e,Ei);t=function(e){return"function"==typeof e?e:$n}(t),e-=Ei;for(var i=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(r,t);++n<e;)t(n)}(i,(function(e){a.push(n+(e+1)*o)}))}return 1===a.length&&(a=[n,r]),a}(zs(e),{min:e.minValue,max:e.maxValue,segments:e.maxSegmentLabels});return e.customSegmentStops.length>0&&0!==e.maxSegmentLabels&&(t=e.customSegmentStops),t})),Hs=Bs((function(e){var t=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(e.majorTicks).map((function(t){return 1/e.majorTicks}));return function(e){var t=e.tickData,n=e.customSegmentStops,r=e.min,i=e.max;if(!Zr(n)||li(n))return t;if(function(e){return e&&e.length?e[0]:void 0}(n)!==r)throw new Error("First value should be equivalent to min value given. Current min value - ".concat(r));if(ci(n)!==i)throw new Error("Last value should be equivalent to max value given. Current min value - ".concat(i));return function(e,t,n){var r=null==e?0:e.length;return r?fi(e,(t=void 0===t?1:Si(t))<0?0:t,r):[]}(n.map((function(e,t){if(0!==t)return(e-n[t-1])/(i-r)})))}({tickData:t,customSegmentStops:e.customSegmentStops,min:e.minValue,max:e.maxValue})})),Gs=Bs((function(e){var t=Hs(e),n=e.maxAngle-e.minAngle,r=e.width/2;return function(){var e=Ta,t=ka,n=sa(0),r=null,i=Ca,a=Pa,o=Ra,s=null,u=Ma(l);function l(){var l,c,f=+e.apply(this,arguments),d=+t.apply(this,arguments),h=i.apply(this,arguments)-ga,p=a.apply(this,arguments)-ga,m=ua(p-h),v=p>h;if(s||(s=l=u()),d<f&&(c=d,d=f,f=c),d>ma)if(m>ya-ma)s.moveTo(d*ca(h),d*ha(h)),s.arc(0,0,d,h,p,!v),f>ma&&(s.moveTo(f*ca(p),f*ha(p)),s.arc(0,0,f,p,h,v));else{var g,y,_=h,b=p,x=h,w=p,S=m,E=m,A=o.apply(this,arguments)/2,M=A>ma&&(r?+r.apply(this,arguments):pa(f*f+d*d)),T=da(ua(d-f)/2,+n.apply(this,arguments)),k=T,C=T;if(M>ma){var P=_a(M/f*ha(A)),R=_a(M/d*ha(A));(S-=2*P)>ma?(x+=P*=v?1:-1,w-=P):(S=0,x=w=(h+p)/2),(E-=2*R)>ma?(_+=R*=v?1:-1,b-=R):(E=0,_=b=(h+p)/2)}var N=d*ca(_),O=d*ha(_),I=f*ca(w),L=f*ha(w);if(T>ma){var D,U=d*ca(b),F=d*ha(b),j=f*ca(x),B=f*ha(x);if(m<va)if(D=function(e,t,n,r,i,a,o,s){var u=n-e,l=r-t,c=o-i,f=s-a,d=f*u-c*l;if(!(d*d<ma))return[e+(d=(c*(t-a)-f*(e-i))/d)*u,t+d*l]}(N,O,j,B,U,F,I,L)){var z=N-D[0],V=O-D[1],H=U-D[0],G=F-D[1],Z=1/ha(function(e){return e>1?0:e<-1?va:Math.acos(e)}((z*H+V*G)/(pa(z*z+V*V)*pa(H*H+G*G)))/2),W=pa(D[0]*D[0]+D[1]*D[1]);k=da(T,(f-W)/(Z-1)),C=da(T,(d-W)/(Z+1))}else k=C=0}E>ma?C>ma?(g=Na(j,B,N,O,d,C,v),y=Na(U,F,I,L,d,C,v),s.moveTo(g.cx+g.x01,g.cy+g.y01),C<T?s.arc(g.cx,g.cy,C,la(g.y01,g.x01),la(y.y01,y.x01),!v):(s.arc(g.cx,g.cy,C,la(g.y01,g.x01),la(g.y11,g.x11),!v),s.arc(0,0,d,la(g.cy+g.y11,g.cx+g.x11),la(y.cy+y.y11,y.cx+y.x11),!v),s.arc(y.cx,y.cy,C,la(y.y11,y.x11),la(y.y01,y.x01),!v))):(s.moveTo(N,O),s.arc(0,0,d,_,b,!v)):s.moveTo(N,O),f>ma&&S>ma?k>ma?(g=Na(I,L,U,F,f,-k,v),y=Na(N,O,j,B,f,-k,v),s.lineTo(g.cx+g.x01,g.cy+g.y01),k<T?s.arc(g.cx,g.cy,k,la(g.y01,g.x01),la(y.y01,y.x01),!v):(s.arc(g.cx,g.cy,k,la(g.y01,g.x01),la(g.y11,g.x11),!v),s.arc(0,0,f,la(g.cy+g.y11,g.cx+g.x11),la(y.cy+y.y11,y.cx+y.x11),v),s.arc(y.cx,y.cy,k,la(y.y11,y.x11),la(y.y01,y.x01),!v))):s.arc(0,0,f,w,x,v):s.lineTo(I,L)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-va/2;return[ca(r)*n,ha(r)*n]},l.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:sa(+t),l):e},l.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:sa(+e),l):t},l.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:sa(+e),l):n},l.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:sa(+e),l):r},l.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:sa(+e),l):i},l.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:sa(+e),l):a},l.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:sa(+e),l):o},l.context=function(e){return arguments.length?(s=null!==e&&void 0!==e?e:null,l):s},l}().innerRadius(r-e.ringWidth-e.ringInset).outerRadius(r-e.ringInset).startAngle((function(r,i){var a=Mi(t,i);return ki(e.minAngle+a*n)})).endAngle((function(r,i){var a=Mi(t,i+1);return ki(e.minAngle+a*n)}))})),Zs=function(e){var t=e.d3_refs,n=e.newValue,r=e.config,i=zs(r)(n),a=r.maxAngle-r.minAngle,o=r.minAngle+i*a;t.pointer.transition(function(e){var t=e.duration,n=e.ease;return Vo().duration(t).ease(n)}({duration:r.needleTransitionDuration,ease:Ds(r.needleTransition)})).attr("transform","rotate(".concat(o,")")),t.current_value_text.text(function(e,t){var n=t.labelFormat(e),r=t.currentValuePlaceholderStyle;return t.currentValueText.replace(r,n)}(n,r))};function Ws(e){var t=e.config,n=e.svg,r=(t.width+2*t.paddingHorizontal)/2,i=(t.width+4*t.paddingVertical)/2;return n.append("g").attr("transform","translate(".concat(r,", ").concat(i,")")).append("text").attr("class","current-value").attr("text-anchor","middle").attr("y",23).text(t.currentValue).style("font-size",t.valueTextFontSize).style("font-weight",t.valueTextFontWeight).style("fill",t.textColor)}function qs(e){var t=e.config,n=e.svg,r=e.r,i=e.centerTx,a=function(e){var t=e.heightRatio,n=e.radius;if(t<0||t>1)throw new Error("Invalid needleHeightRatio given - ".concat(t));return Math.round(n*t)}({heightRatio:t.needleHeightRatio,radius:r}),o=[[t.pointerWidth/2,0],[0,-a],[-t.pointerWidth/2,0],[0,t.pointerTailLength],[t.pointerWidth/2,0]],s=function(e,t){var n=sa(!0),r=null,i=Ia,a=null,o=Ma(s);function s(s){var u,l,c,f=(s=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(s)).length,d=!1;for(null==r&&(a=i(c=o())),u=0;u<=f;++u)!(u<f&&n(l=s[u],u,s))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(l,u,s),+t(l,u,s));if(c)return a=null,c+""||null}return e="function"==typeof e?e:void 0===e?La:sa(e),t="function"==typeof t?t:void 0===t?Da:sa(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:sa(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:sa(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:sa(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),s):r},s}().curve(Va);return n.append("g").data([o]).attr("class","pointer").attr("transform",i).style("fill",t.needleColor).append("path").attr("d",s).attr("transform","rotate(".concat(t.minAngle,")"))}var Xs=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,w.Z)(this,n),r=t.call(this,e),R((0,i.Z)(r),"render",(function(){return j("div",{ref:function(e){return r.gaugeDiv=e}})})),r.d3_refs={pointer:!1,current_value_text:!1},r}return(0,S.Z)(n,[{key:"componentDidMount",value:function(){this.renderGauge()}},{key:"componentDidUpdate",value:function(){this.props.forceRender?this.renderGauge():this.updateReadings()}},{key:"renderGauge",value:function(){this.config=function(e){var t=e.PROPS,n=e.parentWidth,r=e.parentHeight,i={width:t.fluidWidth?n:t.width,height:t.fluidWidth?r:t.height,paddingHorizontal:t.paddingHorizontal,paddingVertical:t.paddingVertical,dimensionUnit:t.dimensionUnit,ringWidth:t.ringWidth,minValue:t.minValue,maxValue:t.maxValue,needleColor:t.needleColor,majorTicks:t.segments,customSegmentStops:t.customSegmentStops,customSegmentLabels:t.customSegmentLabels,maxSegmentLabels:Ti({maxSegmentLabelCount:t.maxSegmentLabels,segmentCount:t.segments}),segmentColors:t.segmentColors,arcColorFn:t.segmentColors.length>0?Fn(t.segmentColors):Cn(qt(t.startColor),qt(t.endColor)),needleTransition:t.needleTransition,needleTransitionDuration:t.needleTransitionDuration,needleHeightRatio:t.needleHeightRatio,textColor:t.textColor,labelFormat:J(t.valueFormat),segmentValueFormatter:t.segmentValueFormatter,currentValueText:t.currentValueText,currentValuePlaceholderStyle:t.currentValuePlaceholderStyle,labelFontSize:t.labelFontSize,valueTextFontSize:t.valueTextFontSize,valueTextFontWeight:t.valueTextFontWeight,svgAriaLabel:t.svgAriaLabel};return Object.assign({},oa,i)}({PROPS:this.props,parentWidth:this.gaugeDiv.parentNode.clientWidth,parentHeight:this.gaugeDiv.parentNode.clientHeight}),ht(this.gaugeDiv).select("svg").remove(),this.d3_refs=function(e){var t=e.container,n=e.config,r=function(e){return e.width/2}(n),i=function(e,t,n){return"translate(".concat(e+t,", ").concat(e+n,")")}(r,n.paddingHorizontal,n.paddingVertical),a=function(e){var t=e.container,n=e.config,r=n.width+2*n.paddingHorizontal,i=n.height+2*n.paddingVertical;return ht(t).append("svg:svg").attr("class","speedometer").attr("width","".concat(r).concat(n.dimensionUnit)).attr("height","".concat(i).concat(n.dimensionUnit)).attr("role","img").attr("focusable","false").attr("aria-label",n.svgAriaLabel).style("width","".concat(r).concat(n.dimensionUnit)).style("height","".concat(i).concat(n.dimensionUnit))}({container:t,config:n});return function(e){var t=e.config,n=e.svg,r=e.centerTx,i=Hs(t),a=Gs(t);n.append("g").attr("class","arc").attr("transform",r).selectAll("path").data(i).enter().append("path").attr("class","speedo-segment").attr("fill",(function(e,n){return!li(t.segmentColors)&&t.segmentColors[n]?t.segmentColors[n]:t.arcColorFn(e*n)})).attr("d",a)}({config:n,svg:a,centerTx:i}),function(e){var t=e.config,n=e.svg,r=e.centerTx,i=e.r,a=Vs(t),o=Hs(t),s=zs(t),u=t.maxAngle-t.minAngle,l=t.customSegmentLabels,c=Zr(l)&&!li(l),f=c&&l.length===o.length;if(c&&!f)throw new Error("Custom Segment Labels should be an array with length of ".concat(o.length));c&&f?function(e){var t=e.config,n=e.svg,r=e.centerTx,i=e.r,a=e.ticks,o=e.tickData,s=e.scale,u=e.range,l=t.customSegmentStops,c=t.customSegmentLabels;function f(e,n){var r=0===l.length?s(e):Mi(o,n);return t.minAngle+r*u}var d=c.map((function(e,t){var n=t,r=t+1,i=f(a[n],n);return(f(a[r],r)+i)/2})),h=i-t.ringWidth-t.ringInset,p=i-t.ringInset,m=p-(p-h)/2;n.append("g").attr("class","label").attr("transform",r).selectAll("text").data(c).enter().append("text").attr("transform",(function(e,n){var r=d[n],a="rotate(".concat(r,") translate(0, ").concat(t.labelInset-i,")"),o="rotate(".concat(r,") translate(0, ").concat(t.labelInset/2-m,")");return"OUTSIDE"===e.position?a:o})).text((function(e){return e.text||""})).attr("class","segment-value").style("text-anchor","middle").style("font-size",(function(e){return e.fontSize||t.labelFontSize})).style("font-weight","bold").style("fill",(function(e){return e.color||t.textColor}))}({config:t,svg:n,centerTx:r,r:i,ticks:a,tickData:o,scale:s,range:u}):n.append("g").attr("class","label").attr("transform",r).selectAll("text").data(a).enter().append("text").attr("transform",(function(e,n){var r=0===t.customSegmentStops.length?s(e):Mi(o,n);return"rotate(".concat(t.minAngle+r*u,") translate(0, ").concat(t.labelInset-i,")")})).text((function(e){return t.segmentValueFormatter(t.labelFormat(e))})).attr("class","segment-value").style("text-anchor","middle").style("font-size",t.labelFontSize).style("font-weight","bold").style("fill",t.textColor)}({config:n,svg:a,centerTx:i,r:r}),{current_value_text:Ws({config:n,svg:a}),pointer:qs({config:n,svg:a,r:r,centerTx:i})}}({container:this.gaugeDiv,config:this.config}),Zs({d3_refs:this.d3_refs,newValue:this.props.value,config:this.config})}},{key:"updateReadings",value:function(){this.config=function(e,t){return(0,r.Z)((0,r.Z)({},e),t)}(this.config,{labelFormat:J(this.props.valueFormat||""),segmentValueFormatter:this.props.segmentValueFormatter||ia,currentValueText:this.props.currentValueText||"${value}"}),Zs({d3_refs:this.d3_refs,newValue:this.props.value||0,config:this.config})}}]),n}(k.PureComponent);R(Xs,"displayName","ReactSpeedometer"),Xs.propTypes={value:B.number.isRequired,minValue:B.number.isRequired,maxValue:B.number.isRequired,forceRender:B.bool.isRequired,width:B.number.isRequired,height:B.number.isRequired,paddingHorizontal:B.number.isRequired,paddingVertical:B.number.isRequired,dimensionUnit:B.string.isRequired,fluidWidth:B.bool.isRequired,segments:B.number.isRequired,maxSegmentLabels:B.number,customSegmentStops:B.array,customSegmentLabels:B.arrayOf(B.shape({text:B.string,position:B.oneOf(["OUTSIDE","INSIDE"]),fontSize:B.string,color:B.string})),needleColor:B.string.isRequired,startColor:B.string.isRequired,endColor:B.string.isRequired,segmentColors:B.array.isRequired,needleTransition:B.string.isRequired,needleTransitionDuration:B.number.isRequired,needleHeightRatio:B.number.isRequired,ringWidth:B.number.isRequired,textColor:B.string.isRequired,valueFormat:B.string.isRequired,segmentValueFormatter:B.func,currentValueText:B.string.isRequired,currentValuePlaceholderStyle:B.string.isRequired,labelFontSize:B.string.isRequired,valueTextFontSize:B.string.isRequired,valueTextFontWeight:B.string.isRequired,svgAriaLabel:B.string},Xs.defaultProps=aa},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),T=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var D,U=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case A:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case M:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Ee=null;function Ae(e){if(e=_i(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=xi(t),we(e.stateNode,e.type,t))}}function Me(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function ke(e,t){return e(t)}function Ce(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return ke(e,t,n)}finally{Pe=!1,(null!==Se||null!==Ee)&&(Ce(),Te())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ce){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var De=!1,Ue=null,Fe=!1,je=null,Be={onError:function(e){De=!0,Ue=e}};function ze(e,t,n,r,i,a,o,s,u){De=!1,Ue=null,Le.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ve(e)!==e)throw Error(a(188))}function Ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Qe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,St,Et,At,Mt=!1,Tt=[],kt=null,Ct=null,Pt=null,Rt=new Map,Nt=new Map,Ot=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void At(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Mt=!1,null!==kt&&Ft(kt)&&(kt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Pt&&Ft(Pt)&&(Pt=null),Rt.forEach(jt),Nt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Mt||(Mt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&zt(kt,e),null!==Ct&&zt(Ct,e),null!==Pt&&zt(Pt,e),Rt.forEach(t),Nt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ut(n),null===n.blockedOn&&Ot.shift()}var Ht=b.ReactCurrentBatchConfig,Gt=!0;function Zt(e,t,n,r){var i=_t,a=Ht.transition;Ht.transition=null;try{_t=1,qt(e,t,n,r)}finally{_t=i,Ht.transition=a}}function Wt(e,t,n,r){var i=_t,a=Ht.transition;Ht.transition=null;try{_t=4,qt(e,t,n,r)}finally{_t=i,Ht.transition=a}}function qt(e,t,n,r){if(Gt){var i=Kt(e,t,n,r);if(null===i)Gr(e,t,r,Xt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kt=Dt(kt,e,t,n,r,i),!0;case"dragenter":return Ct=Dt(Ct,e,t,n,r,i),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Dt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Dt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&xt(a),null===(a=Kt(e,t,n,r))&&Gr(e,t,r,Xt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Xt=null;function Kt(e,t,n,r){if(Xt=null,null!==(e=yi(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=U({},ln,{view:0,detail:0}),dn=an(fn),hn=U({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),mn=an(U({},hn,{dataTransfer:0})),vn=an(U({},fn,{relatedTarget:0})),gn=an(U({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=U({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(yn),bn=an(U({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function An(){return En}var Mn=U({},fn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Mn),kn=an(U({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(U({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Pn=an(U({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=U({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=an(Rn),On=[9,13,27,32],In=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Dn=c&&"TextEvent"in window&&!Ln,Un=c&&(!In||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Zn(e,t,n,r){Me(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,qn=null;function Xn(e){Fr(e,0)}function Kn(e){if(q(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Jn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),qn=Wn=null)}function nr(e){if("value"===e.propertyName&&Kn(qn)){var t=[];Zn(t,qn,e,xe(e)),Re(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(qn)}function ar(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==vr||vr!==X(r)||("selectionStart"in(r=vr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Er={};function Ar(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Mr=Ar("animationend"),Tr=Ar("animationiteration"),kr=Ar("animationstart"),Cr=Ar("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),u(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Ir=Rr[Or];Nr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Nr(Mr,"onAnimationEnd"),Nr(Tr,"onAnimationIteration"),Nr(kr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Cr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),De){if(!De)throw Error(a(198));var c=Ue;De=!1,Ue=null,Fe||(Fe=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,l),a=u}}}if(Fe)throw e=je,Fe=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=Zt;break;case 4:i=Wt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=xe(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Mr:case Tr:case kr:u=gn;break;case Cr:u=Pn;break;case"scroll":u=dn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=kn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==d&&(null!=(m=Ne(p,d))&&c.push(Zr(p,m,h)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(f=Ve(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=kn,m="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:bi(u),h=null==l?s:bi(l),(s=new c(m,p+"leave",u,n,i)).target=f,s.relatedTarget=h,m=null,yi(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=h,c.relatedTarget=f,m=c),f=m,u&&l)e:{for(d=l,p=0,h=c=u;h;h=qr(h))p++;for(h=0,m=d;m;m=qr(m))h++;for(;0<p-h;)c=qr(c),p--;for(;0<h-p;)d=qr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=qr(c),d=qr(d)}c=null}else c=null;null!==u&&Xr(o,s,u,c,!1),null!==l&&null!==f&&Xr(o,f,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Yn;else if(Gn(s))if(Qn)v=or;else{v=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ar);switch(v&&(v=v(e,r))?Zn(o,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vn?Bn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Un&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Vn&&(y=en()):(Jt="value"in(Qt=i)?Qt.value:Qt.textContent,Vn=!0)),0<(g=Wr(r,_)).length&&(_=new bn(_,e,null,n,i),o.push({event:_,listeners:g}),y?_.data=y:null!==(y=zn(n))&&(_.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!In&&Bn(e,t)?(e=en(),$t=Jt=Qt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ne(e,n))&&r.unshift(Zr(e,a,i)),null!=(a=Ne(e,t))&&r.push(Zr(e,a,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Ne(n,a))&&o.unshift(Zr(n,u,s)):i||null!=(u=Ne(n,a))&&o.push(Zr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,mi="__reactEvents$"+fi,vi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xi(e){return e[hi]||null}var wi=[],Si=-1;function Ei(e){return{current:e}}function Ai(e){0>Si||(e.current=wi[Si],wi[Si]=null,Si--)}function Mi(e,t){Si++,wi[Si]=e.current,e.current=t}var Ti={},ki=Ei(Ti),Ci=Ei(!1),Pi=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ai(Ci),Ai(ki)}function Ii(e,t,n){if(ki.current!==Ti)throw Error(a(168));Mi(ki,t),Mi(Ci,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return U({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=ki.current,Mi(ki,e),Mi(Ci,Ci.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ai(Ci),Ai(ki),Mi(ki,e)):Ai(Ci),Mi(Ci,n)}var Fi=null,ji=!1,Bi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Vi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),qe($e,Vi),i}finally{_t=t,Bi=!1}}return null}var Hi=[],Gi=0,Zi=null,Wi=0,qi=[],Xi=0,Ki=null,Yi=1,Qi="";function Ji(e,t){Hi[Gi++]=Wi,Hi[Gi++]=Zi,Zi=e,Wi=t}function $i(e,t,n){qi[Xi++]=Yi,qi[Xi++]=Qi,qi[Xi++]=Ki,Ki=e;var r=Yi;e=Qi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Qi=a+e}else Yi=1<<a|n<<i|r,Qi=e}function ea(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function ta(e){for(;e===Zi;)Zi=Hi[--Gi],Hi[Gi]=null,Wi=Hi[--Gi],Hi[Gi]=null;for(;e===Ki;)Ki=qi[--Xi],qi[Xi]=null,Qi=qi[--Xi],qi[Xi]=null,Yi=qi[--Xi],qi[Xi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Yi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=li(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=b.ReactCurrentBatchConfig;function va(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ei(null),ya=null,_a=null,ba=null;function xa(){ba=_a=ya=null}function wa(e){var t=ga.current;Ai(ga),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ya=e,ba=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Aa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ya)throw Error(a(308));_a=e,ya.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Ma=null;function Ta(e){null===Ma?Ma=[e]:Ma.push(e)}function ka(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(h,f,d):p)||void 0===d)break e;f=U({},f,d);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=h,u=f):c=c.next=h,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Uu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ia(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ia(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ia(e,i,r))&&(rl(t,e,r,n),La(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ha(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Aa(a):(i=Ni(t)?Pi:ki.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Za(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Aa(a):(a=Ni(t)?Pi:ki.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Il(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&Xa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Dl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case w:return(t=jl(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Dl(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case N:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function m(i,a,s,u){for(var l=null,c=null,f=a,m=a=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=h(i,f,s[m],u);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,m),null===c?l=g:c.sibling=g,c=g,f=v}if(m===s.length)return n(i,f),ia&&Ji(i,m),l;if(null===f){for(;m<s.length;m++)null!==(f=d(i,s[m],u))&&(a=o(f,a,m),null===c?l=f:c.sibling=f,c=f);return ia&&Ji(i,m),l}for(f=r(i,f);m<s.length;m++)null!==(v=p(f,i,m,s[m],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}function v(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var _=h(i,m,y.value,l);if(null===_){null===m&&(m=g);break}e&&m&&null===_.alternate&&t(i,m),s=o(_,s,v),null===f?c=_:f.sibling=_,f=_,m=g}if(y.done)return n(i,m),ia&&Ji(i,v),c;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=d(i,y.value,l))&&(s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return ia&&Ji(i,v),c}for(m=r(i,m);!y.done;v++,y=u.next())null!==(y=p(m,i,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===S){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===N&&Xa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Wa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((a=Dl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ll(o.type,o.key,o.props,null,r.mode,u)).ref=Wa(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jl(o,r.mode,u)).return=r,r=a}return s(r);case N:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return m(r,a,o,u);if(L(o))return v(r,a,o,u);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=Ka(!0),Qa=Ka(!1),Ja={},$a=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Mi(to,t),Mi(eo,e),Mi($a,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai($a),Mi($a,t)}function io(){Ai($a),Ai(eo),Ai(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(Mi(eo,e),Mi($a,n))}function oo(e){eo.current===e&&(Ai($a),Ai(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,mo=null,vo=null,go=null,yo=!1,_o=!1,bo=0,xo=0;function wo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),_o){o=0;do{if(_o=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=vo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(_o)}if(fo.current=os,t=null!==vo&&null!==vo.next,po=0,go=vo=mo=null,yo=!1,t)throw Error(a(300));return e}function Ao(){var e=0!==bo;return bo=0,e}function Mo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?mo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===vo){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===go?mo.memoizedState:go.next;if(null!==t)go=t,vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===go?mo.memoizedState=go=e:go=go.next=e}return go}function ko(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=vo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=r):l=l.next=d,mo.lanes|=f,Uu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Uu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function No(e,t){var n=mo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Go(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,jo(9,Io.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&Uo(e)}function Lo(e,t,n){return n((function(){Do(t)&&Uo(e)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Uo(e){var t=Ca(e,1);null!==t&&rl(t,e,1,-1)}function Fo(e){var t=Mo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return To().memoizedState}function zo(e,t,n,r){var i=Mo();mo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==vo){var o=vo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}mo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Ho(e,t){return zo(8390656,8,e,t)}function Go(e,t){return Vo(2048,8,e,t)}function Zo(e,t){return Vo(4,2,e,t)}function Wo(e,t){return Vo(4,4,e,t)}function qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,qo.bind(null,t,e),n)}function Ko(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,Uu|=n,e.baseState=!0),t)}function $o(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{_t=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=ka(e,t,n,r))){rl(n,e,r,tl()),as(n,t,r)}}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=ka(e,t,i,r))&&(rl(n,e,r,i=tl()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function is(e,t){_o=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Aa,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Aa,useCallback:function(e,t){return Mo().memoizedState=[e,void 0===t?null:t],e},useContext:Aa,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Mo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Mo().memoizedState=e},useState:Fo,useDebugValue:Ko,useDeferredValue:function(e){return Mo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),Mo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=Mo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Io.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Mo(),t=Pu.identifierPrefix;if(ia){var n=Qi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Aa,useCallback:Yo,useContext:Aa,useEffect:Go,useImperativeHandle:Xo,useInsertionEffect:Zo,useLayoutEffect:Wo,useMemo:Qo,useReducer:Co,useRef:Bo,useState:function(){return Co(ko)},useDebugValue:Ko,useDeferredValue:function(e){return Jo(To(),vo.memoizedState,e)},useTransition:function(){return[Co(ko)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:No,useId:es,unstable_isNewReconciler:!1},ls={readContext:Aa,useCallback:Yo,useContext:Aa,useEffect:Go,useImperativeHandle:Xo,useInsertionEffect:Zo,useLayoutEffect:Wo,useMemo:Qo,useReducer:Po,useRef:Bo,useState:function(){return Po(ko)},useDebugValue:Ko,useDeferredValue:function(e){var t=To();return null===vo?t.memoizedState=e:Jo(t,vo.memoizedState,e)},useTransition:function(){return[Po(ko)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:No,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zu||(Zu=!0,Wu=r),ds(0,t)},n}function ms(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===qu?qu=new Set([this]):qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ml.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Ia(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=b.ReactCurrentOwner,bs=!1;function xs(e,t,n,r){t.child=null===e?Qa(t,null,n,r):Ya(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Ao(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ol(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Zs(e,t,i)}return t.flags|=1,(e=Il(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Zs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function As(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mi(Iu,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mi(Iu,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Mi(Iu,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Mi(Iu,Ou),Ou|=r;return xs(e,t,i,n),t.child}function Ms(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ni(n)?Pi:ki.current;return a=Ri(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Ao(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zs(e,t,i))}function ks(e,t,n,r,i){if(Ni(n)){var a=!0;Di(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Gs(e,t),Ha(t,n,r),Za(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Aa(l):l=Ri(t,l=Ni(n)?Pi:ki.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Ga(t,o,r,l),Pa=!1;var d=t.memoizedState;o.state=d,Ua(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Ci.current||Pa?("function"===typeof c&&(Ba(t,n,c,r),u=t.memoizedState),(s=Pa||Va(t,n,s,r,d,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Na(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:va(t.type,s),o.props=l,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Aa(u):u=Ri(t,u=Ni(n)?Pi:ki.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Ga(t,o,r,u),Pa=!1,d=t.memoizedState,o.state=d,Ua(t,r,o,i);var p=t.memoizedState;s!==f||d!==p||Ci.current||Pa?("function"===typeof h&&(Ba(t,n,h,r),p=t.memoizedState),(l=Pa||Va(t,n,l,r,d,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Ms(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Zs(e,t,a);r=t.stateNode,_s.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):xs(e,t,s,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),ro(e,t.containerInfo)}function Rs(e,t,n,r,i){return ha(),pa(i),t.flags|=256,xs(e,t,n,r),t.child}var Ns,Os,Is,Ls,Ds={dehydrated:null,treeContext:null,retryLane:0};function Us(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Mi(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ul(u,i,0,null),e=Dl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Us(n),t.memoizedState=Ds,e):js(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ul({mode:"visible",children:r.children},i,0,null),(o=Dl(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Us(s),t.memoizedState=Ds,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Bs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),rl(r,e,i,-1))}return vl(),Bs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=kl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(qi[Xi++]=Yi,qi[Xi++]=Qi,qi[Xi++]=Ki,Yi=e.id,Qi=e.overflow,Ki=t),t=js(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Il(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Il(r,s):(s=Dl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Us(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Il(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Ul({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Mi(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Uu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Il(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Il(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Ni(t.type)&&Oi(),qs(t),null;case 3:return r=t.stateNode,io(),Ai(Ci),Ai(ki),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sl(aa),aa=null))),Os(e,t),qs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Is(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return qs(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":W(r),$(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[hi]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=K(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ve(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&jr("scroll",e):null!=c&&_(e,o,c,u))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return qs(t),null;case 13:if(Ai(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else null!==aa&&(sl(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):vl())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return io(),Os(e,t),null===e&&Vr(t.stateNode.containerInfo),qs(t),null;case 10:return wa(t.type._context),qs(t),null;case 19:if(Ai(so),null===(o=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mi(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Hu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return qs(t),null}else 2*Qe()-o.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=so.current,Mi(so,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ks(e,t){switch(ta(t),t.tag){case 1:return Ni(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ai(Ci),Ai(ki),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ai(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Is=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=K(e,i),r=K(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&jr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Qs=!1,Js="function"===typeof WeakSet?WeakSet:Set,$s=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Al(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Al(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[mi],delete t[vi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var fu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||eu(n,t);case 6:var r=fu,i=du;fu=null,hu(e,t,n),du=i,null!==(fu=r)&&(du?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(du?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Vt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=du,fu=n.stateNode.containerInfo,du=!0,hu(e,t,n),fu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Qs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Al(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hu(e,t,n),Qs=r):hu(e,t,n);break;default:hu(e,t,n)}}function mu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,du=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,du=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Al(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(v){Al(e,e.return,v)}try{ru(5,e,e.return)}catch(v){Al(e,e.return,v)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(v){Al(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&Q(i,o),_e(u,s);var c=_e(u,o);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];"style"===f?ve(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):_(i,f,d,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(v){Al(e,e.return,v)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Al(e,e.return,v)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(v){Al(e,e.return,v)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Qe())),4&r&&mu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(c=Qs)||f,vu(t,e),Qs=c):vu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for($s=e,f=e.child;null!==f;){for(d=$s=f;null!==$s;){switch(p=(h=$s).child,h.tag){case 0:case 11:case 14:case 15:ru(4,h,h.return);break;case 1:eu(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Al(r,n,v)}}break;case 5:eu(h,h.return);break;case 22:if(null!==h.memoizedState){wu(d);continue}}null!==p?(p.return=h,$s=p):wu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=me("display",s))}catch(v){Al(e,e.return,v)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Al(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vu(t,e),yu(e),4&r&&mu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Al(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _u(e,t,n){$s=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Qs;s=Ys;var l=Qs;if(Ys=o,(Qs=u)&&!l)for($s=i;null!==$s;)u=(o=$s).child,22===o.tag&&null!==o.memoizedState?Su(i):null!==u?(u.return=o,$s=u):Su(i);for(;null!==a;)$s=a,bu(a,t,n),a=a.sibling;$s=i,Ys=s,Qs=l}xu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):xu(e)}}function xu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:va(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(a(163))}Qs||512&t.flags&&au(t)}catch(h){Al(t,t.return,h)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function wu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function Su(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Al(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Al(t,i,u)}}var a=t.return;try{au(t)}catch(u){Al(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Al(t,o,u)}}}catch(u){Al(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Eu,Au=Math.ceil,Mu=b.ReactCurrentDispatcher,Tu=b.ReactCurrentOwner,ku=b.ReactCurrentBatchConfig,Cu=0,Pu=null,Ru=null,Nu=0,Ou=0,Iu=Ei(0),Lu=0,Du=null,Uu=0,Fu=0,ju=0,Bu=null,zu=null,Vu=0,Hu=1/0,Gu=null,Zu=!1,Wu=null,qu=null,Xu=!1,Ku=null,Yu=0,Qu=0,Ju=null,$u=-1,el=0;function tl(){return 0!==(6&Cu)?Qe():-1!==$u?$u:$u=Qe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Nu?Nu&-Nu:null!==ma.transition?(0===el&&(el=mt()),el):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rl(e,t,n,r){if(50<Qu)throw Qu=0,Ju=null,Error(a(185));gt(e,n,r),0!==(2&Cu)&&e===Pu||(e===Pu&&(0===(2&Cu)&&(Fu|=n),4===Lu&&ul(e,Nu)),il(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(Hu=Qe()+500,ji&&Vi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Pu?Nu:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(ll.bind(null,e)):zi(ll.bind(null,e)),oi((function(){0===(6&Cu)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if($u=-1,el=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=dt(e,e===Pu?Nu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=Cu;Cu|=2;var o=ml();for(Pu===e&&Nu===t||(Gu=null,Hu=Qe()+500,hl(e,t));;)try{_l();break}catch(u){pl(e,u)}xa(),Mu.current=o,Cu=i,null!==Ru?t=0:(Pu=null,Nu=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Du,hl(e,0),ul(e,r),il(e,Qe()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Du,hl(e,0),ul(e,r),il(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,zu,Gu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Vu+500-Qe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,zu,Gu),t);break}wl(e,zu,Gu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Au(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,zu,Gu),r);break}wl(e,zu,Gu);break;default:throw Error(a(329))}}}return il(e,Qe()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=zu,zu=n,null!==t&&sl(t)),e}function sl(e){null===zu?zu=e:zu.push.apply(zu,e)}function ul(e,t){for(t&=~ju,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Cu))throw Error(a(327));Sl();var t=dt(e,0);if(0===(1&t))return il(e,Qe()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Du,hl(e,0),ul(e,t),il(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,zu,Gu),il(e,Qe()),null}function cl(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Hu=Qe()+500,ji&&Vi())}}function fl(e){null!==Ku&&0===Ku.tag&&0===(6&Cu)&&Sl();var t=Cu;Cu|=1;var n=ku.transition,r=_t;try{if(ku.transition=null,_t=1,e)return e()}finally{_t=r,ku.transition=n,0===(6&(Cu=t))&&Vi()}}function dl(){Ou=Iu.current,Ai(Iu)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ai(Ci),Ai(ki),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ai(so);break;case 10:wa(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Pu=e,Ru=e=Il(e.current,null),Nu=Ou=t,Lu=0,Du=null,ju=Fu=Uu=0,zu=Bu=null,null!==Ma){for(t=0;t<Ma.length;t++)if(null!==(r=(n=Ma[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ma=null}return e}function pl(e,t){for(;;){var n=Ru;try{if(xa(),fo.current=os,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=vo=mo=null,_o=!1,bo=0,Tu.current=null,null===n||null===n.return){Lu=1,Du=t,Ru=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Nu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&vs(o,c,t),l=c;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}if(0===(1&t)){vs(o,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Lu&&(Lu=2),null===Bu?Bu=[o]:Bu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Da(o,ps(0,l,t));break e;case 1:u=l;var y=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===qu||!qu.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Da(o,ms(o,u,t));break e}}o=o.return}while(null!==o)}xl(n)}catch(b){t=b,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function ml(){var e=Mu.current;return Mu.current=os,null===e?os:e}function vl(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Pu||0===(268435455&Uu)&&0===(268435455&Fu)||ul(Pu,Nu)}function gl(e,t){var n=Cu;Cu|=2;var r=ml();for(Pu===e&&Nu===t||(Gu=null,hl(e,t));;)try{yl();break}catch(i){pl(e,i)}if(xa(),Cu=n,Mu.current=r,null!==Ru)throw Error(a(261));return Pu=null,Nu=0,Lu}function yl(){for(;null!==Ru;)bl(Ru)}function _l(){for(;null!==Ru&&!Ke();)bl(Ru)}function bl(e){var t=Eu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?xl(e):Ru=t,Tu.current=null}function xl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Ou)))return void(Ru=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Ru=n);if(null===e)return Lu=6,void(Ru=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Lu&&(Lu=5)}function wl(e,t,n){var r=_t,i=ku.transition;try{ku.transition=null,_t=1,function(e,t,n,r){do{Sl()}while(null!==Ku);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pu&&(Ru=Pu=null,Nu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xu||(Xu=!0,Pl(tt,(function(){return Sl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=ku.transition,ku.transition=null;var s=_t;_t=1;var u=Cu;Cu|=4,Tu.current=null,function(e,t){if(ei=Gt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==o||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(u=s),h===o&&++f===r&&(l=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:va(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(x){Al(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}m=nu,nu=!1}(e,n),gu(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,_u(n,e,i),Ye(),Cu=u,_t=s,ku.transition=o}else e.current=n;if(Xu&&(Xu=!1,Ku=e,Yu=i),o=e.pendingLanes,0===o&&(qu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zu)throw Zu=!1,e=Wu,Wu=null,e;0!==(1&Yu)&&0!==e.tag&&Sl(),o=e.pendingLanes,0!==(1&o)?e===Ju?Qu++:(Qu=0,Ju=e):Qu=0,Vi()}(e,t,n,r)}finally{ku.transition=i,_t=r}return null}function Sl(){if(null!==Ku){var e=bt(Yu),t=ku.transition,n=_t;try{if(ku.transition=null,_t=16>e?16:e,null===Ku)var r=!1;else{if(e=Ku,Ku=null,Yu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for($s=c;null!==$s;){var f=$s;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var d=f.child;if(null!==d)d.return=f,$s=d;else for(;null!==$s;){var h=(f=$s).sibling,p=f.return;if(ou(f),f===c){$s=null;break}if(null!==h){h.return=p,$s=h;break}$s=p}}}var m=o.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$s=y;break e}$s=o.return}}var _=e.current;for($s=_;null!==$s;){var b=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,$s=b;else e:for(s=_;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(w){Al(u,u.return,w)}if(u===s){$s=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,$s=x;break e}$s=u.return}}if(Cu=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{_t=n,ku.transition=t}}return!1}function El(e,t,n){e=Ia(e,t=ps(0,t=cs(n,t),1),1),t=tl(),null!==e&&(gt(e,1,t),il(e,t))}function Al(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qu||!qu.has(r))){t=Ia(t,e=ms(t,e=cs(n,e),1),1),e=tl(),null!==t&&(gt(t,1,e),il(t,e));break}}t=t.return}}function Ml(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Nu&n)===n&&(4===Lu||3===Lu&&(130023424&Nu)===Nu&&500>Qe()-Vu?hl(e,0):ju|=n),il(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Ca(e,t))&&(gt(e,t,n),il(e,n))}function kl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tl(e,n)}function Pl(e,t){return qe(e,t)}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nl(e,t,n,r){return new Rl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Il(e,t){var n=e.alternate;return null===n?((n=Nl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ol(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Dl(n.children,i,o,t);case E:s=8,i|=8;break;case A:return(e=Nl(12,n,t,2|i)).elementType=A,e.lanes=o,e;case C:return(e=Nl(13,n,t,i)).elementType=C,e.lanes=o,e;case P:return(e=Nl(19,n,t,i)).elementType=P,e.lanes=o,e;case O:return Ul(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case M:s=10;break e;case T:s=9;break e;case k:s=11;break e;case R:s=14;break e;case N:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dl(e,t,n,r){return(e=Nl(7,e,r,t)).lanes=n,e}function Ul(e,t,n,r){return(e=Nl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Nl(6,e,null,t)).lanes=n,e}function jl(e,t,n){return(t=Nl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,a,o,s,u){return e=new Bl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Vl(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Li(e,n,t)}return t}function Hl(e,t,n,r,i,a,o,s,u){return(e=zl(n,r,!0,e,0,a,0,s,u)).context=Vl(null),n=e.current,(a=Oa(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Ia(n,a,i),e.current.lanes=i,gt(e,i,r),il(e,r),e}function Gl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ia(i,t,o))&&(rl(e,i,o,a),La(e,i,o)),o}function Zl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ql(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),ha();break;case 5:ao(t);break;case 1:Ni(t.type)&&Di(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Mi(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Mi(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Mi(so,1&so.current),null!==(e=Zs(e,t,n))?e.sibling:null);Mi(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mi(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,As(e,t,n)}return Zs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Ri(t,ki.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Ao();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Za(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===R)return 14}return 2}(r),e=va(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=ks(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,va(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:va(r,i),n);case 1:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:va(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Na(e,t),Ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Qa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Zs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ms(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:va(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Mi(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ci.current){t=Zs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Sa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Sa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Aa(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=va(r=t.type,t.pendingProps),Ss(e,t,r,i=va(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:va(r,i),Gs(e,t),t.tag=1,Ni(r)?(e=!0,Di(t)):e=!1,Ea(t,n),Ha(t,r,i),Za(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return As(e,t,n)}throw Error(a(156,t.tag))};var Xl="function"===typeof reportError?reportError:function(e){console.error(e)};function Kl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Zl(o);s.call(e)}}Gl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Zl(o);a.call(e)}}var o=Hl(t,r,e,0,null,!1,0,"",$l);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),fl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Zl(u);s.call(e)}}var u=zl(e,0,!1,null,0,!1,0,"",$l);return e._reactRootContainer=u,e[pi]=u.current,Vr(8===e.nodeType?e.parentNode:e),fl((function(){Gl(t,u,n,r)})),u}(n,t,e,i,r);return Zl(o)}Yl.prototype.render=Kl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gl(e,t,null,null)},Yl.prototype.unmount=Kl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){Gl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ut(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,Qe()),0===(6&Cu)&&(Hu=Qe()+500,Vi()))}break;case 13:fl((function(){var t=Ca(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),ql(e,1)}},wt=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)rl(t,e,134217728,tl());ql(e,134217728)}},St=function(e){if(13===e.tag){var t=nl(e),n=Ca(e,t);if(null!==n)rl(n,e,t,tl());ql(e,t)}},Et=function(){return _t},At=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(a(90));q(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=cl,Ce=fl;var tc={usingClientEntryPoint:!1,Events:[_i,bi,xi,Me,Te,cl]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ql(e))throw Error(a(299));var n=!1,r="",i=Xl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Kl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Xl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},4021:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(9037),o=(r=a)&&r.__esModule?r:{default:r};n(2728);var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){this.options=this._generateOptions();var e="thermometer--theme-"+this.options.theme(),t="thermometer--"+this.options.size(),n={height:this.options.height+"px"},r={height:this.options.percent()+"%"},i={height:"calc("+this.options.height+"px - 57px)"},a=this.options.valstr();this._createIntervals();var s=this._createIntervalsUI(this.options.intervals);return o.default.createElement("div",{style:n,className:"thermometer "+t+" "+e},o.default.createElement("div",{className:"thermometer__draw-a"}),o.default.createElement("div",{className:"thermometer__draw-b"}),o.default.createElement("div",{className:"thermometer__meter"},o.default.createElement("ul",{className:"thermometer__statistics"},s),o.default.createElement("div",{style:r,className:"thermometer__mercury"},o.default.createElement("div",{className:"thermometer__percent-current"},a),o.default.createElement("div",{className:"thermometer__mask"},o.default.createElement("div",{className:"thermometer__bg-color",style:i})))))}},{key:"_generateOptions",value:function(){var e=this;return{theme:function(){return"light"===e.props.theme||"dark"===e.props.theme?e.props.theme:"light"},value:this.props.value||0,max:this.props.max||100,steps:this.props.steps,format:this.props.format||"",size:function(){return"small"===e.props.size||"normal"===e.props.size||"large"===e.props.size?e.props.size:"normal"},height:this.props.height||200,valstr:function(){return e.options.value+e.options.format},percent:function(){return e.options.value/e.options.max*100},intervals:[]}}},{key:"_createIntervals",value:function(){if(this.options.steps)for(var e=0;e<=this.options.steps;e++){var t=(this.options.max/this.options.steps*e).toFixed(2),n={percent:t/this.options.max*100,label:t+this.options.format};this.options.intervals.push(n)}}},{key:"_createIntervalsUI",value:function(e){return e.map((function(e,t){return o.default.createElement("li",{key:t,style:{bottom:"calc("+e.percent+"% - 1px)"}},e.label)}))}}]),t}(a.Component);t.default=s,e.exports=t.default},8812:function(e,t,n){"use strict";var r=n(1725),i=n(2530);n(4035);var a=n(9394);function o(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw(t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",t.framesToPop=1,t}var s={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function u(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||s}function l(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||s}function c(){}u.prototype.isReactComponent={},u.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&o("85"),this.updater.enqueueSetState(this,e,t,"setState")},u.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},c.prototype=u.prototype;var f=l.prototype=new c;function d(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||s}f.constructor=l,r(f,u.prototype),f.isPureReactComponent=!0;var h=d.prototype=new c;h.constructor=d,r(h,u.prototype),h.unstable_isAsyncReactComponent=!0,h.render=function(){return this.props.children};var p={Component:u,PureComponent:l,AsyncComponent:d},m={current:null},v=Object.prototype.hasOwnProperty,g="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,y={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n,r,i,a,o){return{$$typeof:g,type:e,key:t,ref:n,props:o,_owner:a}}_.createElement=function(e,t,n){var r,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),void 0===t.__self?null:t.__self,void 0===t.__source?null:t.__source,t)v.call(t,r)&&!y.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return _(e,a,o,0,0,m.current,i)},_.createFactory=function(e){var t=_.createElement.bind(null,e);return t.type=e,t},_.cloneAndReplaceKey=function(e,t){return _(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},_.cloneElement=function(e,t,n){var i=r({},e.props),a=e.key,o=e.ref,s=(e._self,e._source,e._owner);if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=m.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)v.call(t,l)&&!y.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return _(e.type,a,o,0,0,s,i)},_.isValidElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===g};var b="function"===typeof Symbol&&Symbol.iterator,x="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;var w=/\/+/g,S=[];function E(e,t,n,r){if(S.length){var i=S.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>S.length&&S.push(e)}function M(e,t,n,r){var i=typeof e;if("undefined"!==i&&"boolean"!==i||(e=null),null===e||"string"===i||"number"===i||"object"===i&&e.$$typeof===x)return n(r,e,""===t?"."+T(e,0):t),1;var a=0;if(t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){var u=t+T(i=e[s],s);a+=M(i,u,n,r)}else if("function"===typeof(u=b&&e[b]||e["@@iterator"]))for(e=u.call(e),s=0;!(i=e.next()).done;)a+=M(i=i.value,u=t+T(i,s++),n,r);else"object"===i&&o("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return a}function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function k(e,t){e.func.call(e.context,t,e.count++)}function C(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?P(e,r,n,a.thatReturnsArgument):null!=e&&(_.isValidElement(e)&&(e=_.cloneAndReplaceKey(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(w,"$&/")+"/")+n)),r.push(e))}function P(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(w,"$&/")+"/"),t=E(t,a,r,i),null==e||M(e,"",C,t),A(t)}var R={forEach:function(e,t,n){if(null==e)return e;t=E(null,null,t,n),null==e||M(e,"",k,t),A(t)},map:function(e,t,n){if(null==e)return e;var r=[];return P(e,r,null,t,n),r},count:function(e){return null==e?0:M(e,"",a.thatReturnsNull,null)},toArray:function(e){var t=[];return P(e,t,null,a.thatReturnsArgument),t}};e.exports={Children:{map:R.map,forEach:R.forEach,count:R.count,toArray:R.toArray,only:function(e){return _.isValidElement(e)||o("143"),e}},Component:p.Component,PureComponent:p.PureComponent,unstable_AsyncComponent:p.AsyncComponent,createElement:_.createElement,cloneElement:_.cloneElement,isValidElement:_.isValidElement,createFactory:_.createFactory,version:"16.0.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:m,assign:r}}},9037:function(e,t,n){"use strict";e.exports=n(8812)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=_.prototype=new y;b.constructor=_,m(b,g.prototype),b.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+k(u,0):a,x(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(M(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",x(e))for(var l=0;l<e.length;l++){var c=a+k(s=e[l],l);u+=C(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,c=a+k(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},O={transition:null},I={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,d=null,h=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function x(e){if(v=!1,b(e),!m)if(null!==r(l))m=!0,O(w);else{var t=r(c);null!==t&&I(x,t.startTime-e)}}function w(e,n){m=!1,v&&(v=!1,y(M),M=-1),p=!0;var a=h;try{for(b(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!C());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),b(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var f=r(c);null!==f&&I(x,f.startTime-n),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,A=null,M=-1,T=5,k=-1;function C(){return!(t.unstable_now()-k<T)}function P(){if(null!==A){var e=t.unstable_now();k=e;var n=!0;try{n=A(!0,e)}finally{n?S():(E=!1,A=null)}}else E=!1}if("function"===typeof _)S=function(){_(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,N=R.port2;R.port1.onmessage=P,S=function(){N.postMessage(null)}}else S=function(){g(P,0)};function O(e){A=e,E||(E=!0,S())}function I(e,n){M=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(v?(y(M),M=-1):v=!0,I(x,a-o))):(e.sortIndex=s,n(l,e),m||p||(m=!0,O(w))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},23:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function a(e){return void 0!==e&&null!==e?e instanceof Array?e:"number"!==typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function o(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}function s(e){var r="[A-Za-z]",i="[0-9]",a=t(i,"[A-Fa-f]"),o=n(n("%[EFef]"+a+"%"+a+a+"%"+a+a)+"|"+n("%[89A-Fa-f]"+a+"%"+a+a)+"|"+n("%"+a+a)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=t("[\\:\\/\\?\\#\\[\\]\\@]",s),l=e?"[\\uE000-\\uF8FF]":"[]",c=t(r,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),f=n(r+t(r,i,"[\\+\\-\\.]")+"*"),d=n(n(o+"|"+t(c,s,"[\\:]"))+"*"),h=(n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("[1-9]"+i)+"|"+i),n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("0?[1-9]"+i)+"|0?0?"+i)),p=n(h+"\\."+h+"\\."+h+"\\."+h),m=n(a+"{1,4}"),v=n(n(m+"\\:"+m)+"|"+p),g=n(n(m+"\\:")+"{6}"+v),y=n("\\:\\:"+n(m+"\\:")+"{5}"+v),_=n(n(m)+"?\\:\\:"+n(m+"\\:")+"{4}"+v),b=n(n(n(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+n(m+"\\:")+"{3}"+v),x=n(n(n(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+n(m+"\\:")+"{2}"+v),w=n(n(n(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+v),S=n(n(n(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+v),E=n(n(n(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),A=n(n(n(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),M=n([g,y,_,b,x,w,S,E,A].join("|")),T=n(n(c+"|"+o)+"+"),k=(n(M+"\\%25"+T),n(M+n("\\%25|\\%(?!"+a+"{2})")+T)),C=n("[vV]"+a+"+\\."+t(c,s,"[\\:]")+"+"),P=n("\\["+n(k+"|"+M+"|"+C)+"\\]"),R=n(n(o+"|"+t(c,s))+"*"),N=n(P+"|"+p+"(?!"+R+")|"+R),O=n(i+"*"),I=n(n(d+"@")+"?"+N+n("\\:"+O)+"?"),L=n(o+"|"+t(c,s,"[\\:\\@]")),D=n(L+"*"),U=n(L+"+"),F=n(n(o+"|"+t(c,s,"[\\@]"))+"+"),j=n(n("\\/"+D)+"*"),B=n("\\/"+n(U+j)+"?"),z=n(F+j),V=n(U+j),H="(?!"+L+")",G=(n(j+"|"+B+"|"+z+"|"+V+"|"+H),n(n(L+"|"+t("[\\/\\?]",l))+"*")),Z=n(n(L+"|[\\/\\?]")+"*"),W=n(n("\\/\\/"+I+j)+"|"+B+"|"+V+"|"+H),q=n(f+"\\:"+W+n("\\?"+G)+"?"+n("\\#"+Z)+"?"),X=n(n("\\/\\/"+I+j)+"|"+B+"|"+z+"|"+H),K=n(X+n("\\?"+G)+"?"+n("\\#"+Z)+"?");return n(q+"|"+K),n(f+"\\:"+W+n("\\?"+G)+"?"),n(n("\\/\\/("+n("("+d+")@")+"?("+N+")"+n("\\:("+O+")")+"?)")+"?("+j+"|"+B+"|"+V+"|"+H+")"),n("\\?("+G+")"),n("\\#("+Z+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+N+")"+n("\\:("+O+")")+"?)")+"?("+j+"|"+B+"|"+z+"|"+H+")"),n("\\?("+G+")"),n("\\#("+Z+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+N+")"+n("\\:("+O+")")+"?)")+"?("+j+"|"+B+"|"+V+"|"+H+")"),n("\\?("+G+")"),n("\\#("+Z+")"),n("("+d+")@"),n("\\:("+O+")"),{NOT_SCHEME:new RegExp(t("[^]",r,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",c,s),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",c,s),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",c,s),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",c,s),"g"),NOT_QUERY:new RegExp(t("[^\\%]",c,s,"[\\:\\@\\/\\?]",l),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",c,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",c,s),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",c,u),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+M+")"+n(n("\\%25|\\%(?!"+a+"{2})")+"("+T+")")+"?\\]?$")}}var u=s(!1),l=s(!0),c=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},d=2147483647,h=36,p=1,m=26,v=38,g=700,y=72,_=128,b="-",x=/^xn--/,w=/[^\0-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=h-p,M=Math.floor,T=String.fromCharCode;function k(e){throw new RangeError(E[e])}function C(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}function P(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+C((e=e.replace(S,".")).split("."),t).join(".")}function R(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}var N=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:h},O=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},I=function(e,t,n){var r=0;for(e=n?M(e/g):e>>1,e+=M(e/t);e>A*m>>1;r+=h)e=M(e/A);return M(r+(A+1)*e/(e+v))},L=function(e){var t=[],n=e.length,r=0,i=_,a=y,o=e.lastIndexOf(b);o<0&&(o=0);for(var s=0;s<o;++s)e.charCodeAt(s)>=128&&k("not-basic"),t.push(e.charCodeAt(s));for(var u=o>0?o+1:0;u<n;){for(var l=r,c=1,f=h;;f+=h){u>=n&&k("invalid-input");var v=N(e.charCodeAt(u++));(v>=h||v>M((d-r)/c))&&k("overflow"),r+=v*c;var g=f<=a?p:f>=a+m?m:f-a;if(v<g)break;var x=h-g;c>M(d/x)&&k("overflow"),c*=x}var w=t.length+1;a=I(r-l,w,0==l),M(r/w)>d-i&&k("overflow"),i+=M(r/w),r%=w,t.splice(r++,0,i)}return String.fromCodePoint.apply(String,t)},D=function(e){var t=[],n=(e=R(e)).length,r=_,i=0,a=y,o=!0,s=!1,u=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var f=l.value;f<128&&t.push(T(f))}}catch(W){s=!0,u=W}finally{try{!o&&c.return&&c.return()}finally{if(s)throw u}}var v=t.length,g=v;for(v&&t.push(b);g<n;){var x=d,w=!0,S=!1,E=void 0;try{for(var A,C=e[Symbol.iterator]();!(w=(A=C.next()).done);w=!0){var P=A.value;P>=r&&P<x&&(x=P)}}catch(W){S=!0,E=W}finally{try{!w&&C.return&&C.return()}finally{if(S)throw E}}var N=g+1;x-r>M((d-i)/N)&&k("overflow"),i+=(x-r)*N,r=x;var L=!0,D=!1,U=void 0;try{for(var F,j=e[Symbol.iterator]();!(L=(F=j.next()).done);L=!0){var B=F.value;if(B<r&&++i>d&&k("overflow"),B==r){for(var z=i,V=h;;V+=h){var H=V<=a?p:V>=a+m?m:V-a;if(z<H)break;var G=z-H,Z=h-H;t.push(T(O(H+G%Z,0))),z=M(G/Z)}t.push(T(O(z,0))),a=I(i,N,g==v),i=0,++g}}}catch(W){D=!0,U=W}finally{try{!L&&j.return&&j.return()}finally{if(D)throw U}}++i,++r}return t.join("")},U=function(e){return P(e,(function(e){return x.test(e)?L(e.slice(4).toLowerCase()):e}))},F=function(e){return P(e,(function(e){return w.test(e)?"xn--"+D(e):e}))},j={version:"2.1.0",ucs2:{decode:R,encode:function(e){return String.fromCodePoint.apply(String,f(e))}},decode:L,encode:D,toASCII:F,toUnicode:U},B={};function z(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function V(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var a=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&a)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var o=parseInt(e.substr(n+4,2),16),s=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function H(e,t){function n(e){var n=V(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,z).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,z).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,z).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,z).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,z).replace(t.PCT_ENCODED,i)),e}function G(e){return e.replace(/^0*(.*)/,"$1")||"0"}function Z(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=c(n,2)[1];return r?r.split(".").map(G).join("."):e}function W(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=c(n,3),i=r[1],a=r[2];if(i){for(var o=i.toLowerCase().split("::").reverse(),s=c(o,2),u=s[0],l=s[1],f=l?l.split(":").map(G):[],d=u.split(":").map(G),h=t.IPV4ADDRESS.test(d[d.length-1]),p=h?7:8,m=d.length-p,v=Array(p),g=0;g<p;++g)v[g]=f[g]||d[m+g]||"";h&&(v[p-1]=Z(v[p-1],t));var y=v.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],_=void 0;if(y&&y.length>1){var b=v.slice(0,y.index),x=v.slice(y.index+y.length);_=b.join(":")+"::"+x.join(":")}else _=v.join(":");return a&&(_+="%"+a),_}return e}var q=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,X=void 0==="".match(/(){0}/)[1];function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?l:u;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(q);if(i){X?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=W(Z(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var a=B[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||a&&a.unicodeSupport)H(n,r);else{if(n.host&&(t.domainHost||a&&a.domainHost))try{n.host=j.toASCII(n.host.replace(r.PCT_ENCODED,V).toLowerCase())}catch(o){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+o}H(n,u)}a&&a.parse&&a.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function Y(e,t){var n=!1!==t.iri?l:u,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(W(Z(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!==typeof e.port&&"string"!==typeof e.port||(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var Q=/^\.\.?\//,J=/^\/\.(\/|$)/,$=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/;function te(e){for(var t=[];e.length;)if(e.match(Q))e=e.replace(Q,"");else if(e.match(J))e=e.replace(J,"/");else if(e.match($))e=e.replace($,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(ee);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?l:u,r=[],i=B[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?j.toUnicode(e.host):j.toASCII(e.host.replace(n.PCT_ENCODED,V).toLowerCase())}catch(s){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+s}H(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var a=Y(e,t);if(void 0!==a&&("suffix"!==t.reference&&r.push("//"),r.push(a),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var o=e.path;t.absolutePath||i&&i.absolutePath||(o=te(o)),void 0===a&&(o=o.replace(/^\/\//,"/%2F")),r.push(o)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(e=K(ne(e,n),n),t=K(ne(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=te(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=te(t.path||""),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=te(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?r.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:r.path=t.path:r.path="/"+t.path,r.path=te(r.path)),r.query=t.query):(r.path=e.path,void 0!==t.query?r.query=t.query:r.query=e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function ie(e,t,n){var r=o({scheme:"null"},n);return ne(re(K(e,r),K(t,r),r,!0),r)}function ae(e,t){return"string"===typeof e?e=ne(K(e,t),t):"object"===r(e)&&(e=K(ne(e,t),t)),e}function oe(e,t,n){return"string"===typeof e?e=ne(K(e,n),n):"object"===r(e)&&(e=ne(e,n)),"string"===typeof t?t=ne(K(t,n),n):"object"===r(t)&&(t=ne(t,n)),e===t}function se(e,t){return e&&e.toString().replace(t&&t.iri?l.ESCAPE:u.ESCAPE,z)}function ue(e,t){return e&&e.toString().replace(t&&t.iri?l.PCT_ENCODED:u.PCT_ENCODED,V)}var le={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},ce={scheme:"https",domainHost:le.domainHost,parse:le.parse,serialize:le.serialize};function fe(e){return"boolean"===typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var de={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=fe(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(fe(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"===typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),r=c(n,2),i=r[0],a=r[1];e.path=i&&"/"!==i?i:void 0,e.query=a,e.resourceName=void 0}return e.fragment=void 0,e}},he={scheme:"wss",domainHost:de.domainHost,parse:de.parse,serialize:de.serialize},pe={},me="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ve="[0-9A-Fa-f]",ge=n(n("%[EFef]"+ve+"%"+ve+ve+"%"+ve+ve)+"|"+n("%[89A-Fa-f]"+ve+"%"+ve+ve)+"|"+n("%"+ve+ve)),ye="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",_e=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),be="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",xe=new RegExp(me,"g"),we=new RegExp(ge,"g"),Se=new RegExp(t("[^]",ye,"[\\.]",'[\\"]',_e),"g"),Ee=new RegExp(t("[^]",me,be),"g"),Ae=Ee;function Me(e){var t=V(e);return t.match(xe)?t:e}var Te={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,a={},o=n.query.split("&"),s=0,u=o.length;s<u;++s){var l=o[s].split("=");switch(l[0]){case"to":for(var c=l[1].split(","),f=0,d=c.length;f<d;++f)r.push(c[f]);break;case"subject":n.subject=ue(l[1],t);break;case"body":n.body=ue(l[1],t);break;default:i=!0,a[ue(l[0],t)]=ue(l[1],t)}}i&&(n.headers=a)}n.query=void 0;for(var h=0,p=r.length;h<p;++h){var m=r[h].split("@");if(m[0]=ue(m[0]),t.unicodeSupport)m[1]=ue(m[1],t).toLowerCase();else try{m[1]=j.toASCII(ue(m[1],t).toLowerCase())}catch(v){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+v}r[h]=m.join("@")}return n},serialize:function(e,t){var n=e,r=a(e.to);if(r){for(var o=0,s=r.length;o<s;++o){var u=String(r[o]),l=u.lastIndexOf("@"),c=u.slice(0,l).replace(we,Me).replace(we,i).replace(Se,z),f=u.slice(l+1);try{f=t.iri?j.toUnicode(f):j.toASCII(ue(f,t).toLowerCase())}catch(m){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+m}r[o]=c+"@"+f}n.path=r.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var h=[];for(var p in d)d[p]!==pe[p]&&h.push(p.replace(we,Me).replace(we,i).replace(Ee,z)+"="+d[p].replace(we,Me).replace(we,i).replace(Ae,z));return h.length&&(n.query=h.join("&")),n}},ke=/^([^\:]+)\:(.*)/,Ce={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(ke),r=e;if(n){var i=t.scheme||r.scheme||"urn",a=n[1].toLowerCase(),o=n[2],s=i+":"+(t.nid||a),u=B[s];r.nid=a,r.nss=o,r.path=void 0,u&&(r=u.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),a=B[i];a&&(e=a.serialize(e,t));var o=e,s=e.nss;return o.path=(r||t.nid)+":"+s,o}},Pe=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Re={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(Pe)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};B[le.scheme]=le,B[ce.scheme]=ce,B[de.scheme]=de,B[he.scheme]=he,B[Te.scheme]=Te,B[Ce.scheme]=Ce,B[Re.scheme]=Re,e.SCHEMES=B,e.pctEncChar=z,e.pctDecChars=V,e.parse=K,e.removeDotSegments=te,e.serialize=ne,e.resolveComponents=re,e.resolve=ie,e.normalize=ae,e.equal=oe,e.escapeComponent=se,e.unescapeComponent=ue,Object.defineProperty(e,"__esModule",{value:!0})}(t)},5081:function(e){"use strict";e.exports=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},3642:function(e){"use strict";e.exports=function(e){return"function"===typeof e}},6934:function(e,t,n){"use strict";var r=n(5081),i=n(451);e.exports=function(e){var t;if(!r(e))return!1;if(!(t=e.length))return!1;for(var n=0;n<t;n++)if(!i(e[n]))return!1;return!0}},451:function(e,t,n){"use strict";var r=n(2430);e.exports=function(e){return r(e)&&e%1===0}},2430:function(e){"use strict";e.exports=function(e){return("number"===typeof e||"[object Number]"===Object.prototype.toString.call(e))&&e.valueOf()===e.valueOf()}},2728:function(e,t,n){"use strict";n.r(t),t.default={}},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,u,"next",e)}function u(e){t(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,n){var r=n(8416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},215:function(e,t,n){var r=n(7071);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(P){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),s=new k(r||[]);return o(a,"_invoke",{value:E(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}t.wrap=d;var p={};function m(){}function v(){}function g(){}var y={};f(y,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(C([])));b&&b!==n&&a.call(b,u)&&(y=b);var x=g.prototype=m.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,s,u){var l=h(e[i],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function E(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=A(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function A(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,A(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function C(e){if(e||""===e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}throw new TypeError(r(e)+" is not iterable")}return v.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=f(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,f(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},w(S.prototype),f(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(d(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(x),f(x,c,"Generator"),f(x,u,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},9400:function(e){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),i=n(6015),a=n(6035),o=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},7277:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1120),i=n(8814),a=n(1002),o=n(7326);function s(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var s=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(C){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),s=new T(r||[]);return a(o,"_invoke",{value:S(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=f;var h={};function p(){}function m(){}function v(){}var g={};c(g,s,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(k([])));_&&_!==t&&n.call(_,s)&&(g=_);var b=v.prototype=p.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(a,o,s,u){var l=d(e[a],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,u)}))}u(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function k(e){if(e||""===e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}throw new TypeError((0,r.Z)(e)+" is not iterable")}return m.prototype=v,a(b,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:m,configurable:!0}),m.displayName=c(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(w.prototype),c(w.prototype,u,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(b),c(b,l,"Generator"),c(b,s,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},2621:function(e){"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},4220:function(e){"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},7099:function(e){"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},74:function(e){"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/Motion/",function(){"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:function(){return ns},hasStandardBrowserEnv:function(){return rs},hasStandardBrowserWebWorkerEnv:function(){return is}});var t=n(2791),r=n(1250),i=n(9439),a=n(4165);function o(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}var u=n(4942),l=n(1413),c=n(907);function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var d=n(181);function h(e){return function(e){if(Array.isArray(e))return(0,c.Z)(e)}(e)||f(e)||(0,d.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=n(5671),m=n(3144),v=n(136),g=n(7277),y=n(184);function _(e){return!("undefined"!==typeof File&&e instanceof File)&&(!("undefined"!==typeof Date&&e instanceof Date)&&("object"===typeof e&&null!==e&&!Array.isArray(e)))}function b(e){if(""!==e){if(null===e)return null;if(/\.$/.test(e))return e;if(/\.0$/.test(e))return e;if(/\.\d*0$/.test(e))return e;var t=Number(e);return"number"===typeof t&&!Number.isNaN(t)?t:e}}var x="__additional_property",w="additionalProperties",S="allOf",E="anyOf",A="const",M="default",T="dependencies",k="enum",C="__errors",P="$id",R="if",N="items",O="$name",I="oneOf",L="properties",D="required",U="submitButtonOptions",F="$ref",j="__rjsf_additionalProperties",B="__rjsf_rootSchema",z="ui:widget",V="ui:options";function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).filter((function(e){return 0===e.indexOf("ui:")})).reduce((function(t,n){var r=e[n];return n===z&&_(r)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),t):n===V&&_(r)?(0,l.Z)((0,l.Z)({},t),r):(0,l.Z)((0,l.Z)({},t),{},(0,u.Z)({},n.substring(3),r))}),(0,l.Z)({},t))}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!e.additionalProperties)return!1;var r=H(t).expandable,i=void 0===r||r;return!1===i?i:void 0===e.maxProperties||!n||Object.keys(n).length<e.maxProperties}var Z=n(3977),W=n.n(Z);function q(e){var t,n=(t={},(0,u.Z)(t,C,[]),(0,u.Z)(t,"addError",(function(e){this[C].push(e)})),t);if(Array.isArray(e))return e.reduce((function(e,t,n){return(0,l.Z)((0,l.Z)({},e),{},(0,u.Z)({},n,q(t)))}),n);if(W()(e)){var r=e;return Object.keys(r).reduce((function(e,t){return(0,l.Z)((0,l.Z)({},e),{},(0,u.Z)({},t,q(r[t])))}),n)}return n}var X=n(290),K=n.n(X);function Y(e,t){return K()(e,t,(function(e,t){if("function"===typeof e&&"function"===typeof t)return!0}))}function Q(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var J=n(6181),$=n.n(J),ee=n(6364),te=n.n(ee),ne=n(7712),re=n(4242),ie=n.n(re);function ae(e,t){var n=t[e];return[ie()(t,[e]),n]}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e||"";if(!n.startsWith("#"))throw new Error("Could not find a definition for ".concat(e,"."));n=decodeURIComponent(n.substring(1));var r=ne.get(t,n);if(void 0===r)throw new Error("Could not find a definition for ".concat(e,"."));if(r[F]){var a=ae(F,r),o=(0,i.Z)(a,2),s=o[0],u=oe(o[1],t);return Object.keys(s).length>0?(0,l.Z)((0,l.Z)({},s),u):u}return r}var se=n(7805),ue=n.n(se),le=n(298),ce=n.n(le),fe=n(8092),de=n.n(fe),he=n(6769),pe=n.n(he),me=n(5080),ve=n.n(me),ge=n(778),ye=n.n(ge);function _e(e){if(null==e)throw new TypeError("Cannot destructure "+e)}function be(e,t,n){var r;if(e&&n){var i=$()(e,n);if(void 0===i)return;for(var a=0;a<t.length;a++){var o=t[a],s=$()(o,[L,n],{});if("object"!==s.type&&"array"!==s.type){if(s.const===i)return a;if(null===(r=s.enum)||void 0===r?void 0:r.includes(i))return a}}}}function xe(e,t,n,r,i){if(void 0===t)return 0;var a=be(t,n,i);if(ce()(a))return a;for(var o=0;o<n.length;o++){var s=n[o];if(i&&ue()(s,[L,i])){var u=$()(t,i),l=$()(s,[L,i],{});if(e.isValid(l,u,r))return o}else if(s[L]){var c={anyOf:Object.keys(s[L]).map((function(e){return{required:[e]}}))},f=void 0;if(s.anyOf){var d=Object.assign({},(_e(s),s));d.allOf?d.allOf=d.allOf.slice():d.allOf=[],d.allOf.push(c),f=d}else f=Object.assign({},s,c);if(delete f.required,e.isValid(f,t,r))return o}else if(e.isValid(s,t,r))return o}return 0}function we(e,t,n,r,i){return xe(e,t,n,r,i)}var Se=n(8111),Ee=n.n(Se),Ae=n(4485),Me=n.n(Ae),Te=n(5653),ke=n.n(Te),Ce=n(9286),Pe=n.n(Ce),Re=n(3613),Ne=n.n(Re),Oe=n(2064),Ie=n.n(Oe),Le=n(2699),De=n.n(Le);function Ue(e){var t,n=$()(e,"discriminator.propertyName",void 0);return pe()(n)?t=n:void 0!==n&&console.warn('Expecting discriminator to be a string, got "'.concat(typeof n,'" instead')),t}function Fe(e){return Array.isArray(e)?"array":"string"===typeof e?"string":null==e?"null":"boolean"===typeof e?"boolean":isNaN(e)?"object"===typeof e?"object":"string":"number"}var je=n(6310),Be=n.n(je);function ze(e){var t=e.type;return!t&&e.const?Fe(e.const):!t&&e.enum?"string":t||!e.properties&&!e.additionalProperties?(Array.isArray(t)&&(t=2===t.length&&t.includes("null")?t.find((function(e){return"null"!==e})):t[0]),t):"object"}function Ve(e,t){var n=Object.assign({},e);return Object.keys(t).reduce((function(n,r){var i=e?e[r]:{},a=t[r];return e&&r in e&&_(a)?n[r]=Ve(i,a):e&&t&&("object"===ze(e)||"object"===ze(t))&&r===D&&Array.isArray(i)&&Array.isArray(a)?n[r]=Be()(i,a):n[r]=a,n}),n)}var He=["if","then","else"],Ge=["$ref"],Ze=["allOf"],We=["allOf"],qe=["oneOf","anyOf"],Xe=["dependencies"],Ke=["oneOf"];function Ye(e,t){return et(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},arguments.length>3?arguments[3]:void 0)[0]}function Qe(e){var t=e.reduce((function(e,t){return t.length>1?t.flatMap((function(t){return ye()(e.length,(function(n){return h(e[n]).concat(t)}))})):(e.forEach((function(e){return e.push(t[0])})),e)}),[[]]);return t}function Je(e,t,n,r,i,a){var o=$e(t,n,i);return o!==t?et(e,o,n,a,r,i):[t]}function $e(e,t,n){if(!_(e))return e;var r=e;if(F in r){var i=r,a=i.$ref,o=Q(i,Ge);if(n.includes(a))return r;n.push(a);var s=oe(a,t);r=(0,l.Z)((0,l.Z)({},s),o)}if(L in r){var c=[],f=ke()(r[L],(function(e,r,i){var a=h(n);e[i]=$e(r,t,a),c.push(a)}),{});Pe()(n,Ie()(Ne()(c))),r=(0,l.Z)((0,l.Z)({},r),{},(0,u.Z)({},L,f))}return N in r&&!Array.isArray(r.items)&&"boolean"!==typeof r.items&&(r=(0,l.Z)((0,l.Z)({},r),{},{items:$e(r.items,t,n)})),Ee()(e,r)?e:r}function et(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(!_(t))return[{}];var o=function(e,t,n,r,i,a){var o=Je(e,t,n,r,i,a);return o.length>1||o[0]!==t?o:T in t?tt(e,t,n,r,i,a).flatMap((function(t){return et(e,t,n,a,r,i)})):S in t&&Array.isArray(t.allOf)?Qe(t.allOf.map((function(t){return et(e,t,n,a,r,i)}))).map((function(e){return(0,l.Z)((0,l.Z)({},t),{},{allOf:e})})):[t]}(e,t,n,i,a,r);return o.flatMap((function(t){var o=t;if(R in o)return function(e,t,n,r,i,a){var o=t.if,s=t.then,u=t.else,l=Q(t,He),c=e.isValid(o,a||{},n),f=[l],d=[];if(r)s&&"boolean"!==typeof s&&(d=d.concat(et(e,s,n,a,r,i))),u&&"boolean"!==typeof u&&(d=d.concat(et(e,u,n,a,r,i)));else{var h=c?s:u;h&&"boolean"!==typeof h&&(d=d.concat(et(e,h,n,a,r,i)))}return d.length&&(f=d.map((function(e){return Ve(l,e)}))),f.flatMap((function(t){return et(e,t,n,a,r,i)}))}(e,o,n,i,a,r);if(S in o){if(i){var s=o,u=s.allOf,c=Q(s,Ze);return[].concat(h(u),[c])}try{o=De()(o,{deep:!1})}catch(Pn){console.warn("could not merge subschemas in allOf:\n",Pn);var f=o;f.allOf;return Q(f,We)}}return w in o&&!1!==o.additionalProperties?function(e,t,n,r){var i=(0,l.Z)((0,l.Z)({},t),{},{properties:(0,l.Z)({},t.properties)}),a=r&&_(r)?r:{};return Object.keys(a).forEach((function(t){if(!(t in i.properties)){var r={};r="boolean"!==typeof i.additionalProperties?F in i.additionalProperties?Ye(e,{$ref:$()(i.additionalProperties,[F])},n,a):"type"in i.additionalProperties?(0,l.Z)({},i.additionalProperties):E in i.additionalProperties||I in i.additionalProperties?(0,l.Z)({type:"object"},i.additionalProperties):{type:Fe($()(a,[t]))}:{type:Fe($()(a,[t]))},i.properties[t]=r,Me()(i.properties,[t,x],!0)}})),i}(e,o,n,r):o}))}function tt(e,t,n,r,i,a){var o=t.dependencies,s=Q(t,Xe),u=function(e,t,n,r,i){var a,o=t,s=o.oneOf,u=o.anyOf,l=Q(o,qe);if(Array.isArray(s)?a=s:Array.isArray(u)&&(a=u),a){var c=void 0===i&&r?{}:i,f=Ue(t);a=a.map((function(e){return $e(e,n,[])}));var d=we(e,c,a,n,f);if(r)return a.map((function(e){return Ve(l,e)}));t=Ve(l,a[d])}return[t]}(e,s,n,r,a);return u.flatMap((function(t){return nt(e,o,t,n,r,i,a)}))}function nt(e,t,n,r,a,o,s){var c,f=[n],d=function(){if(!a&&void 0===$()(s,[p]))return 0;if(n.properties&&!(p in n.properties))return 0;var c=ae(p,t),d=(0,i.Z)(c,2),m=d[0],v=d[1];return Array.isArray(v)?f[0]=function(e,t){if(!t)return e;var n=Array.isArray(e.required)?Array.from(new Set([].concat(h(e.required),h(t)))):t;return(0,l.Z)((0,l.Z)({},e),{},{required:n})}(n,v):_(v)&&(f=function(e,t,n,r,a,o,s,c){var f=et(e,a,n,c,o,s);return f.flatMap((function(a){var f=a.oneOf,d=Q(a,Ke);return t=Ve(t,d),void 0===f?t:Qe(f.map((function(t){return"boolean"!==typeof t&&F in t?Je(e,t,n,o,s,c):[t]}))).flatMap((function(a){return function(e,t,n,r,a,o,s,c){var f=a.filter((function(t){if("boolean"===typeof t||!t||!t.properties)return!1;var i=t.properties[r];if(i){var a={type:"object",properties:(0,u.Z)({},r,i)};return e.isValid(a,c,n)||o}return!1}));if(!o&&1!==f.length)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[t];return f.flatMap((function(a){var u=a,f=ae(r,u.properties),d=(0,i.Z)(f,1)[0],h=(0,l.Z)((0,l.Z)({},u),{},{properties:d});return et(e,h,n,c,o,s).map((function(e){return Ve(t,e)}))}))}(e,t,n,r,a,o,s,c)}))}))}(e,n,r,p,v,a,o,s)),{v:f.flatMap((function(t){return nt(e,m,t,r,a,o,s)}))}};for(var p in t)if(0!==(c=d())&&c)return c.v;return f}var rt={type:"object",$id:"_$junk_option_schema_id$_",properties:{__not_really_there__:{type:"number"}}};function it(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=0;return n&&(de()(n.properties)?i+=ve()(n.properties,(function(n,i,a){var o=$()(r,a);if("boolean"===typeof i)return n;if(ue()(i,F)){var s=Ye(e,i,t,o);return n+it(e,t,s,o||{})}if((ue()(i,I)||ue()(i,E))&&o){var u=ue()(i,I)?I:E,l=Ue(i);return n+at(e,t,o,$()(i,u),-1,l)}if("object"===i.type)return n+it(e,t,i,o||{});if(i.type===Fe(o)){var c=n+1;return i.default?c+=o===i.default?1:-1:i.const&&(c+=o===i.const?1:-1),c}return n}),0):pe()(n.type)&&n.type===Fe(r)&&(i+=1)),i}function at(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=arguments.length>5?arguments[5]:void 0,o=r.map((function(e){return $e(e,t,[])})),s=be(n,r,a);if(ce()(s))return s;var u=o.reduce((function(r,i,o){return 1===we(e,n,[rt,i],t,a)&&r.push(o),r}),[]);if(1===u.length)return u[0];u.length||ye()(o.length,(function(e){return u.push(e)}));var l=new Set,c=u.reduce((function(r,i){var a=r.bestScore,s=o[i],u=it(e,t,s,n);return l.add(u),u>a?{bestIndex:i,bestScore:u}:r}),{bestIndex:i,bestScore:0}).bestIndex;return 1===l.size&&i>=0?i:c}function ot(e){return Array.isArray(e.items)&&e.items.length>0&&e.items.every((function(e){return _(e)}))}function st(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(t)){var r=Array.isArray(e)?e:[],i=t.map((function(e,t){return r[t]?st(r[t],e,n):e}));return n&&i.length<r.length&&i.push.apply(i,h(r.slice(i.length))),i}if(_(t)){var a=Object.assign({},e);return Object.keys(t).reduce((function(r,i){return r[i]=st(e?$()(e,i):{},$()(t,i),n),r}),a)}return t}function ut(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object.keys(t).reduce((function(r,i){var a=e?e[i]:{},o=t[i];if(e&&i in e&&_(o))r[i]=ut(a,o,n);else if(n&&Array.isArray(a)&&Array.isArray(o)){var s=o;"preventDuplicates"===n&&(s=o.reduce((function(e,t){return a.includes(t)||e.push(t),e}),[])),r[i]=a.concat(s)}else r[i]=o;return r}),Object.assign({},e))}function lt(e,t){var n=Ye(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},void 0),r=n.oneOf||n.anyOf;return!!Array.isArray(n.enum)||!!Array.isArray(r)&&r.every((function(e){return"boolean"!==typeof e&&function(e){return Array.isArray(e.enum)&&1===e.enum.length||A in e}(e)}))}function ct(e,t,n){return!(!t.uniqueItems||!t.items||"boolean"===typeof t.items)&&lt(e,t.items,n)}var ft,dt=["oneOf"],ht=["anyOf"];function pt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft.Ignore,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(n>=0){if(Array.isArray(e.items)&&n<e.items.length){var r=e.items[n];if("boolean"!==typeof r)return r}}else if(e.items&&!Array.isArray(e.items)&&"boolean"!==typeof e.items)return e.items;return t!==ft.Ignore&&_(e.additionalItems)?e.additionalItems:{}}function mt(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=(arguments.length>6&&void 0!==arguments[6]?arguments[6]:{}).emptyObjectFields,s=void 0===o?"populateAllDefaults":o;if(r)e[t]=n;else if("skipDefaults"!==s)if(_(n)){var u=void 0===i?a.includes(t):i;te()(n)&&!a.includes(t)||!u&&"populateRequiredDefaults"===s||(e[t]=n)}else void 0===n||"populateAllDefaults"!==s&&!a.includes(t)||(e[t]=n)}function vt(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.parentDefaults,o=i.rawFormData,s=i.rootSchema,u=void 0===s?{}:s,l=i.includeUndefinedValues,c=void 0!==l&&l,f=i._recurseList,d=void 0===f?[]:f,h=i.experimental_defaultFormStateBehavior,p=void 0===h?void 0:h,m=i.required,v=_(o)?o:{},g=_(t)?t:{},y=a,b=null,x=d;if(_(y)&&_(g.default))y=ut(y,g.default);else if(M in g)y=g.default;else if(F in g){var w=g[F];d.includes(w)||(x=d.concat(w),b=oe(w,u))}else if(T in g){b=tt(e,g,u,!1,[],v)[0]}else if(ot(g))y=g.items.map((function(t,n){return vt(e,t,{rootSchema:u,includeUndefinedValues:c,_recurseList:d,experimental_defaultFormStateBehavior:p,parentDefaults:Array.isArray(a)?a[n]:void 0,rawFormData:v,required:m})}));else if(I in g){var A=g.oneOf,k=Q(g,dt);if(0===A.length)return;var C=Ue(g);b=Ve(k,b=A[at(e,u,te()(v)?void 0:v,A,0,C)])}else if(E in g){var P=g.anyOf,R=Q(g,ht);if(0===P.length)return;var N=Ue(g);b=Ve(R,b=P[at(e,u,te()(v)?void 0:v,P,0,N)])}if(b)return vt(e,b,{rootSchema:u,includeUndefinedValues:c,_recurseList:x,experimental_defaultFormStateBehavior:p,parentDefaults:y,rawFormData:v,required:m});switch(void 0===y&&(y=g.default),ze(g)){case"object":var O="populateDefaults"===(null===p||void 0===p?void 0:p.allOf)&&S in g?Ye(e,g,u,v):g,D=Object.keys(O.properties||{}).reduce((function(t,n){var r;return mt(t,n,vt(e,$()(O,[L,n]),{rootSchema:u,_recurseList:d,experimental_defaultFormStateBehavior:p,includeUndefinedValues:!0===c,parentDefaults:$()(y,[n]),rawFormData:$()(v,[n]),required:null===(r=O.required)||void 0===r?void 0:r.includes(n)}),c,m,O.required,p),t}),{});if(O.additionalProperties){var U=_(O.additionalProperties)?O.additionalProperties:{},j=new Set;_(y)&&Object.keys(y).filter((function(e){return!O.properties||!O.properties[e]})).forEach((function(e){return j.add(e)}));var B=[];Object.keys(v).filter((function(e){return!O.properties||!O.properties[e]})).forEach((function(e){j.add(e),B.push(e)})),j.forEach((function(t){var n,r=vt(e,U,{rootSchema:u,_recurseList:d,experimental_defaultFormStateBehavior:p,includeUndefinedValues:!0===c,parentDefaults:$()(y,[t]),rawFormData:$()(v,[t]),required:null===(n=O.required)||void 0===n?void 0:n.includes(t)});mt(D,t,r,c,m,B)}))}return D;case"array":var z="never"===(null===(n=null===p||void 0===p?void 0:p.arrayMinItems)||void 0===n?void 0:n.populate),V="requiredOnly"===(null===(r=null===p||void 0===p?void 0:p.arrayMinItems)||void 0===r?void 0:r.populate);if(Array.isArray(y)&&(y=y.map((function(t,n){var r=pt(g,ft.Fallback,n);return vt(e,r,{rootSchema:u,_recurseList:d,experimental_defaultFormStateBehavior:p,parentDefaults:t,required:m})}))),Array.isArray(o)){var H=pt(g);y=z?o:o.map((function(t,n){return vt(e,H,{rootSchema:u,_recurseList:d,experimental_defaultFormStateBehavior:p,rawFormData:t,parentDefaults:$()(y,[n]),required:m})}))}if(z)return null!==y&&void 0!==y?y:[];if(V&&!m)return y||void 0;var G=Array.isArray(y)?y.length:0;if(!g.minItems||ct(e,g,u)||g.minItems<=G)return y||[];var Z=y||[],W=pt(g,ft.Invert),q=W.default,X=new Array(g.minItems-G).fill(vt(e,W,{parentDefaults:q,rootSchema:u,_recurseList:d,experimental_defaultFormStateBehavior:p,required:m}));return Z.concat(X)}return y}function gt(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0;if(!_(t))throw new Error("Invalid schema: "+t);var o=vt(e,Ye(e,t,r,n),{rootSchema:r,includeUndefinedValues:i,experimental_defaultFormStateBehavior:a,rawFormData:n});if(void 0===n||null===n||"number"===typeof n&&isNaN(n))return o;var s=((null===a||void 0===a?void 0:a.arrayMinItems)||{}).mergeExtraDefaults;return _(n)||Array.isArray(n)?st(o,n,s):n}function yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"widget"in H(e)&&"hidden"!==H(e).widget}function _t(e,t){var n=arguments.length>3?arguments[3]:void 0;if("files"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})[z])return!0;if(t.items){var r=Ye(e,t.items,n);return"string"===r.type&&"data-url"===r.format}return!1}!function(e){e[e.Ignore=0]="Ignore",e[e.Invert=1]="Invert",e[e.Fallback=2]="Fallback"}(ft||(ft={}));var bt=Symbol("no Value");function xt(e,t,n,r){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(ue()(n,L)){var o={};if(ue()(r,L)){var s=$()(r,L,{});Object.keys(s).forEach((function(e){ue()(a,e)&&(o[e]=void 0)}))}var u=Object.keys($()(n,L,{})),c={};u.forEach((function(i){var s=$()(a,i),u=$()(r,[L,i],{}),l=$()(n,[L,i],{});ue()(u,F)&&(u=Ye(e,u,t,s)),ue()(l,F)&&(l=Ye(e,l,t,s));var f=$()(u,"type"),d=$()(l,"type");if(!f||f===d)if(ue()(o,i)&&delete o[i],"object"===d||"array"===d&&Array.isArray(s)){var h=xt(e,t,l,u,s);void 0===h&&"array"!==d||(c[i]=h)}else{var p=$()(l,"default",bt),m=$()(u,"default",bt);p!==bt&&p!==s&&(m===s?o[i]=p:!0===$()(l,"readOnly")&&(o[i]=void 0));var v=$()(l,"const",bt),g=$()(u,"const",bt);v!==bt&&v!==s&&(o[i]=g===s?v:void 0)}})),i=(0,l.Z)((0,l.Z)((0,l.Z)({},"string"==typeof a||Array.isArray(a)?void 0:a),o),c)}else if("array"===$()(r,"type")&&"array"===$()(n,"type")&&Array.isArray(a)){var f=$()(r,"items"),d=$()(n,"items");if("object"!==typeof f||"object"!==typeof d||Array.isArray(f)||Array.isArray(d))"boolean"===typeof f&&"boolean"===typeof d&&f===d&&(i=a);else{ue()(f,F)&&(f=Ye(e,f,t,a)),ue()(d,F)&&(d=Ye(e,d,t,a));var h=$()(f,"type"),p=$()(d,"type");if(!h||h===p){var m=$()(n,"maxItems",-1);i="object"===p?a.reduce((function(n,r){var i=xt(e,t,d,f,r);return void 0!==i&&(m<0||n.length<m)&&n.push(i),n}),[]):m>0&&a.length>m?a.slice(0,m):a}}}return i}function wt(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];if(F in t||T in t||S in t){var u=Ye(e,t,a,o);if(-1===s.findIndex((function(e){return Ee()(e,u)})))return wt(e,u,n,r,i,a,o,s.concat(u))}if(N in t&&!$()(t,[N,F]))return wt(e,$()(t,N),n,r,i,a,o,s);var l={$id:i||n};if("object"===ze(t)&&L in t)for(var c in t.properties){var f=$()(t,[L,c]),d=l[P]+r+c;l[c]=wt(e,_(f)?f:{},n,r,d,a,$()(o,[c]),s)}return l}function St(e,t,n,r,i){return wt(e,t,arguments.length>5&&void 0!==arguments[5]?arguments[5]:"root",arguments.length>6&&void 0!==arguments[6]?arguments[6]:"_",n,r,i)}function Et(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(F in t||T in t||S in t){var o=Ye(e,t,r,i);if(-1===a.findIndex((function(e){return Ee()(e,o)})))return Et(e,o,n,r,i,a.concat(o))}var s=(0,u.Z)({},O,n.replace(/^\./,""));if(I in t||E in t){var c=I in t?t.oneOf:t.anyOf,f=Ue(t),d=c[at(e,r,i,c,0,f)];s=(0,l.Z)((0,l.Z)({},s),Et(e,d,n,r,i,a))}if(w in t&&!1!==t[w]&&Me()(s,j,!0),N in t&&Array.isArray(i)){var h=t.items,p=t.additionalItems;Array.isArray(h)?i.forEach((function(t,i){h[i]?s[i]=Et(e,h[i],"".concat(n,".").concat(i),r,t,a):p?s[i]=Et(e,p,"".concat(n,".").concat(i),r,t,a):console.warn('Unable to generate path schema for "'.concat(n,".").concat(i,'". No schema defined for it'))})):i.forEach((function(t,i){s[i]=Et(e,h,"".concat(n,".").concat(i),r,t,a)}))}else if(L in t)for(var m in t.properties){var v=$()(t,[L,m]);s[m]=Et(e,v,"".concat(n,".").concat(m),r,$()(i,[m]),a)}return s}function At(e,t){return Et(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0)}var Mt=function(){function e(t,n,r){(0,p.Z)(this,e),this.rootSchema=n,this.validator=t,this.experimental_defaultFormStateBehavior=r}return(0,m.Z)(e,[{key:"getValidator",value:function(){return this.validator}},{key:"doesSchemaUtilsDiffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!(!e||!t)&&(this.validator!==e||!Y(this.rootSchema,t)||!Y(this.experimental_defaultFormStateBehavior,n))}},{key:"getDefaultFormState",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return gt(this.validator,e,t,this.rootSchema,n,this.experimental_defaultFormStateBehavior)}},{key:"getDisplayLabel",value:function(e,t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=H(n,arguments.length>4?arguments[4]:void 0).label,a=!(void 0!==i&&!i),o=ze(t);return"array"===o&&(a=ct(e,t,r)||_t(e,t,n,r)||yt(n)),"object"===o&&(a=!1),"boolean"!==o||n[z]||(a=!1),n["ui:field"]&&(a=!1),a}(this.validator,e,t,this.rootSchema,n)}},{key:"getClosestMatchingOption",value:function(e,t,n,r){return at(this.validator,this.rootSchema,e,t,n,r)}},{key:"getFirstMatchingOption",value:function(e,t,n){return we(this.validator,e,t,this.rootSchema,n)}},{key:"getMatchingOption",value:function(e,t,n){return xe(this.validator,e,t,this.rootSchema,n)}},{key:"isFilesArray",value:function(e,t){return _t(this.validator,e,t,this.rootSchema)}},{key:"isMultiSelect",value:function(e){return ct(this.validator,e,this.rootSchema)}},{key:"isSelect",value:function(e){return lt(this.validator,e,this.rootSchema)}},{key:"mergeValidationData",value:function(e,t){return function(e,t,n){if(!n)return t;var r=t.errors,i=t.errorSchema,a=e.toErrorList(n),o=n;return te()(i)||(o=ut(i,n,!0),a=h(r).concat(a)),{errorSchema:o,errors:a}}(this.validator,e,t)}},{key:"retrieveSchema",value:function(e,t){return Ye(this.validator,e,this.rootSchema,t)}},{key:"sanitizeDataForNewSchema",value:function(e,t,n){return xt(this.validator,this.rootSchema,e,t,n)}},{key:"toIdSchema",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"root",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"_";return St(this.validator,e,t,this.rootSchema,n,r,i)}},{key:"toPathSchema",value:function(e,t,n){return At(this.validator,e,t,this.rootSchema,n)}}]),e}();function Tt(e,t){return function(e,t){var n=e;if(Array.isArray(t)){var r=n.split(/(%\d)/);t.forEach((function(e,t){var n=r.findIndex((function(e){return e==="%".concat(t+1)}));n>=0&&(r[n]=e)})),n=r.join("")}return n}(e,t)}function kt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(Array.isArray(e))return e.map((function(e){return kt(e,t)})).filter((function(e){return e}));var r=""===e||null===e?-1:Number(e),i=t[r];return i?i.value:n}function Ct(e,t){return Array.isArray(t)?t.some((function(t){return Ee()(t,e)})):Ee()(t,e)}var Pt=n(5633),Rt=n.n(Pt);var Nt=n(8121),Ot=n.n(Nt),It=function(){function e(t){(0,p.Z)(this,e),this.errorSchema={},this.resetAllErrors(t)}return(0,m.Z)(e,[{key:"ErrorSchema",get:function(){return this.errorSchema}},{key:"getOrCreateErrorBlock",value:function(e){var t=Array.isArray(e)&&e.length>0||"string"===typeof e?$()(this.errorSchema,e):this.errorSchema;return!t&&e&&(t={},Me()(this.errorSchema,e,t)),t}},{key:"resetAllErrors",value:function(e){return this.errorSchema=e?Ot()(e):{},this}},{key:"addErrors",value:function(e,t){var n,r=this.getOrCreateErrorBlock(t),i=$()(r,C);(Array.isArray(i)||(i=[],r[C]=i),Array.isArray(e))?(n=i).push.apply(n,h(e)):i.push(e);return this}},{key:"setErrors",value:function(e,t){var n=this.getOrCreateErrorBlock(t),r=Array.isArray(e)?h(e):[e];return Me()(n,C,r),this}},{key:"clearErrors",value:function(e){var t=this.getOrCreateErrorBlock(e);return Me()(t,C,[]),this}}]),e}();var Lt={props:{disabled:!1},submitText:"Submit",norender:!1};function Dt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.templates;return"ButtonTemplates"===e?r[e]:n[e]||r[e]}var Ut=n(7523),Ft=["options"],jt={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function Bt(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=ze(e);if("function"===typeof n||n&&Ut.isForwardRef((0,t.createElement)(n))||Ut.isMemo(n))return function(e){var t=$()(e,"MergedWidget");if(!t){var n=e.defaultProps&&e.defaultProps.options||{};t=function(t){var r=t.options,i=Q(t,Ft);return(0,y.jsx)(e,(0,l.Z)({options:(0,l.Z)((0,l.Z)({},n),r)},i))},Me()(e,"MergedWidget",t)}return t}(n);if("string"!==typeof n)throw new Error("Unsupported widget definition: ".concat(typeof n));if(n in r)return Bt(e,r[n],r);if("string"===typeof i){if(!(i in jt))throw new Error("No widget for type '".concat(i,"'"));if(n in jt[i])return Bt(e,r[jt[i][n]],r)}throw new Error("No widget '".concat(n,"' for type '").concat(i,"'"))}function zt(e,t){var n=pe()(e)?e:e[P];return"".concat(n,"__").concat(t)}function Vt(e){return zt(e,"description")}function Ht(e){return zt(e,"error")}function Gt(e){return zt(e,"examples")}function Zt(e){return zt(e,"help")}function Wt(e){return zt(e,"title")}function qt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?" ".concat(Gt(e)):"";return"".concat(Ht(e)," ").concat(Vt(e)," ").concat(Zt(e)).concat(t)}function Xt(e,t){return"".concat(e,"-").concat(t)}function Kt(e,t,n){return t?n:e}function Yt(e){var t=e;if(t.enumNames,e.enum)return e.enum.map((function(e,n){return{label:t.enumNames&&t.enumNames[n]||String(e),value:e}}));var n=e.oneOf||e.anyOf;return n&&n.map((function(e){var t=e,n=function(e){if(k in e&&Array.isArray(e.enum)&&1===e.enum.length)return e.enum[0];if(A in e)return e.const;throw new Error("schema cannot be inferred as a constant")}(t);return{schema:t,label:t.title||String(n),value:n}}))}function Qt(e,t){for(var n=String(e);n.length<t;)n="0"+n;return n}function Jt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};var n=new Date(e);if(Number.isNaN(n.getTime()))throw new Error("Unable to parse date "+e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:t?n.getUTCHours():0,minute:t?n.getUTCMinutes():0,second:t?n.getUTCSeconds():0}}function $t(e){if(e.const)return!0;if(e.enum&&1===e.enum.length&&!0===e.enum[0])return!0;if(e.anyOf&&1===e.anyOf.length)return $t(e.anyOf[0]);if(e.oneOf&&1===e.oneOf.length)return $t(e.oneOf[0]);if(e.allOf){return e.allOf.some((function(e){return $t(e)}))}return!1}function en(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.year,r=e.month,i=e.day,a=e.hour,o=void 0===a?0:a,s=e.minute,u=void 0===s?0:s,l=e.second,c=void 0===l?0:l,f=Date.UTC(n,r-1,i,o,u,c),d=new Date(f).toJSON();return t?d:d.slice(0,10)}function tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];var n=[];return C in e&&(n=n.concat(e[C].map((function(e){var n=".".concat(t.join("."));return{property:n,message:e,stack:"".concat(n," ").concat(e)}})))),Object.keys(e).reduce((function(n,r){if(r!==C){var i=e[r];W()(i)&&(n=n.concat(tn(i,[].concat(h(t),[r]))))}return n}),n)}var nn,rn=n(168),an=n.n(rn);function on(e){return Object.keys(e).reduce((function(t,n){if("addError"===n)return t;var r=e[n];return W()(r)?(0,l.Z)((0,l.Z)({},t),{},(0,u.Z)({},n,on(r))):(0,l.Z)((0,l.Z)({},t),{},(0,u.Z)({},n,r))}),{})}function sn(e){if(!e)return"";var t=new Date(e),n=Qt(t.getFullYear(),4),r=Qt(t.getMonth()+1,2),i=Qt(t.getDate(),2),a=Qt(t.getHours(),2),o=Qt(t.getMinutes(),2),s=Qt(t.getSeconds(),2),u=Qt(t.getMilliseconds(),3);return"".concat(n,"-").concat(r,"-").concat(i,"T").concat(a,":").concat(o,":").concat(s,".").concat(u)}function un(e,t){if(!t)return e;var n=e.errors,r=e.errorSchema,i=tn(t),a=t;return te()(r)||(a=ut(r,t,!0),i=h(n).concat(i)),{errorSchema:a,errors:i}}function ln(e){return Array.isArray(e)?function(e){for(var t=0;t<e.length;t++)e[t]=ln(e[t]);return e}(h(e)):de()(e)?function(e){for(var t in e){var n=e,r=n[t];t===F&&"string"===typeof r&&r.startsWith("#")?n[t]=B+r:n[t]=ln(r)}return e}((0,l.Z)({},e)):e}!function(e){e.ArrayItemTitle="Item",e.MissingItems="Missing items definition",e.YesLabel="Yes",e.NoLabel="No",e.CloseLabel="Close",e.ErrorsLabel="Errors",e.NewStringDefault="New Value",e.AddButton="Add",e.AddItemButton="Add Item",e.CopyButton="Copy",e.MoveDownButton="Move down",e.MoveUpButton="Move up",e.RemoveButton="Remove",e.NowLabel="Now",e.ClearLabel="Clear",e.AriaDateLabel="Select a date",e.PreviewLabel="Preview",e.DecrementAriaLabel="Decrease value by 1",e.IncrementAriaLabel="Increase value by 1",e.UnknownFieldType="Unknown field type %1",e.OptionPrefix="Option %1",e.TitleOptionPrefix="%1 option %2",e.KeyLabel="%1 Key",e.InvalidObjectField='Invalid "%1" object field configuration: <em>%2</em>.',e.UnsupportedField="Unsupported field schema.",e.UnsupportedFieldWithId="Unsupported field schema for field <code>%1</code>.",e.UnsupportedFieldWithReason="Unsupported field schema: <em>%1</em>.",e.UnsupportedFieldWithIdAndReason="Unsupported field schema for field <code>%1</code>: <em>%2</em>.",e.FilesInfo="<strong>%1</strong> (%2, %3 bytes)"}(nn||(nn={}));n(6514);var cn=n(6460),fn=n.n(cn),dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")},hn=["widget","title"],pn=["widget","title"],mn=["widget","title"];function vn(){return dn()}function gn(e){return Array.isArray(e)?e.map((function(e){return{key:vn(),item:e}})):[]}function yn(e){return Array.isArray(e)?e.map((function(e){return e.item})):[]}var _n=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;(0,p.Z)(this,n),(r=t.call(this,e))._getNewFormDataRow=function(){var e=r.props,t=e.schema,n=e.registry.schemaUtils,i=t.items;return ot(t)&&function(e){return!0===e.additionalItems&&console.warn("additionalItems=true is currently not supported"),_(e.additionalItems)}(t)&&(i=t.additionalItems),n.getDefaultFormState(i)},r.onAddClick=function(e){r._handleAddClick(e)},r.onAddIndexClick=function(e){return function(t){r._handleAddClick(t,e)}},r.onCopyIndexClick=function(e){return function(t){t&&t.preventDefault();var n,i=r.props,a=i.onChange,o=i.errorSchema,s=r.state.keyedFormData;if(o)for(var u in n={},o){var l=parseInt(u);l<=e?Me()(n,[l],o[u]):l>e&&Me()(n,[l+1],o[u])}var c={key:vn(),item:Ot()(s[e].item)},f=h(s);void 0!==e?f.splice(e+1,0,c):f.push(c),r.setState({keyedFormData:f,updatedKeyedFormData:!0},(function(){return a(yn(f),n)}))}},r.onDropIndexClick=function(e){return function(t){t&&t.preventDefault();var n,i=r.props,a=i.onChange,o=i.errorSchema,s=r.state.keyedFormData;if(o)for(var u in n={},o){var l=parseInt(u);l<e?Me()(n,[l],o[u]):l>e&&Me()(n,[l-1],o[u])}var c=s.filter((function(t,n){return n!==e}));r.setState({keyedFormData:c,updatedKeyedFormData:!0},(function(){return a(yn(c),n)}))}},r.onReorderClick=function(e,t){return function(n){n&&(n.preventDefault(),n.currentTarget.blur());var i,a=r.props,o=a.onChange,s=a.errorSchema;if(s)for(var u in i={},s){var l=parseInt(u);l==e?Me()(i,[t],s[e]):l==t?Me()(i,[e],s[t]):Me()(i,[u],s[l])}var c=r.state.keyedFormData;var f=function(){var n=c.slice();return n.splice(e,1),n.splice(t,0,c[e]),n}();r.setState({keyedFormData:f},(function(){return o(yn(f),i)}))}},r.onChangeForIndex=function(e){return function(t,n,i){var a=r.props,o=a.formData,s=a.onChange,c=a.errorSchema,f=(Array.isArray(o)?o:[]).map((function(n,r){return e===r?"undefined"===typeof t?null:t:n}));s(f,c&&c&&(0,l.Z)((0,l.Z)({},c),{},(0,u.Z)({},e,n)),i)}},r.onSelectChange=function(e){var t=r.props,n=t.onChange,i=t.idSchema;n(e,void 0,i&&i.$id)};var i=e.formData,a=gn(void 0===i?[]:i);return r.state={keyedFormData:a,updatedKeyedFormData:!1},r}return(0,m.Z)(n,[{key:"itemTitle",get:function(){var e=this.props,t=e.schema,n=e.registry.translateString;return $()(t,[N,"title"],$()(t,[N,"description"],n(nn.ArrayItemTitle)))}},{key:"isItemRequired",value:function(e){return Array.isArray(e.type)?!e.type.includes("null"):"null"!==e.type}},{key:"canAddItem",value:function(e){var t=this.props,n=t.schema,r=H(t.uiSchema,t.registry.globalUiOptions).addable;return!1!==r&&(r=void 0===n.maxItems||e.length<n.maxItems),r}},{key:"_handleAddClick",value:function(e,t){e&&e.preventDefault();var n,r=this.props,i=r.onChange,a=r.errorSchema,o=this.state.keyedFormData;if(a)for(var s in n={},a){var u=parseInt(s);void 0===t||u<t?Me()(n,[u],a[s]):u>=t&&Me()(n,[u+1],a[s])}var l={key:vn(),item:this._getNewFormDataRow()},c=h(o);void 0!==t?c.splice(t,0,l):c.push(l),this.setState({keyedFormData:c,updatedKeyedFormData:!0},(function(){return i(yn(c),n)}))}},{key:"render",value:function(){var e=this.props,t=e.schema,n=e.uiSchema,r=e.idSchema,i=e.registry,a=i.schemaUtils,o=i.translateString;if(!(N in t)){var s=Dt("UnsupportedFieldTemplate",i,H(n));return(0,y.jsx)(s,{schema:t,idSchema:r,reason:o(nn.MissingItems),registry:i})}return a.isMultiSelect(t)?this.renderMultiSelect():yt(n)?this.renderCustomWidget():ot(t)?this.renderFixedArray():a.isFilesArray(t,n)?this.renderFiles():this.renderNormalArray()}},{key:"renderNormalArray",value:function(){var e=this,t=this.props,n=t.schema,r=t.uiSchema,i=void 0===r?{}:r,a=t.errorSchema,o=t.idSchema,s=t.name,u=t.disabled,c=void 0!==u&&u,f=t.readonly,d=void 0!==f&&f,h=t.autofocus,p=void 0!==h&&h,m=t.required,v=void 0!==m&&m,g=t.registry,_=t.onBlur,b=t.onFocus,x=t.idPrefix,w=t.idSeparator,S=void 0===w?"_":w,E=t.rawErrors,A=this.state.keyedFormData,M=void 0===n.title?s:n.title,T=g.schemaUtils,k=g.formContext,C=H(i),P=de()(n.items)?n.items:{},R=T.retrieveSchema(P),N=yn(this.state.keyedFormData),O=this.canAddItem(N),I={canAdd:O,items:A.map((function(t,n){var r=t.key,u=t.item,l=T.retrieveSchema(P,u),c=a?a[n]:void 0,f=o.$id+S+n,d=T.toIdSchema(l,f,u,x,S);return e.renderArrayFieldItem({key:r,index:n,name:s&&"".concat(s,"-").concat(n),canAdd:O,canMoveUp:n>0,canMoveDown:n<N.length-1,itemSchema:l,itemIdSchema:d,itemErrorSchema:c,itemData:u,itemUiSchema:i.items,autofocus:p&&0===n,onBlur:_,onFocus:b,rawErrors:E,totalItems:A.length})})),className:"field field-array field-array-of-".concat(R.type),disabled:c,idSchema:o,uiSchema:i,onAddClick:this.onAddClick,readonly:d,required:v,schema:n,title:M,formContext:k,formData:N,rawErrors:E,registry:g},L=Dt("ArrayFieldTemplate",g,C);return(0,y.jsx)(L,(0,l.Z)({},I))}},{key:"renderCustomWidget",value:function(){var e,t=this.props,n=t.schema,r=t.idSchema,i=t.uiSchema,a=t.disabled,o=void 0!==a&&a,s=t.readonly,u=void 0!==s&&s,l=t.autofocus,c=void 0!==l&&l,f=t.required,d=void 0!==f&&f,h=t.hideError,p=t.placeholder,m=t.onBlur,v=t.onFocus,g=t.formData,_=void 0===g?[]:g,b=t.registry,x=t.rawErrors,w=t.name,S=b.widgets,E=b.formContext,A=b.globalUiOptions,M=b.schemaUtils,T=H(i,A),k=T.widget,C=T.title,P=Q(T,hn),R=Bt(n,k,S),N=null!==(e=null!==C&&void 0!==C?C:n.title)&&void 0!==e?e:w,O=M.getDisplayLabel(n,i,A);return(0,y.jsx)(R,{id:r.$id,name:w,multiple:!0,onChange:this.onSelectChange,onBlur:m,onFocus:v,options:P,schema:n,uiSchema:i,registry:b,value:_,disabled:o,readonly:u,hideError:h,required:d,label:N,hideLabel:!O,placeholder:p,formContext:E,autofocus:c,rawErrors:x})}},{key:"renderMultiSelect",value:function(){var e,t=this.props,n=t.schema,r=t.idSchema,i=t.uiSchema,a=t.formData,o=void 0===a?[]:a,s=t.disabled,u=void 0!==s&&s,c=t.readonly,f=void 0!==c&&c,d=t.autofocus,h=void 0!==d&&d,p=t.required,m=void 0!==p&&p,v=t.placeholder,g=t.onBlur,_=t.onFocus,b=t.registry,x=t.rawErrors,w=t.name,S=b.widgets,E=b.schemaUtils,A=b.formContext,M=b.globalUiOptions,T=Yt(E.retrieveSchema(n.items,o)),k=H(i,M),C=k.widget,P=void 0===C?"select":C,R=k.title,N=Q(k,pn),O=Bt(n,P,S),I=null!==(e=null!==R&&void 0!==R?R:n.title)&&void 0!==e?e:w,L=E.getDisplayLabel(n,i,M);return(0,y.jsx)(O,{id:r.$id,name:w,multiple:!0,onChange:this.onSelectChange,onBlur:g,onFocus:_,options:(0,l.Z)((0,l.Z)({},N),{},{enumOptions:T}),schema:n,uiSchema:i,registry:b,value:o,disabled:u,readonly:f,required:m,label:I,hideLabel:!L,placeholder:v,formContext:A,autofocus:h,rawErrors:x})}},{key:"renderFiles",value:function(){var e,t=this.props,n=t.schema,r=t.uiSchema,i=t.idSchema,a=t.name,o=t.disabled,s=void 0!==o&&o,u=t.readonly,l=void 0!==u&&u,c=t.autofocus,f=void 0!==c&&c,d=t.required,h=void 0!==d&&d,p=t.onBlur,m=t.onFocus,v=t.registry,g=t.formData,_=void 0===g?[]:g,b=t.rawErrors,x=v.widgets,w=v.formContext,S=v.globalUiOptions,E=v.schemaUtils,A=H(r,S),M=A.widget,T=void 0===M?"files":M,k=A.title,C=Q(A,mn),P=Bt(n,T,x),R=null!==(e=null!==k&&void 0!==k?k:n.title)&&void 0!==e?e:a,N=E.getDisplayLabel(n,r,S);return(0,y.jsx)(P,{options:C,id:i.$id,name:a,multiple:!0,onChange:this.onSelectChange,onBlur:p,onFocus:m,schema:n,uiSchema:r,value:_,disabled:s,readonly:l,required:h,registry:v,formContext:w,autofocus:f,rawErrors:b,label:R,hideLabel:!N})}},{key:"renderFixedArray",value:function(){var e=this,t=this.props,n=t.schema,r=t.uiSchema,i=void 0===r?{}:r,a=t.formData,o=void 0===a?[]:a,s=t.errorSchema,u=t.idPrefix,c=t.idSeparator,f=void 0===c?"_":c,d=t.idSchema,h=t.name,p=t.disabled,m=void 0!==p&&p,v=t.readonly,g=void 0!==v&&v,_=t.autofocus,b=void 0!==_&&_,x=t.required,w=void 0!==x&&x,S=t.registry,E=t.onBlur,A=t.onFocus,M=t.rawErrors,T=this.state.keyedFormData,k=this.props.formData,C=void 0===k?[]:k,P=n.title||h,R=H(i),N=S.schemaUtils,O=S.formContext,I=(de()(n.items)?n.items:[]).map((function(e,t){return N.retrieveSchema(e,o[t])})),L=de()(n.additionalItems)?N.retrieveSchema(n.additionalItems,o):null;(!C||C.length<I.length)&&(C=(C=C||[]).concat(new Array(I.length-C.length)));var D=this.canAddItem(C)&&!!L,U={canAdd:D,className:"field field-array field-array-fixed-items",disabled:m,idSchema:d,formData:o,items:T.map((function(t,r){var a=t.key,o=t.item,l=r>=I.length,c=(l&&de()(n.additionalItems)?N.retrieveSchema(n.additionalItems,o):I[r])||{},p=d.$id+f+r,m=N.toIdSchema(c,p,o,u,f),v=l?i.additionalItems||{}:Array.isArray(i.items)?i.items[r]:i.items||{},g=s?s[r]:void 0;return e.renderArrayFieldItem({key:a,index:r,name:h&&"".concat(h,"-").concat(r),canAdd:D,canRemove:l,canMoveUp:r>=I.length+1,canMoveDown:l&&r<C.length-1,itemSchema:c,itemData:o,itemUiSchema:v,itemIdSchema:m,itemErrorSchema:g,autofocus:b&&0===r,onBlur:E,onFocus:A,rawErrors:M,totalItems:T.length})})),onAddClick:this.onAddClick,readonly:g,required:w,registry:S,schema:n,uiSchema:i,title:P,formContext:O,rawErrors:M},F=Dt("ArrayFieldTemplate",S,R);return(0,y.jsx)(F,(0,l.Z)({},U))}},{key:"renderArrayFieldItem",value:function(e){var t=e.key,n=e.index,r=e.name,i=e.canAdd,a=e.canRemove,o=void 0===a||a,s=e.canMoveUp,u=e.canMoveDown,l=e.itemSchema,c=e.itemData,f=e.itemUiSchema,d=e.itemIdSchema,h=e.itemErrorSchema,p=e.autofocus,m=e.onBlur,v=e.onFocus,g=e.rawErrors,_=e.totalItems,b=this.props,x=b.disabled,w=b.hideError,S=b.idPrefix,E=b.idSeparator,A=b.readonly,M=b.uiSchema,T=b.registry,k=b.formContext,C=T.fields,P=C.ArraySchemaField,R=C.SchemaField,N=P||R,O=H(M,T.globalUiOptions),I=O.orderable,L=void 0===I||I,D=O.removable,U=void 0===D||D,F=O.copyable,j={moveUp:L&&s,moveDown:L&&u,copy:void 0!==F&&F&&i,remove:U&&o,toolbar:!1};return j.toolbar=Object.keys(j).some((function(e){return j[e]})),{children:(0,y.jsx)(N,{name:r,index:n,schema:l,uiSchema:f,formData:c,formContext:k,errorSchema:h,idPrefix:S,idSeparator:E,idSchema:d,required:this.isItemRequired(l),onChange:this.onChangeForIndex(n),onBlur:m,onFocus:v,registry:T,disabled:x,readonly:A,hideError:w,autofocus:p,rawErrors:g}),className:"array-item",disabled:x,canAdd:i,hasCopy:j.copy,hasToolbar:j.toolbar,hasMoveUp:j.moveUp,hasMoveDown:j.moveDown,hasRemove:j.remove,index:n,totalItems:_,key:t,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:A,registry:T,schema:l,uiSchema:f}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.updatedKeyedFormData)return{updatedKeyedFormData:!1};var n=Array.isArray(e.formData)?e.formData:[],r=t.keyedFormData||[];return{keyedFormData:n.length===r.length?r.map((function(e,t){return{key:e.key,item:n[t]}})):gn(n)}}}]),n}(t.Component),bn=_n,xn=["widget","title","label"];var wn=function(e){var t,n,r,i=e.schema,a=e.name,o=e.uiSchema,s=e.idSchema,u=e.formData,c=e.registry,f=e.required,d=e.disabled,h=e.readonly,p=e.hideError,m=e.autofocus,v=e.onChange,g=e.onFocus,_=e.onBlur,b=e.rawErrors,x=i.title,w=c.widgets,S=c.formContext,E=c.translateString,A=H(o,c.globalUiOptions),M=A.widget,T=void 0===M?"checkbox":M,k=A.title,C=A.label,P=void 0===C||C,R=Q(A,xn),N=Bt(i,T,w),O=E(nn.YesLabel),I=E(nn.NoLabel),L=null!==(t=null!==k&&void 0!==k?k:x)&&void 0!==t?t:a;if(Array.isArray(i.oneOf))r=Yt({oneOf:i.oneOf.map((function(e){if(de()(e))return(0,l.Z)((0,l.Z)({},e),{},{title:e.title||(!0===e.const?O:I)})})).filter((function(e){return e}))});else{var D=i,U=null!==(n=i.enum)&&void 0!==n?n:[!0,!1];r=!D.enumNames&&2===U.length&&U.every((function(e){return"boolean"===typeof e}))?[{value:U[0],label:U[0]?O:I},{value:U[1],label:U[1]?O:I}]:Yt({enum:U,enumNames:D.enumNames})}return(0,y.jsx)(N,{options:(0,l.Z)((0,l.Z)({},R),{},{enumOptions:r}),schema:i,uiSchema:o,id:s.$id,name:a,onChange:v,onFocus:g,onBlur:_,label:L,hideLabel:!P,value:u,required:f,disabled:d,readonly:h,hideError:p,registry:c,formContext:S,autofocus:m,rawErrors:b})},Sn=["widget","placeholder","autofocus","autocomplete","title"],En=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;(0,p.Z)(this,n),(r=t.call(this,e)).onOptionChange=function(e){var t=r.state,n=t.selectedOption,i=t.retrievedOptions,a=r.props,o=a.formData,s=a.onChange,u=a.registry.schemaUtils,l=void 0!==e?parseInt(e,10):-1;if(l!==n){var c=l>=0?i[l]:void 0,f=n>=0?i[n]:void 0,d=u.sanitizeDataForNewSchema(c,f,o);d&&c&&(d=u.getDefaultFormState(c,d,"excludeObjectChildren")),s(d,void 0,r.getFieldId()),r.setState({selectedOption:l})}};var i=r.props,a=i.formData,o=i.options,s=i.registry.schemaUtils,u=o.map((function(e){return s.retrieveSchema(e,a)}));return r.state={retrievedOptions:u,selectedOption:r.getMatchingOption(0,a,u)},r}return(0,m.Z)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.formData,i=n.options,a=n.idSchema,o=this.state.selectedOption,s=this.state;if(!Y(e.options,i)){var u=this.props.registry.schemaUtils;s={selectedOption:o,retrievedOptions:i.map((function(e){return u.retrieveSchema(e,r)}))}}if(!Y(r,e.formData)&&a.$id===e.idSchema.$id){var l=s.retrievedOptions,c=this.getMatchingOption(o,r,l);t&&c!==o&&(s={selectedOption:c,retrievedOptions:l})}s!==this.state&&this.setState(s)}},{key:"getMatchingOption",value:function(e,t,n){var r=this.props,i=r.schema,a=r.registry.schemaUtils,o=Ue(i);return a.getClosestMatchingOption(t,n,e,o)}},{key:"getFieldId",value:function(){var e=this.props,t=e.idSchema,n=e.schema;return"".concat(t.$id).concat(n.oneOf?"__oneof_select":"__anyof_select")}},{key:"render",value:function(){var e,t=this.props,n=t.name,r=t.disabled,i=void 0!==r&&r,a=t.errorSchema,o=void 0===a?{}:a,s=t.formContext,u=t.onBlur,c=t.onFocus,f=t.registry,d=t.schema,h=t.uiSchema,p=f.widgets,m=f.fields,v=f.translateString,g=f.globalUiOptions,_=f.schemaUtils,b=m.SchemaField,x=this.state,w=x.selectedOption,S=x.retrievedOptions,E=H(h,g),A=E.widget,M=void 0===A?"select":A,T=E.placeholder,k=E.autofocus,P=E.autocomplete,R=E.title,N=void 0===R?d.title:R,O=Q(E,Sn),I=Bt({type:"number"},M,p),L=$()(o,C,[]),D=ie()(o,[C]),U=_.getDisplayLabel(d,h,g),F=w>=0&&S[w]||null;if(F){var j=d.required;e=j?Ve({required:j},F):F}var B=N?nn.TitleOptionPrefix:nn.OptionPrefix,z=N?[N]:[],V=S.map((function(e,t){return{label:e.title||v(B,z.concat(String(t+1))),value:t}}));return(0,y.jsxs)("div",{className:"panel panel-default panel-body",children:[(0,y.jsx)("div",{className:"form-group",children:(0,y.jsx)(I,{id:this.getFieldId(),name:"".concat(n).concat(d.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:u,onFocus:c,disabled:i||te()(V),multiple:!1,rawErrors:L,errorSchema:D,value:w>=0?w:void 0,options:(0,l.Z)({enumOptions:V},O),registry:f,formContext:s,placeholder:T,autocomplete:P,autofocus:k,label:null!==N&&void 0!==N?N:n,hideLabel:!U})}),null!==F&&(0,y.jsx)(b,(0,l.Z)((0,l.Z)({},this.props),{},{schema:e}))]})}}]),n}(t.Component),An=En,Mn=/\.([0-9]*0)*$/,Tn=/[0.]0*$/;var kn=function(e){var n=e.registry,r=e.onChange,a=e.formData,o=e.value,s=(0,t.useState)(o),u=(0,i.Z)(s,2),c=u[0],f=u[1],d=n.fields.StringField,h=a,p=(0,t.useCallback)((function(e){f(e),"."==="".concat(e).charAt(0)&&(e="0".concat(e));var t="string"===typeof e&&e.match(Mn)?b(e.replace(Tn,"")):b(e);r(t)}),[r]);if("string"===typeof c&&"number"===typeof h){var m=new RegExp("".concat(h).replace(".","\\.")+"\\.?0*$");c.match(m)&&(h=c)}return(0,y.jsx)(d,(0,l.Z)((0,l.Z)({},e),{},{formData:h,onChange:p}))};function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cn.apply(this,arguments)}var Pn=["children","options"],Rn=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","className","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((function(e,t){return e[t.toLowerCase()]=t,e}),{for:"htmlFor"}),Nn={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"\xa0",quot:"\u201c"},On=["style","script"],In=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,Ln=/mailto:/i,Dn=/\n{2,}$/,Un=/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/,Fn=/^ *> ?/gm,jn=/^ {2,}\n/,Bn=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,zn=/^\s*(`{3,}|~{3,}) *(\S+)?([^\n]*?)?\n([\s\S]+?)\s*\1 *(?:\n *)*\n?/,Vn=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,Hn=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,Gn=/^(?:\n *)*\n/,Zn=/\r\n?/g,Wn=/^\[\^([^\]]+)](:.*)\n/,qn=/^\[\^([^\]]+)]/,Xn=/\f/g,Kn=/^\s*?\[(x|\s)\]/,Yn=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Qn=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Jn=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,$n=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?([^>]*)\/{0}>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1)[\s\S])*?)<\/\1>\n*/i,er=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,tr=/^<!--[\s\S]*?(?:-->)/,nr=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,rr=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,ir=/^\{.*\}$/,ar=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,or=/^<([^ >]+@[^ >]+)>/,sr=/^<([^ >]+:\/[^ >]+)>/,ur=/-([a-z])?/gi,lr=/^(.*\|?.*)\n *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*)\n?/,cr=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,fr=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,dr=/^\[([^\]]*)\] ?\[([^\]]*)\]/,hr=/(\[|\])/g,pr=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,mr=/\t/g,vr=/^ *\| */,gr=/(^ *\||\| *$)/g,yr=/ *$/,_r=/^ *:-+: *$/,br=/^ *:-+ *$/,xr=/^ *-+: *$/,wr=/^([*_])\1((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1\1(?!\1)/,Sr=/^([*_])((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1(?!\1|\w)/,Er=/^==((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)==/,Ar=/^~~((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)~~/,Mr=/^\\([^0-9A-Za-z\s])/,Tr=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&#;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,kr=/^\n+/,Cr=/^([ \t]*)/,Pr=/\\([^\\])/g,Rr=/ *\n+$/,Nr=/(?:^|\n)( *)$/,Or="(?:\\d+\\.)",Ir="(?:[*+-])";function Lr(e){return"( *)("+(1===e?Or:Ir)+") +"}var Dr=Lr(1),Ur=Lr(2);function Fr(e){return new RegExp("^"+(1===e?Dr:Ur))}var jr=Fr(1),Br=Fr(2);function zr(e){return new RegExp("^"+(1===e?Dr:Ur)+"[^\\n]*(?:\\n(?!\\1"+(1===e?Or:Ir)+" )[^\\n]*)*(\\n|$)","gm")}var Vr=zr(1),Hr=zr(2);function Gr(e){var t=1===e?Or:Ir;return new RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}var Zr=Gr(1),Wr=Gr(2);function qr(e,t){var n=1===t,r=n?Zr:Wr,i=n?Vr:Hr,a=n?jr:Br;return{t:function(e,t,n){var i=Nr.exec(n);return i&&(t.o||!t._&&!t.u)?r.exec(e=i[1]+e):null},i:hi.HIGH,l:function(e,t,r){var o=n?+e[2]:void 0,s=e[0].replace(Dn,"\n").match(i),u=!1;return{p:s.map((function(e,n){var i=a.exec(e)[0].length,o=new RegExp("^ {1,"+i+"}","gm"),l=e.replace(o,"").replace(a,""),c=n===s.length-1,f=-1!==l.indexOf("\n\n")||c&&u;u=f;var d,h=r._,p=r.o;r.o=!0,f?(r._=!1,d=l.replace(Rr,"\n\n")):(r._=!0,d=l.replace(Rr,""));var m=t(d,r);return r._=h,r.o=p,m})),m:n,g:o}},h:function(t,n,r){return e(t.m?"ol":"ul",{key:r.k,start:t.g},t.p.map((function(t,i){return e("li",{key:i},n(t,r))})))}}}var Xr=/^\[([^\]]*)]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,Kr=/^!\[([^\]]*)]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,Yr=[Un,zn,Vn,Yn,Jn,Qn,tr,lr,Vr,Zr,Hr,Wr],Qr=[].concat(Yr,[/^[^\n]+(?:  \n|\n{2,})/,$n,rr]);function Jr(e){return e.replace(/[\xc0\xc1\xc2\xc3\xc4\xc5\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xc6]/g,"a").replace(/[\xe7\xc7]/g,"c").replace(/[\xf0\xd0]/g,"d").replace(/[\xc8\xc9\xca\xcb\xe9\xe8\xea\xeb]/g,"e").replace(/[\xcf\xef\xce\xee\xcd\xed\xcc\xec]/g,"i").replace(/[\xd1\xf1]/g,"n").replace(/[\xf8\xd8\u0153\u0152\xd5\xf5\xd4\xf4\xd3\xf3\xd2\xf2]/g,"o").replace(/[\xdc\xfc\xdb\xfb\xda\xfa\xd9\xf9]/g,"u").replace(/[\u0178\xff\xdd\xfd]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function $r(e){return xr.test(e)?"right":_r.test(e)?"center":br.test(e)?"left":null}function ei(e,t,n){var r=n.$;n.$=!0;var i=t(e.trim(),n);n.$=r;var a=[[]];return i.forEach((function(e,t){"tableSeparator"===e.type?0!==t&&t!==i.length-1&&a.push([]):("text"!==e.type||null!=i[t+1]&&"tableSeparator"!==i[t+1].type||(e.v=e.v.replace(yr,"")),a[a.length-1].push(e))})),a}function ti(e,t,n){n._=!0;var r=ei(e[1],t,n),i=e[2].replace(gr,"").split("|").map($r),a=function(e,t,n){return e.trim().split("\n").map((function(e){return ei(e,t,n)}))}(e[3],t,n);return n._=!1,{S:i,A:a,L:r,type:"table"}}function ni(e,t){return null==e.S[t]?{}:{textAlign:e.S[t]}}function ri(e){return function(t,n){return n._?e.exec(t):null}}function ii(e){return function(t,n){return n._||n.u?e.exec(t):null}}function ai(e){return function(t,n){return n._||n.u?null:e.exec(t)}}function oi(e){return function(t){return e.exec(t)}}function si(e,t,n){if(t._||t.u)return null;if(n&&!n.endsWith("\n"))return null;var r="";e.split("\n").every((function(e){return!Yr.some((function(t){return t.test(e)}))&&(r+=e+"\n",e.trim())}));var i=r.trimEnd();return""==i?null:[r,i]}function ui(e){try{if(decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return}catch(e){return null}return e}function li(e){return e.replace(Pr,"$1")}function ci(e,t,n){var r=n._||!1,i=n.u||!1;n._=!0,n.u=!0;var a=e(t,n);return n._=r,n.u=i,a}function fi(e,t,n){var r=n._||!1,i=n.u||!1;n._=!1,n.u=!0;var a=e(t,n);return n._=r,n.u=i,a}function di(e,t,n){return n._=!1,e(t,n)}var hi,pi,mi=function(e,t,n){return{v:ci(t,e[1],n)}};function vi(){return{}}function gi(){return null}function yi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function _i(e,t,n){for(var r=e,i=t.split(".");i.length&&void 0!==(r=r[i[0]]);)i.shift();return r||n}function bi(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.overrides=n.overrides||{},n.slugify=n.slugify||Jr,n.namedCodesToUnicode=n.namedCodesToUnicode?Cn({},Nn,n.namedCodesToUnicode):Nn;var r=n.createElement||t.createElement;function a(e,t){for(var i=_i(n.overrides,"".concat(e,".props"),{}),a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];return r.apply(void 0,[function(e,t){var n=_i(t,e);return n?"function"==typeof n||"object"==typeof n&&"render"in n?n:_i(t,"".concat(e,".component"),e):e}(e,n.overrides),Cn({},t,i,{className:yi(null==t?void 0:t.className,i.className)||void 0})].concat(o))}function o(e){var r=!1;n.forceInline?r=!0:n.forceBlock||(r=!1===pr.test(e));for(var i=p(h(r?e:"".concat(e.trimEnd().replace(kr,""),"\n\n"),{_:r}));"string"==typeof i[i.length-1]&&!i[i.length-1].trim();)i.pop();if(null===n.wrapper)return i;var o,s=n.wrapper||(r?"span":"div");if(i.length>1||n.forceWrapper)o=i;else{if(1===i.length)return"string"==typeof(o=i[0])?a("span",{key:"outer"},o):o;o=null}return t.createElement(s,{key:"outer"},o)}function s(e){var n=e.match(In);return n?n.reduce((function(e,n,r){var i,a=n.indexOf("=");if(-1!==a){var s=(i=n.slice(0,a),-1!==i.indexOf("-")&&null===i.match(nr)&&(i=i.replace(ur,(function(e,t){return t.toUpperCase()}))),i).trim(),u=function(e){var t=e[0];return('"'===t||"'"===t)&&e.length>=2&&e[e.length-1]===t?e.slice(1,-1):e}(n.slice(a+1).trim()),l=Rn[s]||s,c=e[l]=function(e,t){return"style"===e?t.split(/;\s?/).reduce((function(e,t){var n=t.slice(0,t.indexOf(":"));return e[n.replace(/(-[a-z])/g,(function(e){return e[1].toUpperCase()}))]=t.slice(n.length+1).trim(),e}),{}):"href"===e?ui(t):(t.match(ir)&&(t=t.slice(1,t.length-1)),"true"===t||"false"!==t&&t)}(s,u);"string"==typeof c&&($n.test(c)||rr.test(c))&&(e[l]=t.cloneElement(o(c.trim()),{key:r}))}else"style"!==n&&(e[Rn[n]||n]=!0);return e}),{}):null}var u=[],l={},c={blockQuote:{t:ai(Un),i:hi.HIGH,l:function(e,t,n){return{v:t(e[0].replace(Fn,""),n)}},h:function(e,t,n){return a("blockquote",{key:n.k},t(e.v,n))}},breakLine:{t:oi(jn),i:hi.HIGH,l:vi,h:function(e,t,n){return a("br",{key:n.k})}},breakThematic:{t:ai(Bn),i:hi.HIGH,l:vi,h:function(e,t,n){return a("hr",{key:n.k})}},codeBlock:{t:ai(Vn),i:hi.MAX,l:function(e){return{v:e[0].replace(/^ {4}/gm,"").replace(/\n+$/,""),M:void 0}},h:function(e,t,n){return a("pre",{key:n.k},a("code",Cn({},e.O,{className:e.M?"lang-".concat(e.M):""}),e.v))}},codeFenced:{t:ai(zn),i:hi.MAX,l:function(e){return{O:s(e[3]||""),v:e[4],M:e[2]||void 0,type:"codeBlock"}}},codeInline:{t:ii(Hn),i:hi.LOW,l:function(e){return{v:e[2]}},h:function(e,t,n){return a("code",{key:n.k},e.v)}},footnote:{t:ai(Wn),i:hi.MAX,l:function(e){return u.push({I:e[2],j:e[1]}),{}},h:gi},footnoteReference:{t:ri(qn),i:hi.HIGH,l:function(e){return{v:e[1],B:"#".concat(n.slugify(e[1]))}},h:function(e,t,n){return a("a",{key:n.k,href:ui(e.B)},a("sup",{key:n.k},e.v))}},gfmTask:{t:ri(Kn),i:hi.HIGH,l:function(e){return{R:"x"===e[1].toLowerCase()}},h:function(e,t,n){return a("input",{checked:e.R,key:n.k,readOnly:!0,type:"checkbox"})}},heading:{t:ai(n.enforceAtxHeadings?Qn:Yn),i:hi.HIGH,l:function(e,t,r){return{v:ci(t,e[2],r),T:n.slugify(e[2]),C:e[1].length}},h:function(e,t,n){return a("h".concat(e.C),{id:e.T,key:n.k},t(e.v,n))}},headingSetext:{t:ai(Jn),i:hi.MAX,l:function(e,t,n){return{v:ci(t,e[1],n),C:"="===e[2]?1:2,type:"heading"}}},htmlComment:{t:oi(tr),i:hi.HIGH,l:function(){return{}},h:gi},image:{t:ii(Kr),i:hi.HIGH,l:function(e){return{D:e[1],B:li(e[2]),F:e[3]}},h:function(e,t,n){return a("img",{key:n.k,alt:e.D||void 0,title:e.F||void 0,src:ui(e.B)})}},link:{t:ri(Xr),i:hi.LOW,l:function(e,t,n){return{v:fi(t,e[1],n),B:li(e[2]),F:e[3]}},h:function(e,t,n){return a("a",{key:n.k,href:ui(e.B),title:e.F},t(e.v,n))}},linkAngleBraceStyleDetector:{t:ri(sr),i:hi.MAX,l:function(e){return{v:[{v:e[1],type:"text"}],B:e[1],type:"link"}}},linkBareUrlDetector:{t:function(e,t){return t.N?null:ri(ar)(e,t)},i:hi.MAX,l:function(e){return{v:[{v:e[1],type:"text"}],B:e[1],F:void 0,type:"link"}}},linkMailtoDetector:{t:ri(or),i:hi.MAX,l:function(e){var t=e[1],n=e[1];return Ln.test(n)||(n="mailto:"+n),{v:[{v:t.replace("mailto:",""),type:"text"}],B:n,type:"link"}}},orderedList:qr(a,1),unorderedList:qr(a,2),newlineCoalescer:{t:ai(Gn),i:hi.LOW,l:vi,h:function(){return"\n"}},paragraph:{t:si,i:hi.LOW,l:mi,h:function(e,t,n){return a("p",{key:n.k},t(e.v,n))}},ref:{t:ri(cr),i:hi.MAX,l:function(e){return l[e[1]]={B:e[2],F:e[4]},{}},h:gi},refImage:{t:ii(fr),i:hi.MAX,l:function(e){return{D:e[1]||void 0,P:e[2]}},h:function(e,t,n){return a("img",{key:n.k,alt:e.D,src:ui(l[e.P].B),title:l[e.P].F})}},refLink:{t:ri(dr),i:hi.MAX,l:function(e,t,n){return{v:t(e[1],n),Z:t(e[0].replace(hr,"\\$1"),n),P:e[2]}},h:function(e,t,n){return l[e.P]?a("a",{key:n.k,href:ui(l[e.P].B),title:l[e.P].F},t(e.v,n)):a("span",{key:n.k},t(e.Z,n))}},table:{t:ai(lr),i:hi.HIGH,l:ti,h:function(e,t,n){return a("table",{key:n.k},a("thead",null,a("tr",null,e.L.map((function(r,i){return a("th",{key:i,style:ni(e,i)},t(r,n))})))),a("tbody",null,e.A.map((function(r,i){return a("tr",{key:i},r.map((function(r,i){return a("td",{key:i,style:ni(e,i)},t(r,n))})))}))))}},tableSeparator:{t:function(e,t){return t.$?(t._=!0,vr.exec(e)):null},i:hi.HIGH,l:function(){return{type:"tableSeparator"}},h:function(){return" | "}},text:{t:oi(Tr),i:hi.MIN,l:function(e){return{v:e[0].replace(er,(function(e,t){return n.namedCodesToUnicode[t]?n.namedCodesToUnicode[t]:e}))}},h:function(e){return e.v}},textBolded:{t:ii(wr),i:hi.MED,l:function(e,t,n){return{v:t(e[2],n)}},h:function(e,t,n){return a("strong",{key:n.k},t(e.v,n))}},textEmphasized:{t:ii(Sr),i:hi.LOW,l:function(e,t,n){return{v:t(e[2],n)}},h:function(e,t,n){return a("em",{key:n.k},t(e.v,n))}},textEscaped:{t:ii(Mr),i:hi.HIGH,l:function(e){return{v:e[1],type:"text"}}},textMarked:{t:ii(Er),i:hi.LOW,l:mi,h:function(e,t,n){return a("mark",{key:n.k},t(e.v,n))}},textStrikethroughed:{t:ii(Ar),i:hi.LOW,l:mi,h:function(e,t,n){return a("del",{key:n.k},t(e.v,n))}}};!0!==n.disableParsingRawHTML&&(c.htmlBlock={t:oi($n),i:hi.HIGH,l:function(e,t,n){var r,a=e[3].match(Cr),o=(0,i.Z)(a,2)[1],u=new RegExp("^".concat(o),"gm"),l=e[3].replace(u,""),c=(r=l,Qr.some((function(e){return e.test(r)}))?di:ci),f=e[1].toLowerCase(),d=-1!==On.indexOf(f);n.N=n.N||"a"===f;var h=d?e[3]:c(t,l,n);return n.N=!1,{O:s(e[2]),v:h,G:d,H:d?f:e[1]}},h:function(e,t,n){return a(e.H,Cn({key:n.k},e.O),e.G?e.v:t(e.v,n))}},c.htmlSelfClosing={t:oi(rr),i:hi.HIGH,l:function(e){return{O:s(e[2]||""),H:e[1]}},h:function(e,t,n){return a(e.H,Cn({},e.O,{key:n.k}))}});var f,d,h=function(e){var t=Object.keys(e);function n(r,i){for(var a=[],o="";r;)for(var s=0;s<t.length;){var u=t[s],l=e[u],c=l.t(r,i,o);if(c){var f=c[0];r=r.substring(f.length);var d=l.l(c,n,i);null==d.type&&(d.type=u),a.push(d),o=f;break}s++}return a}return t.sort((function(t,n){var r=e[t].i,i=e[n].i;return r!==i?r-i:t<n?-1:1})),function(e,t){return n(function(e){return e.replace(Zn,"\n").replace(Xn,"").replace(mr,"    ")}(e),t)}}(c),p=(f=c,d=function(e,t,n){return f[e.type].h(e,t,n)},function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(t)){for(var r=n.k,i=[],a=!1,o=0;o<t.length;o++){n.k=o;var s=e(t[o],n),u="string"==typeof s;u&&a?i[i.length-1]+=s:null!==s&&i.push(s),a=u}return n.k=r,i}return d(t,e,n)}),m=o(e);return u.length?a("div",null,m,a("footer",{key:"footer"},u.map((function(e){return a("div",{id:n.slugify(e.j),key:e.j},e.j,p(h(e.I,{_:!0})))})))):m}(pi=hi||(hi={}))[pi.MAX=0]="MAX",pi[pi.HIGH=1]="HIGH",pi[pi.MED=2]="MED",pi[pi.LOW=3]="LOW",pi[pi.MIN=4]="MIN";var xi=function(e){var n=e.children,r=e.options,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,Pn);return t.cloneElement(bi(n,r),i)},wi=n(3986),Si=n.n(wi),Ei=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.apply(this,arguments)).state={wasPropertyKeyModified:!1,additionalProperties:{}},e.onPropertyChange=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(r,i,a){var o=e.props,s=o.formData,c=o.onChange,f=o.errorSchema;void 0===r&&n&&(r=""),c((0,l.Z)((0,l.Z)({},s),{},(0,u.Z)({},t,r)),f&&f&&(0,l.Z)((0,l.Z)({},f),{},(0,u.Z)({},t,i)),a)}},e.onDropPropertyClick=function(t){return function(n){n.preventDefault();var r=e.props,i=r.onChange,a=r.formData,o=(0,l.Z)({},a);Si()(o,t),i(o)}},e.getAvailableKey=function(t,n){for(var r=e.props,i=H(r.uiSchema,r.registry.globalUiOptions).duplicateKeySuffixSeparator,a=void 0===i?"-":i,o=0,s=t;ue()(n,s);)s="".concat(t).concat(a).concat(++o);return s},e.onKeyChange=function(t){return function(n,r){if(t!==n){var i=e.props,a=i.formData,o=i.onChange,s=i.errorSchema;n=e.getAvailableKey(n,a);var c=(0,l.Z)({},a),f=(0,u.Z)({},t,n),d=Object.keys(c).map((function(e){var t=f[e]||e;return(0,u.Z)({},t,c[e])})),p=Object.assign.apply(Object,[{}].concat(h(d)));e.setState({wasPropertyKeyModified:!0}),o(p,s&&s&&(0,l.Z)((0,l.Z)({},s),{},(0,u.Z)({},n,r)))}}},e.handleAddClick=function(t){return function(){if(t.additionalProperties){var n=e.props,r=n.formData,i=n.onChange,a=n.registry,o=(0,l.Z)({},r),s=void 0;if(de()(t.additionalProperties)){s=t.additionalProperties.type;var u=t.additionalProperties;if(F in u)s=(u=a.schemaUtils.retrieveSchema({$ref:u[F]},r)).type;s||!(E in u)&&!(I in u)||(s="object")}var c=e.getAvailableKey("newKey",o);Me()(o,c,e.getDefaultValue(s)),i(o)}}},e}return(0,m.Z)(n,[{key:"isRequired",value:function(e){var t=this.props.schema;return Array.isArray(t.required)&&-1!==t.required.indexOf(e)}},{key:"getDefaultValue",value:function(e){var t=this.props.registry.translateString;switch(e){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return t(nn.NewStringDefault)}}},{key:"render",value:function(){var e,t,n,r,i=this,a=this.props,o=a.schema,s=a.uiSchema,u=void 0===s?{}:s,c=a.formData,f=a.errorSchema,d=a.idSchema,p=a.name,m=a.required,v=void 0!==m&&m,g=a.disabled,_=void 0!==g&&g,b=a.readonly,w=void 0!==b&&b,S=a.hideError,E=a.idPrefix,A=a.idSeparator,M=a.onBlur,T=a.onFocus,k=a.registry,C=k.fields,P=k.formContext,R=k.schemaUtils,N=k.translateString,O=k.globalUiOptions,I=C.SchemaField,D=R.retrieveSchema(o,c),U=H(u,O),F=D.properties,j=void 0===F?{}:F,B=null!==(t=null!==(e=U.title)&&void 0!==e?e:D.title)&&void 0!==t?t:p,z=null!==(n=U.description)&&void 0!==n?n:D.description;try{r=function(e,t){if(!Array.isArray(t))return e;var n,r=function(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})},i=r(e),a=t.filter((function(e){return"*"===e||i[e]})),o=r(a),s=e.filter((function(e){return!o[e]})),u=a.indexOf("*");if(-1===u){if(s.length)throw new Error("uiSchema order list does not contain ".concat((n=s).length>1?"properties '".concat(n.join("', '"),"'"):"property '".concat(n[0],"'")));return a}if(u!==a.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var l=h(a);return l.splice.apply(l,[u,1].concat(h(s))),l}(Object.keys(j),U.order)}catch(Z){return(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"config-error",style:{color:"red"},children:(0,y.jsx)(xi,{children:N(nn.InvalidObjectField,[p||"root",Z.message])})}),(0,y.jsx)("pre",{children:JSON.stringify(D)})]})}var V=Dt("ObjectFieldTemplate",k,U),G={title:!1===U.label?"":B,description:!1===U.label?void 0:z,properties:r.map((function(e){var t=ue()(D,[L,e,x]),n=t?u.additionalProperties:u[e],r="hidden"===H(n).widget,a=$()(d,[e],{});return{content:(0,y.jsx)(I,{name:e,required:i.isRequired(e),schema:$()(D,[L,e],{}),uiSchema:n,errorSchema:$()(f,e),idSchema:a,idPrefix:E,idSeparator:A,formData:$()(c,e),formContext:P,wasPropertyKeyModified:i.state.wasPropertyKeyModified,onKeyChange:i.onKeyChange(e),onChange:i.onPropertyChange(e,t),onBlur:M,onFocus:T,registry:k,disabled:_,readonly:w,hideError:S,onDropPropertyClick:i.onDropPropertyClick},e),name:e,readonly:w,disabled:_,required:v,hidden:r}})),readonly:w,disabled:_,required:v,idSchema:d,uiSchema:u,errorSchema:f,schema:D,formData:c,formContext:P,registry:k};return(0,y.jsx)(V,(0,l.Z)((0,l.Z)({},G),{},{onAddClick:this.handleAddClick}))}}]),n}(t.Component),Ai=Ei,Mi=["__errors"],Ti={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function ki(e){var n=e.schema,r=e.idSchema,i=e.uiSchema,a=e.formData,o=e.errorSchema,s=e.idPrefix,u=e.idSeparator,c=e.name,f=e.onChange,d=e.onKeyChange,h=e.onDropPropertyClick,p=e.required,m=e.registry,v=e.wasPropertyKeyModified,g=void 0!==v&&v,_=m.formContext,b=m.schemaUtils,w=m.globalUiOptions,S=H(i,w),E=Dt("FieldTemplate",m,S),A=Dt("DescriptionFieldTemplate",m,S),M=Dt("FieldHelpTemplate",m,S),T=Dt("FieldErrorTemplate",m,S),k=b.retrieveSchema(n,a),C=r[P],R=ut(b.toIdSchema(k,C,a,s,u),r),N=(0,t.useCallback)((function(e,t,n){return f(e,t,n||C)}),[C,f]),O=function(e,t,n,r){var i=t.field,a=r.fields,o=r.translateString;if("function"===typeof i)return i;if("string"===typeof i&&i in a)return a[i];var s=ze(e),u=Array.isArray(s)?s[0]:s||"",l=e.$id,c=Ti[u];return l&&l in a&&(c=l),c||!e.anyOf&&!e.oneOf?c in a?a[c]:function(){var i=Dt("UnsupportedFieldTemplate",r,t);return(0,y.jsx)(i,{schema:e,idSchema:n,reason:o(nn.UnknownFieldType,[String(e.type)]),registry:r})}:function(){return null}}(k,S,R,m),I=Boolean(e.disabled||S.disabled),L=Boolean(e.readonly||S.readonly||e.schema.readOnly||k.readOnly),D=S.hideError,U=void 0===D?e.hideError:Boolean(D),F=Boolean(e.autofocus||S.autofocus);if(0===Object.keys(k).length)return null;var j=b.getDisplayLabel(k,i,w),B=o||{},z=B.__errors,G=Q(B,Mi),Z=ie()(i,["ui:classNames","classNames","ui:style"]);V in Z&&(Z[V]=ie()(Z[V],["classNames","style"]));var W,q=(0,y.jsx)(O,(0,l.Z)((0,l.Z)({},e),{},{onChange:N,idSchema:R,schema:k,uiSchema:Z,disabled:I,readonly:L,hideError:U,autofocus:F,errorSchema:G,formContext:_,rawErrors:z})),X=R[P];W=g||x in k?c:S.title||e.schema.title||k.title||c;var K=S.description||e.schema.description||k.description||"",Y=S.enableMarkdownInDescription?(0,y.jsx)(xi,{children:K}):K,J=S.help,$="hidden"===S.widget,ee=["form-group","field","field-".concat(ze(k))];!U&&z&&z.length>0&&ee.push("field-error has-error has-danger"),(null===i||void 0===i?void 0:i.classNames)&&ee.push(i.classNames),S.classNames&&ee.push(S.classNames);var te=(0,y.jsx)(M,{help:J,idSchema:R,schema:k,uiSchema:i,hasErrors:!U&&z&&z.length>0,registry:m}),ne=U||(k.anyOf||k.oneOf)&&!b.isSelect(k)?void 0:(0,y.jsx)(T,{errors:z,errorSchema:o,idSchema:R,schema:k,uiSchema:i,registry:m}),re={description:(0,y.jsx)(A,{id:Vt(X),description:Y,schema:k,uiSchema:i,registry:m}),rawDescription:K,help:te,rawHelp:"string"===typeof J?J:void 0,errors:ne,rawErrors:U?void 0:z,id:X,label:W,hidden:$,onChange:f,onKeyChange:d,onDropPropertyClick:h,required:p,disabled:I,readonly:L,hideError:U,displayLabel:j,classNames:ee.join(" ").trim(),style:S.style,formContext:_,formData:a,schema:k,uiSchema:i,registry:m},ae=m.fields.AnyOfField,oe=m.fields.OneOfField,se=(null===i||void 0===i?void 0:i["ui:field"])&&!0===(null===i||void 0===i?void 0:i["ui:fieldReplacesAnyOrOneOf"]);return(0,y.jsx)(E,(0,l.Z)((0,l.Z)({},re),{},{children:(0,y.jsxs)(y.Fragment,{children:[q,k.anyOf&&!se&&!b.isSelect(k)&&(0,y.jsx)(ae,{name:c,disabled:I,readonly:L,hideError:U,errorSchema:o,formData:a,formContext:_,idPrefix:s,idSchema:R,idSeparator:u,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:k.anyOf.map((function(e){return b.retrieveSchema(de()(e)?e:{},a)})),registry:m,schema:k,uiSchema:i}),k.oneOf&&!se&&!b.isSelect(k)&&(0,y.jsx)(oe,{name:c,disabled:I,readonly:L,hideError:U,errorSchema:o,formData:a,formContext:_,idPrefix:s,idSchema:R,idSeparator:u,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:k.oneOf.map((function(e){return b.retrieveSchema(de()(e)?e:{},a)})),registry:m,schema:k,uiSchema:i})]})}))}var Ci=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n,[{key:"shouldComponentUpdate",value:function(e){return!Y(this.props,e)}},{key:"render",value:function(){return(0,y.jsx)(ki,(0,l.Z)({},this.props))}}]),n}(t.Component),Pi=Ci,Ri=["widget","placeholder","title"];var Ni=function(e){var t,n=e.schema,r=e.name,i=e.uiSchema,a=e.idSchema,o=e.formData,s=e.required,u=e.disabled,c=void 0!==u&&u,f=e.readonly,d=void 0!==f&&f,h=e.autofocus,p=void 0!==h&&h,m=e.onChange,v=e.onBlur,g=e.onFocus,_=e.registry,b=e.rawErrors,x=e.hideError,w=n.title,S=n.format,E=_.widgets,A=_.formContext,M=_.schemaUtils,T=_.globalUiOptions,k=M.isSelect(n)?Yt(n):void 0,C=k?"select":"text";S&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return Bt(e,t,n),!0}catch(Pn){var r=Pn;if(r.message&&(r.message.startsWith("No widget")||r.message.startsWith("Unsupported widget")))return!1;throw Pn}}(n,S,E)&&(C=S);var P=H(i),R=P.widget,N=void 0===R?C:R,O=P.placeholder,I=void 0===O?"":O,L=P.title,D=Q(P,Ri),U=M.getDisplayLabel(n,i,T),F=null!==(t=null!==L&&void 0!==L?L:w)&&void 0!==t?t:r,j=Bt(n,N,E);return(0,y.jsx)(j,{options:(0,l.Z)((0,l.Z)({},D),{},{enumOptions:k}),schema:n,uiSchema:i,id:a.$id,name:r,label:F,hideLabel:!U,hideError:x,value:o,onChange:m,onBlur:v,onFocus:g,required:s,disabled:c,readonly:d,formContext:A,autofocus:p,registry:_,placeholder:I,rawErrors:b})};var Oi=function(e){var n=e.formData,r=e.onChange;return(0,t.useEffect)((function(){void 0===n&&r(null)}),[n,r]),null};var Ii=function(){return{AnyOfField:An,ArrayField:bn,BooleanField:wn,NumberField:kn,ObjectField:Ai,OneOfField:An,SchemaField:Pi,StringField:Ni,NullField:Oi}};function Li(e){var t=e.idSchema,n=e.description,r=e.registry,i=e.schema,a=e.uiSchema,o=H(a,r.globalUiOptions),s=o.label;if(!n||!(void 0===s||s))return null;var u=Dt("DescriptionFieldTemplate",r,o);return(0,y.jsx)(u,{id:Vt(t),description:n,schema:i,uiSchema:a,registry:r})}function Di(e){var t=e.children,n=e.className,r=e.disabled,i=e.hasToolbar,a=e.hasMoveDown,o=e.hasMoveUp,s=e.hasRemove,u=e.hasCopy,l=e.index,c=e.onCopyIndexClick,f=e.onDropIndexClick,d=e.onReorderClick,h=e.readonly,p=e.registry,m=e.uiSchema,v=p.templates.ButtonTemplates,g=v.CopyButton,_=v.MoveDownButton,b=v.MoveUpButton,x=v.RemoveButton,w={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return(0,y.jsxs)("div",{className:n,children:[(0,y.jsx)("div",{className:i?"col-xs-9":"col-xs-12",children:t}),i&&(0,y.jsx)("div",{className:"col-xs-3 array-item-toolbox",children:(0,y.jsxs)("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(o||a)&&(0,y.jsx)(b,{style:w,disabled:r||h||!o,onClick:d(l,l-1),uiSchema:m,registry:p}),(o||a)&&(0,y.jsx)(_,{style:w,disabled:r||h||!a,onClick:d(l,l+1),uiSchema:m,registry:p}),u&&(0,y.jsx)(g,{style:w,disabled:r||h,onClick:c(l),uiSchema:m,registry:p}),s&&(0,y.jsx)(x,{style:w,disabled:r||h,onClick:f(l),uiSchema:m,registry:p})]})})]})}var Ui=["key"];function Fi(e){var t=e.canAdd,n=e.className,r=e.disabled,i=e.idSchema,a=e.uiSchema,o=e.items,s=e.onAddClick,u=e.readonly,c=e.registry,f=e.required,d=e.schema,h=e.title,p=H(a),m=Dt("ArrayFieldDescriptionTemplate",c,p),v=Dt("ArrayFieldItemTemplate",c,p),g=Dt("ArrayFieldTitleTemplate",c,p),_=c.templates.ButtonTemplates.AddButton;return(0,y.jsxs)("fieldset",{className:n,id:i.$id,children:[(0,y.jsx)(g,{idSchema:i,title:p.title||h,required:f,schema:d,uiSchema:a,registry:c}),(0,y.jsx)(m,{idSchema:i,description:p.description||d.description,schema:d,uiSchema:a,registry:c}),(0,y.jsx)("div",{className:"row array-item-list",children:o&&o.map((function(e){var t=e.key,n=Q(e,Ui);return(0,y.jsx)(v,(0,l.Z)({},n),t)}))}),t&&(0,y.jsx)(_,{className:"array-item-add",onClick:s,disabled:r||u,uiSchema:a,registry:c})]})}function ji(e){var t=e.idSchema,n=e.title,r=e.schema,i=e.uiSchema,a=e.required,o=e.registry,s=H(i,o.globalUiOptions),u=s.label;if(!n||!(void 0===u||u))return null;var l=Dt("TitleFieldTemplate",o,s);return(0,y.jsx)(l,{id:Wt(t),title:n,required:a,schema:r,uiSchema:i,registry:o})}var Bi=["id","name","value","readonly","disabled","autofocus","onBlur","onFocus","onChange","onChangeOverride","options","schema","uiSchema","formContext","registry","rawErrors","type","hideLabel","hideError"];function zi(e){var n=e.id,r=(e.name,e.value),i=e.readonly,a=e.disabled,o=e.autofocus,s=e.onBlur,u=e.onFocus,c=e.onChange,f=e.onChangeOverride,d=e.options,h=e.schema,p=(e.uiSchema,e.formContext,e.registry,e.rawErrors,e.type),m=(e.hideLabel,e.hideError,Q(e,Bi));if(!n)throw console.log("No id for",e),new Error("no id for props ".concat(JSON.stringify(e)));var v,g=(0,l.Z)((0,l.Z)({},m),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=(0,l.Z)({type:t||"text"},function(e){var t={};return e.multipleOf&&(t.step=e.multipleOf),(e.minimum||0===e.minimum)&&(t.min=e.minimum),(e.maximum||0===e.maximum)&&(t.max=e.maximum),t}(e));return n.inputType?i.type=n.inputType:t||("number"===e.type?(i.type="number",r&&void 0===i.step&&(i.step="any")):"integer"===e.type&&(i.type="number",void 0===i.step&&(i.step=1))),n.autocomplete&&(i.autoComplete=n.autocomplete),i}(h,p,d));v="number"===g.type||"integer"===g.type?r||0===r?r:"":null==r?"":r;var _=(0,t.useCallback)((function(e){var t=e.target.value;return c(""===t?d.emptyValue:t)}),[c,d]),b=(0,t.useCallback)((function(e){var t=e.target.value;return s(n,t)}),[s,n]),x=(0,t.useCallback)((function(e){var t=e.target.value;return u(n,t)}),[u,n]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("input",(0,l.Z)((0,l.Z)({id:n,name:n,className:"form-control",readOnly:i,disabled:a,autoFocus:o,value:v},g),{},{list:h.examples?Gt(n):void 0,onChange:f||_,onBlur:b,onFocus:x,"aria-describedby":qt(n,!!h.examples)})),Array.isArray(h.examples)&&(0,y.jsx)("datalist",{id:Gt(n),children:h.examples.concat(h.default&&!h.examples.includes(h.default)?[h.default]:[]).map((function(e){return(0,y.jsx)("option",{value:e},e)}))},"datalist_".concat(n))]})}function Vi(e){var t=function(){var e=H(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});if(e&&e[U]){var t=e[U];return(0,l.Z)((0,l.Z)({},Lt),t)}return Lt}(e.uiSchema),n=t.submitText,r=t.norender,i=t.props,a=void 0===i?{}:i;return r?null:(0,y.jsx)("div",{children:(0,y.jsx)("button",(0,l.Z)((0,l.Z)({type:"submit"},a),{},{className:"btn btn-info ".concat(a.className||""),children:n}))})}var Hi=["iconType","icon","className","uiSchema","registry"];function Gi(e){var t=e.iconType,n=void 0===t?"default":t,r=e.icon,i=e.className,a=(e.uiSchema,e.registry,Q(e,Hi));return(0,y.jsx)("button",(0,l.Z)((0,l.Z)({type:"button",className:"btn btn-".concat(n," ").concat(i)},a),{},{children:(0,y.jsx)("i",{className:"glyphicon glyphicon-".concat(r)})}))}function Zi(e){var t=e.registry.translateString;return(0,y.jsx)(Gi,(0,l.Z)((0,l.Z)({title:t(nn.CopyButton),className:"array-item-copy"},e),{},{icon:"copy"}))}function Wi(e){var t=e.registry.translateString;return(0,y.jsx)(Gi,(0,l.Z)((0,l.Z)({title:t(nn.MoveDownButton),className:"array-item-move-down"},e),{},{icon:"arrow-down"}))}function qi(e){var t=e.registry.translateString;return(0,y.jsx)(Gi,(0,l.Z)((0,l.Z)({title:t(nn.MoveUpButton),className:"array-item-move-up"},e),{},{icon:"arrow-up"}))}function Xi(e){var t=e.registry.translateString;return(0,y.jsx)(Gi,(0,l.Z)((0,l.Z)({title:t(nn.RemoveButton),className:"array-item-remove"},e),{},{iconType:"danger",icon:"remove"}))}function Ki(e){var t=e.className,n=e.onClick,r=e.disabled,i=e.registry,a=i.translateString;return(0,y.jsx)("div",{className:"row",children:(0,y.jsx)("p",{className:"col-xs-3 col-xs-offset-9 text-right ".concat(t),children:(0,y.jsx)(Gi,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:a(nn.AddButton),onClick:n,disabled:r,registry:i})})})}var Yi=function(){return{SubmitButton:Vi,AddButton:Ki,CopyButton:Zi,MoveDownButton:Wi,MoveUpButton:qi,RemoveButton:Xi}};function Qi(e){var t=e.id,n=e.description;return n?"string"===typeof n?(0,y.jsx)("p",{id:t,className:"field-description",children:n}):(0,y.jsx)("div",{id:t,className:"field-description",children:n}):null}function Ji(e){var t=e.errors,n=e.registry.translateString;return(0,y.jsxs)("div",{className:"panel panel-danger errors",children:[(0,y.jsx)("div",{className:"panel-heading",children:(0,y.jsx)("h3",{className:"panel-title",children:n(nn.ErrorsLabel)})}),(0,y.jsx)("ul",{className:"list-group",children:t.map((function(e,t){return(0,y.jsx)("li",{className:"list-group-item text-danger",children:e.stack},t)}))})]})}var $i="*";function ea(e){var t=e.label,n=e.required,r=e.id;return t?(0,y.jsxs)("label",{className:"control-label",htmlFor:r,children:[t,n&&(0,y.jsx)("span",{className:"required",children:$i})]}):null}var ta=function(e){var t=e.id,n=e.label,r=e.children,i=e.errors,a=e.help,o=e.description,s=e.hidden,u=e.required,c=e.displayLabel,f=Dt("WrapIfAdditionalTemplate",e.registry,H(e.uiSchema));return s?(0,y.jsx)("div",{className:"hidden",children:r}):(0,y.jsxs)(f,(0,l.Z)((0,l.Z)({},e),{},{children:[c&&(0,y.jsx)(ea,{label:n,required:u,id:t}),c&&o?o:null,r,i,a]}))};function na(e){var t=e.errors,n=void 0===t?[]:t,r=e.idSchema;if(0===n.length)return null;var i=Ht(r);return(0,y.jsx)("div",{children:(0,y.jsx)("ul",{id:i,className:"error-detail bs-callout bs-callout-info",children:n.filter((function(e){return!!e})).map((function(e,t){return(0,y.jsx)("li",{className:"text-danger",children:e},t)}))})})}function ra(e){var t=e.idSchema,n=e.help;if(!n)return null;var r=Zt(t);return"string"===typeof n?(0,y.jsx)("p",{id:r,className:"help-block",children:n}):(0,y.jsx)("div",{id:r,className:"help-block",children:n})}function ia(e){var t=e.description,n=e.disabled,r=e.formData,i=e.idSchema,a=e.onAddClick,o=e.properties,s=e.readonly,u=e.registry,l=e.required,c=e.schema,f=e.title,d=e.uiSchema,h=H(d),p=Dt("TitleFieldTemplate",u,h),m=Dt("DescriptionFieldTemplate",u,h),v=u.templates.ButtonTemplates.AddButton;return(0,y.jsxs)("fieldset",{id:i.$id,children:[f&&(0,y.jsx)(p,{id:Wt(i),title:f,required:l,schema:c,uiSchema:d,registry:u}),t&&(0,y.jsx)(m,{id:Vt(i),description:t,schema:c,uiSchema:d,registry:u}),o.map((function(e){return e.content})),G(c,d,r)&&(0,y.jsx)(v,{className:"object-property-expand",onClick:a(c),disabled:n||s,uiSchema:d,registry:u})]})}var aa="*";function oa(e){var t=e.id,n=e.title,r=e.required;return(0,y.jsxs)("legend",{id:t,children:[n,r&&(0,y.jsx)("span",{className:"required",children:aa})]})}var sa=function(e){var t=e.schema,n=e.idSchema,r=e.reason,i=e.registry.translateString,a=nn.UnsupportedField,o=[];return n&&n.$id&&(a=nn.UnsupportedFieldWithId,o.push(n.$id)),r&&(a=a===nn.UnsupportedField?nn.UnsupportedFieldWithReason:nn.UnsupportedFieldWithIdAndReason,o.push(r)),(0,y.jsxs)("div",{className:"unsupported-field",children:[(0,y.jsx)("p",{children:(0,y.jsx)(xi,{children:i(a,o)})}),t&&(0,y.jsx)("pre",{children:JSON.stringify(t,null,2)})]})};function ua(e){var t=e.id,n=e.classNames,r=e.style,i=e.disabled,a=e.label,o=e.onKeyChange,s=e.onDropPropertyClick,u=e.readonly,l=e.required,c=e.schema,f=e.children,d=e.uiSchema,h=e.registry,p=h.templates,m=h.translateString,v=p.ButtonTemplates.RemoveButton,g=m(nn.KeyLabel,[a]);return x in c?(0,y.jsx)("div",{className:n,style:r,children:(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-xs-5 form-additional",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)(ea,{label:g,required:l,id:"".concat(t,"-key")}),(0,y.jsx)("input",{className:"form-control",type:"text",id:"".concat(t,"-key"),onBlur:function(e){return o(e.target.value)},defaultValue:a})]})}),(0,y.jsx)("div",{className:"form-additional form-group col-xs-5",children:f}),(0,y.jsx)("div",{className:"col-xs-2",children:(0,y.jsx)(v,{className:"array-item-remove btn-block",style:{border:"0"},disabled:i||u,onClick:s(a),uiSchema:d,registry:h})})]})}):(0,y.jsx)("div",{className:n,style:r,children:f})}var la=function(){return{ArrayFieldDescriptionTemplate:Li,ArrayFieldItemTemplate:Di,ArrayFieldTemplate:Fi,ArrayFieldTitleTemplate:ji,ButtonTemplates:Yi(),BaseInputTemplate:zi,DescriptionFieldTemplate:Qi,ErrorListTemplate:Ji,FieldTemplate:ta,FieldErrorTemplate:na,FieldHelpTemplate:ra,ObjectFieldTemplate:ia,TitleFieldTemplate:oa,UnsupportedFieldTemplate:sa,WrapIfAdditionalTemplate:ua}};function ca(e,t){for(var n=[],r=e;r<=t;r++)n.push({value:r,label:Qt(r,2)});return n}function fa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1900,(new Date).getFullYear()+2],r=e.year,i=e.month,a=e.day,o=e.hour,s=e.minute,u=e.second,l=[{type:"year",range:n,value:r},{type:"month",range:[1,12],value:i},{type:"day",range:[1,31],value:a}];return t&&l.push({type:"hour",range:[0,23],value:o},{type:"minute",range:[0,59],value:s},{type:"second",range:[0,59],value:u}),l}function da(e){var t=e.type,n=e.range,r=e.value,i=e.select,a=e.rootId,o=e.name,s=e.disabled,u=e.readonly,l=e.autofocus,c=e.registry,f=e.onBlur,d=e.onFocus,h=a+"_"+t,p=c.widgets.SelectWidget;return(0,y.jsx)(p,{schema:{type:"integer"},id:h,name:o,className:"form-control",options:{enumOptions:ca(n[0],n[1])},placeholder:t,value:r,disabled:s,readonly:u,autofocus:l,onChange:function(e){return i(t,e)},onBlur:f,onFocus:d,registry:c,label:"","aria-describedby":qt(a)})}var ha=function(e){var n=e.time,r=void 0!==n&&n,a=e.disabled,o=void 0!==a&&a,s=e.readonly,c=void 0!==s&&s,f=e.autofocus,d=void 0!==f&&f,h=e.options,p=e.id,m=e.name,v=e.registry,g=e.onBlur,_=e.onFocus,b=e.onChange,x=e.value,w=v.translateString,S=(0,t.useState)(x),E=(0,i.Z)(S,2),A=E[0],M=E[1],T=(0,t.useReducer)((function(e,t){return(0,l.Z)((0,l.Z)({},e),t)}),Jt(x,r)),k=(0,i.Z)(T,2),C=k[0],P=k[1];(0,t.useEffect)((function(){var e=en(C,r);!function(e){return Object.values(e).every((function(e){return-1!==e}))}(C)||e===x?A!==x&&(M(x),P(Jt(x,r))):b(e)}),[r,x,b,C,A]);var R=(0,t.useCallback)((function(e,t){P((0,u.Z)({},e,t))}),[]),N=(0,t.useCallback)((function(e){if(e.preventDefault(),!o&&!c){var t=Jt((new Date).toJSON(),r);b(en(t,r))}}),[o,c,r]),O=(0,t.useCallback)((function(e){e.preventDefault(),o||c||b(void 0)}),[o,c,b]);return(0,y.jsxs)("ul",{className:"list-inline",children:[fa(C,r,h.yearsRange).map((function(e,t){return(0,y.jsx)("li",{className:"list-inline-item",children:(0,y.jsx)(da,(0,l.Z)((0,l.Z)({rootId:p,name:m,select:R},e),{},{disabled:o,readonly:c,registry:v,onBlur:g,onFocus:_,autofocus:d&&0===t}))},t)})),("undefined"===h.hideNowButton||!h.hideNowButton)&&(0,y.jsx)("li",{className:"list-inline-item",children:(0,y.jsx)("a",{href:"#",className:"btn btn-info btn-now",onClick:N,children:w(nn.NowLabel)})}),("undefined"===h.hideClearButton||!h.hideClearButton)&&(0,y.jsx)("li",{className:"list-inline-item",children:(0,y.jsx)("a",{href:"#",className:"btn btn-warning btn-clear",onClick:O,children:w(nn.ClearLabel)})})]})},pa=["time"];var ma=function(e){var t=e.time,n=void 0===t||t,r=Q(e,pa),i=r.registry.widgets.AltDateWidget;return(0,y.jsx)(i,(0,l.Z)({time:n},r))};var va=function(e){var n,r=e.schema,i=e.uiSchema,a=e.options,o=e.id,s=e.value,u=e.disabled,l=e.readonly,c=e.label,f=e.hideLabel,d=e.autofocus,h=void 0!==d&&d,p=e.onBlur,m=e.onFocus,v=e.onChange,g=e.registry,_=Dt("DescriptionFieldTemplate",g,a),b=$t(r),x=(0,t.useCallback)((function(e){return v(e.target.checked)}),[v]),w=(0,t.useCallback)((function(e){return p(o,e.target.checked)}),[p,o]),S=(0,t.useCallback)((function(e){return m(o,e.target.checked)}),[m,o]),E=null!==(n=a.description)&&void 0!==n?n:r.description;return(0,y.jsxs)("div",{className:"checkbox ".concat(u||l?"disabled":""),children:[!f&&!!E&&(0,y.jsx)(_,{id:Vt(o),description:E,schema:r,uiSchema:i,registry:g}),(0,y.jsxs)("label",{children:[(0,y.jsx)("input",{type:"checkbox",id:o,name:o,checked:"undefined"!==typeof s&&s,required:b,disabled:u||l,autoFocus:h,onChange:x,onBlur:w,onFocus:S,"aria-describedby":qt(o)}),Kt((0,y.jsx)("span",{children:c}),f)]})]})};var ga=function(e){var n=e.id,r=e.disabled,i=e.options,a=i.inline,o=void 0!==a&&a,s=i.enumOptions,u=i.enumDisabled,l=i.emptyValue,c=e.value,f=e.autofocus,d=void 0!==f&&f,h=e.readonly,p=e.onChange,m=e.onBlur,v=e.onFocus,g=Array.isArray(c)?c:[c],_=(0,t.useCallback)((function(e){var t=e.target.value;return m(n,kt(t,s,l))}),[m,n]),b=(0,t.useCallback)((function(e){var t=e.target.value;return v(n,kt(t,s,l))}),[v,n]);return(0,y.jsx)("div",{className:"checkboxes",id:n,children:Array.isArray(s)&&s.map((function(e,t){var i=Ct(e.value,g),a=Array.isArray(u)&&-1!==u.indexOf(e.value),l=r||a||h?"disabled":"",c=(0,y.jsxs)("span",{children:[(0,y.jsx)("input",{type:"checkbox",id:Xt(n,t),name:n,checked:i,value:String(t),disabled:r||a||h,autoFocus:d&&0===t,onChange:function(e){e.target.checked?p(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=kt(e,n);if(!Rt()(r)){var i=n.findIndex((function(e){return r===e.value})),a=n.map((function(e){return e.value}));return t.slice(0,i).concat(r,t.slice(i)).sort((function(e,t){return Number(a.indexOf(e)>a.indexOf(t))}))}return t}(t,g,s)):p(function(e,t){var n=kt(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);return Array.isArray(t)?t.filter((function(e){return!Ee()(e,n)})):Ee()(n,t)?void 0:t}(t,g,s))},onBlur:_,onFocus:b,"aria-describedby":qt(n)}),(0,y.jsx)("span",{children:e.label})]});return o?(0,y.jsx)("label",{className:"checkbox-inline ".concat(l),children:c},t):(0,y.jsx)("div",{className:"checkbox ".concat(l),children:(0,y.jsx)("label",{children:c})},t)}))})};function ya(e){var t=e.disabled,n=e.readonly,r=e.options,i=Dt("BaseInputTemplate",e.registry,r);return(0,y.jsx)(i,(0,l.Z)((0,l.Z)({type:"color"},e),{},{disabled:t||n}))}function _a(e){var n=e.onChange,r=e.options,i=Dt("BaseInputTemplate",e.registry,r),a=(0,t.useCallback)((function(e){return n(e||void 0)}),[n]);return(0,y.jsx)(i,(0,l.Z)((0,l.Z)({type:"date"},e),{},{onChange:a}))}function ba(e){var t=e.onChange,n=e.value,r=e.options,i=Dt("BaseInputTemplate",e.registry,r);return(0,y.jsx)(i,(0,l.Z)((0,l.Z)({type:"datetime-local"},e),{},{value:sn(n),onChange:function(e){return t((n=e)?new Date(n).toJSON():void 0);var n}}))}function xa(e){var t=e.options,n=Dt("BaseInputTemplate",e.registry,t);return(0,y.jsx)(n,(0,l.Z)({type:"email"},e))}function wa(e,t){return null===e?null:e.replace(";base64",";name=".concat(encodeURIComponent(t),";base64"))}function Sa(e){var t=e.name,n=e.size,r=e.type;return new Promise((function(i,a){var o=new window.FileReader;o.onerror=a,o.onload=function(e){var a;"string"===typeof(null===(a=e.target)||void 0===a?void 0:a.result)?i({dataURL:wa(e.target.result,t),name:t,size:n,type:r}):i({dataURL:null,name:t,size:n,type:r})},o.readAsDataURL(e)}))}function Ea(e){var t=e.fileInfo,n=e.registry.translateString,r=t.dataURL,i=t.type,a=t.name;return r?-1!==i.indexOf("image")?(0,y.jsx)("img",{src:r,style:{maxWidth:"100%"},className:"file-preview"}):(0,y.jsxs)(y.Fragment,{children:[" ",(0,y.jsx)("a",{download:"preview-".concat(a),href:r,className:"file-download",children:n(nn.PreviewLabel)})]}):null}function Aa(e){var t=e.filesInfo,n=e.registry,r=e.preview;if(0===t.length)return null;var i=n.translateString;return(0,y.jsx)("ul",{className:"file-info",children:t.map((function(e,t){var a=e.name,o=e.size,s=e.type;return(0,y.jsxs)("li",{children:[(0,y.jsx)(xi,{children:i(nn.FilesInfo,[a,s,String(o)])}),r&&(0,y.jsx)(Ea,{fileInfo:e,registry:n})]},t)}))})}function Ma(e){return e.filter((function(e){return e})).map((function(e){var t=function(e){var t,n=e.split(","),r=n[0].split(";"),i=r[0].replace("data:",""),a=r.filter((function(e){return"name"===e.split("=")[0]}));t=1!==a.length?"unknown":decodeURI(a[0].split("=")[1]);try{for(var o=atob(n[1]),s=[],u=0;u<o.length;u++)s.push(o.charCodeAt(u));return{blob:new window.Blob([new Uint8Array(s)],{type:i}),name:t}}catch(l){return{blob:{size:0,type:l.message},name:e}}}(e),n=t.blob;return{dataURL:e,name:t.name,size:n.size,type:n.type}}))}var Ta=function(e){var n=e.disabled,r=e.readonly,a=e.required,o=e.multiple,s=e.onChange,u=e.value,c=e.options,f=e.registry,d=Dt("BaseInputTemplate",f,c),h=(0,t.useState)(Array.isArray(u)?Ma(u):Ma([u])),p=(0,i.Z)(h,2),m=p[0],v=p[1],g=(0,t.useCallback)((function(e){var t;e.target.files&&(t=e.target.files,Promise.all(Array.from(t).map(Sa))).then((function(e){var t=e.map((function(e){return e.dataURL}));o?(v(m.concat(e[0])),s(u.concat(t[0]))):(v(e),s(t[0]))}))}),[o,u,m,s]);return(0,y.jsxs)("div",{children:[(0,y.jsx)(d,(0,l.Z)((0,l.Z)({},e),{},{disabled:n||r,type:"file",required:!u&&a,onChangeOverride:g,value:"",accept:c.accept?String(c.accept):void 0})),(0,y.jsx)(Aa,{filesInfo:m,registry:f,preview:c.filePreview})]})};var ka=function(e){var t=e.id,n=e.value;return(0,y.jsx)("input",{type:"hidden",id:t,name:t,value:"undefined"===typeof n?"":n})};function Ca(e){var t=e.options,n=Dt("BaseInputTemplate",e.registry,t);return(0,y.jsx)(n,(0,l.Z)({type:"password"},e))}var Pa=function(e){var n=e.options,r=e.value,i=e.required,a=e.disabled,o=e.readonly,s=e.autofocus,u=void 0!==s&&s,l=e.onBlur,c=e.onFocus,f=e.onChange,d=e.id,h=n.enumOptions,p=n.enumDisabled,m=n.inline,v=n.emptyValue,g=(0,t.useCallback)((function(e){var t=e.target.value;return l(d,kt(t,h,v))}),[l,d]),_=(0,t.useCallback)((function(e){var t=e.target.value;return c(d,kt(t,h,v))}),[c,d]);return(0,y.jsx)("div",{className:"field-radio-group",id:d,children:Array.isArray(h)&&h.map((function(e,t){var n=Ct(e.value,r),s=Array.isArray(p)&&-1!==p.indexOf(e.value),l=a||s||o?"disabled":"",c=(0,y.jsxs)("span",{children:[(0,y.jsx)("input",{type:"radio",id:Xt(d,t),checked:n,name:d,required:i,value:String(t),disabled:a||s||o,autoFocus:u&&0===t,onChange:function(){return f(e.value)},onBlur:g,onFocus:_,"aria-describedby":qt(d)}),(0,y.jsx)("span",{children:e.label})]});return m?(0,y.jsx)("label",{className:"radio-inline ".concat(l),children:c},t):(0,y.jsx)("div",{className:"radio ".concat(l),children:(0,y.jsx)("label",{children:c})},t)}))})};function Ra(e){var t=e.value,n=e.registry.templates.BaseInputTemplate;return(0,y.jsxs)("div",{className:"field-range-wrapper",children:[(0,y.jsx)(n,(0,l.Z)({type:"range"},e)),(0,y.jsx)("span",{className:"range-view",children:t})]})}function Na(e,t){return t?Array.from(e.target.options).slice().filter((function(e){return e.selected})).map((function(e){return e.value})):e.target.value}var Oa=function(e){var n=e.schema,r=e.id,i=e.options,a=e.value,o=e.required,s=e.disabled,u=e.readonly,l=e.multiple,c=void 0!==l&&l,f=e.autofocus,d=void 0!==f&&f,h=e.onChange,p=e.onBlur,m=e.onFocus,v=e.placeholder,g=i.enumOptions,_=i.enumDisabled,b=i.emptyValue,x=c?[]:"",w=(0,t.useCallback)((function(e){var t=Na(e,c);return m(r,kt(t,g,b))}),[m,r,n,c,i]),S=(0,t.useCallback)((function(e){var t=Na(e,c);return p(r,kt(t,g,b))}),[p,r,n,c,i]),E=(0,t.useCallback)((function(e){var t=Na(e,c);return h(kt(t,g,b))}),[h,n,c,i]),A=function(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map((function(t,n){return Ct(t.value,e)?String(n):void 0})).filter((function(e){return"undefined"!==typeof e}));return t?n:n[0]}(a,g,c);return(0,y.jsxs)("select",{id:r,name:r,multiple:c,className:"form-control",value:"undefined"===typeof A?x:A,required:o,disabled:s||u,autoFocus:d,onBlur:S,onFocus:w,onChange:E,"aria-describedby":qt(r),children:[!c&&void 0===n.default&&(0,y.jsx)("option",{value:"",children:v}),Array.isArray(g)&&g.map((function(e,t){var n=e.value,r=e.label,i=_&&-1!==_.indexOf(n);return(0,y.jsx)("option",{value:String(t),disabled:i,children:r},t)}))]})};function Ia(e){var n=e.id,r=e.options,i=void 0===r?{}:r,a=e.placeholder,o=e.value,s=e.required,u=e.disabled,l=e.readonly,c=e.autofocus,f=void 0!==c&&c,d=e.onChange,h=e.onBlur,p=e.onFocus,m=(0,t.useCallback)((function(e){var t=e.target.value;return d(""===t?i.emptyValue:t)}),[d,i.emptyValue]),v=(0,t.useCallback)((function(e){var t=e.target.value;return h(n,t)}),[h,n]),g=(0,t.useCallback)((function(e){var t=e.target.value;return p(n,t)}),[n,p]);return(0,y.jsx)("textarea",{id:n,name:n,className:"form-control",value:o||"",placeholder:a,required:s,disabled:u,readOnly:l,autoFocus:f,rows:i.rows,onBlur:v,onFocus:g,onChange:m,"aria-describedby":qt(n)})}Ia.defaultProps={autofocus:!1,options:{}};var La=Ia;function Da(e){var t=e.options,n=Dt("BaseInputTemplate",e.registry,t);return(0,y.jsx)(n,(0,l.Z)({},e))}function Ua(e){var n=e.onChange,r=e.options,i=Dt("BaseInputTemplate",e.registry,r),a=(0,t.useCallback)((function(e){return n(e?"".concat(e,":00"):void 0)}),[n]);return(0,y.jsx)(i,(0,l.Z)((0,l.Z)({type:"time"},e),{},{onChange:a}))}function Fa(e){var t=e.options,n=Dt("BaseInputTemplate",e.registry,t);return(0,y.jsx)(n,(0,l.Z)({type:"url"},e))}function ja(e){var t=e.options,n=Dt("BaseInputTemplate",e.registry,t);return(0,y.jsx)(n,(0,l.Z)({type:"number"},e))}var Ba=function(){return{AltDateWidget:ha,AltDateTimeWidget:ma,CheckboxWidget:va,CheckboxesWidget:ga,ColorWidget:ya,DateWidget:_a,DateTimeWidget:ba,EmailWidget:xa,FileWidget:Ta,HiddenWidget:ka,PasswordWidget:Ca,RadioWidget:Pa,RangeWidget:Ra,SelectWidget:Oa,TextWidget:Da,TextareaWidget:La,TimeWidget:Ua,UpDownWidget:ja,URLWidget:Fa}};var za=function(e){(0,v.Z)(r,e);var n=(0,g.Z)(r);function r(e){var i;if((0,p.Z)(this,r),(i=n.call(this,e)).getUsedFormData=function(e,t){if(0===t.length&&"object"!==typeof e)return e;var n=fn()(e,t);return Array.isArray(e)?Object.keys(n).map((function(e){return n[e]})):n},i.getFieldNames=function(e,t){return function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[[]];return Object.keys(n).forEach((function(a){if("object"===typeof n[a]){var o=i.map((function(e){return[].concat(h(e),[a])}));n[a][j]&&""!==n[a][O]?r.push(n[a][O]):e(n[a],r,o)}else a===O&&""!==n[a]&&i.forEach((function(e){var n=$()(t,e);("object"!==typeof n||te()(n)||Array.isArray(n)&&n.every((function(e){return"object"!==typeof e})))&&r.push(e)}))})),r}(e)},i.onChange=function(e,t,n){var r=i.props,a=r.extraErrors,o=r.omitExtraData,s=r.liveOmit,u=r.noValidate,c=r.liveValidate,f=r.onChange,d=i.state,h=d.schemaUtils,p=d.schema,m=d.retrievedSchema;(_(e)||Array.isArray(e))&&(e=i.getStateFromProps(i.props,e,m).formData);var v,g=!u&&c,y={formData:e,schema:p},b=e;if(!0===o&&!0===s){v=h.retrieveSchema(p,e);var x=h.toPathSchema(v,"",e),w=i.getFieldNames(x,e);b=i.getUsedFormData(e,w),y={formData:b}}if(g){var S=i.validate(b,p,h,m),E=S.errors,A=S.errorSchema,M=E,T=A;if(a){var k=un(S,a);A=k.errorSchema,E=k.errors}y={formData:b,errors:E,errorSchema:A,schemaValidationErrors:M,schemaValidationErrorSchema:T}}else if(!u&&t){var C=a?ut(t,a,"preventDuplicates"):t;y={formData:b,errorSchema:C,errors:tn(C)}}v&&(y.retrievedSchema=v),i.setState(y,(function(){return f&&f((0,l.Z)((0,l.Z)({},i.state),y),n)}))},i.reset=function(){var e=i.props.onChange,t={formData:i.getStateFromProps(i.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};i.setState(t,(function(){return e&&e((0,l.Z)((0,l.Z)({},i.state),t))}))},i.onBlur=function(e,t){var n=i.props.onBlur;n&&n(e,t)},i.onFocus=function(e,t){var n=i.props.onFocus;n&&n(e,t)},i.onSubmit=function(e){if(e.preventDefault(),e.target===e.currentTarget){e.persist();var t=i.props,n=t.omitExtraData,r=t.extraErrors,a=t.noValidate,o=t.onSubmit,s=i.state.formData,u=i.state,c=u.schema,f=u.schemaUtils;if(!0===n){var d=f.retrieveSchema(c,s),h=f.toPathSchema(d,"",s),p=i.getFieldNames(h,s);s=i.getUsedFormData(s,p)}if(a||i.validateForm()){var m=r||{},v=r?tn(r):[];i.setState({formData:s,errors:v,errorSchema:m,schemaValidationErrors:[],schemaValidationErrorSchema:{}},(function(){o&&o((0,l.Z)((0,l.Z)({},i.state),{},{formData:s,status:"submitted"}),e)}))}}},!e.validator)throw new Error("A validator is required for Form functionality to work");return i.state=i.getStateFromProps(e,e.formData),i.props.onChange&&!Y(i.state.formData,i.props.formData)&&i.props.onChange(i.state),i.formElement=(0,t.createRef)(),i}return(0,m.Z)(r,[{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!Y(this.props,e)){var n=this.getStateFromProps(this.props,this.props.formData,e.schema!==this.props.schema?void 0:this.state.retrievedSchema);return{nextState:n,shouldUpdate:!Y(n,t)}}return{shouldUpdate:!1}}},{key:"componentDidUpdate",value:function(e,t,n){if(n.shouldUpdate){var r=n.nextState;Y(r.formData,this.props.formData)||Y(r.formData,t.formData)||!this.props.onChange||this.props.onChange(r),this.setState(r)}}},{key:"getStateFromProps",value:function(e,t,n){var r=this.state||{},i="schema"in e?e.schema:this.props.schema,a=("uiSchema"in e?e.uiSchema:this.props.uiSchema)||{},o="undefined"!==typeof t,s="liveValidate"in e?e.liveValidate:this.props.liveValidate,u=o&&!e.noValidate&&s,l=i,c="experimental_defaultFormStateBehavior"in e?e.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,f=r.schemaUtils;f&&!f.doesSchemaUtilsDiffer(e.validator,l,c)||(f=function(e,t){return new Mt(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}(e.validator,l,c));var d,h,p=f.getDefaultFormState(i,t),m=null!==n&&void 0!==n?n:f.retrieveSchema(i,p),v=r.schemaValidationErrors,g=r.schemaValidationErrorSchema;if(u){var y=this.validate(p,i,f,m);v=d=y.errors,g=h=y.errorSchema}else{var _=e.noValidate?{errors:[],errorSchema:{}}:e.liveValidate?{errors:r.errors||[],errorSchema:r.errorSchema||{}}:{errors:r.schemaValidationErrors||[],errorSchema:r.schemaValidationErrorSchema||{}};d=_.errors,h=_.errorSchema}if(e.extraErrors){var b=un({errorSchema:h,errors:d},e.extraErrors);h=b.errorSchema,d=b.errors}var x=f.toIdSchema(m,a["ui:rootFieldId"],p,e.idPrefix,e.idSeparator);return{schemaUtils:f,schema:i,uiSchema:a,idSchema:x,formData:p,edit:o,errors:d,errorSchema:h,schemaValidationErrors:v,schemaValidationErrorSchema:g,retrievedSchema:m}}},{key:"shouldComponentUpdate",value:function(e,t){return function(e,t,n){var r=e.props,i=e.state;return!Y(r,t)||!Y(i,n)}(this,e,t)}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.schema,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=n||this.state.schemaUtils,a=this.props,o=a.customValidate,s=a.transformErrors,u=a.uiSchema,l=null!==r&&void 0!==r?r:i.retrieveSchema(t,e);return i.getValidator().validateFormData(e,l,o,s,u)}},{key:"renderErrors",value:function(e){var t=this.state,n=t.errors,r=t.errorSchema,i=t.schema,a=t.uiSchema,o=this.props.formContext,s=Dt("ErrorListTemplate",e,H(a));return n&&n.length?(0,y.jsx)(s,{errors:n,errorSchema:r||{},schema:i,uiSchema:a,formContext:o,registry:e}):null}},{key:"getRegistry",value:function(){var e,t=this.props,n=t.translateString,r=t.uiSchema,i=void 0===r?{}:r,a=this.state.schemaUtils,o={fields:Ii(),templates:la(),widgets:Ba(),rootSchema:{},formContext:{},translateString:Tt},s=o.fields,u=o.templates,c=o.widgets,f=o.formContext,d=o.translateString;return{fields:(0,l.Z)((0,l.Z)({},s),this.props.fields),templates:(0,l.Z)((0,l.Z)((0,l.Z)({},u),this.props.templates),{},{ButtonTemplates:(0,l.Z)((0,l.Z)({},u.ButtonTemplates),null===(e=this.props.templates)||void 0===e?void 0:e.ButtonTemplates)}),widgets:(0,l.Z)((0,l.Z)({},c),this.props.widgets),rootSchema:this.props.schema,formContext:this.props.formContext||f,schemaUtils:a,translateString:n||d,globalUiOptions:i["ui:globalOptions"]}}},{key:"submit",value:function(){this.formElement.current&&(this.formElement.current.dispatchEvent(new CustomEvent("submit",{cancelable:!0})),this.formElement.current.requestSubmit())}},{key:"focusOnError",value:function(e){var t=this.props,n=t.idPrefix,r=void 0===n?"root":n,i=t.idSeparator,a=void 0===i?"_":i,o=e.property,s=an()(o);""===s[0]?s[0]=r:s.unshift(r);var u=s.join(a),l=this.formElement.current.elements[u];l||(l=this.formElement.current.querySelector("input[id^=".concat(u))),l&&l.length&&(l=l[0]),l&&l.focus()}},{key:"validateForm",value:function(){var e=this.props,t=e.extraErrors,n=e.extraErrorsBlockSubmit,r=e.focusOnFirstError,i=e.onError,a=this.state,o=a.formData,s=a.errors,u=this.validate(o),l=u.errors,c=u.errorSchema,f=l,d=c,h=l.length>0||t&&n;if(h){if(t){var p=un(u,t);c=p.errorSchema,l=p.errors}r&&("function"===typeof r?r(l[0]):this.focusOnError(l[0])),this.setState({errors:l,errorSchema:c,schemaValidationErrors:f,schemaValidationErrorSchema:d},(function(){i?i(l):console.error("Form validation failed",l)}))}else s.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!h}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.id,r=e.idPrefix,i=e.idSeparator,a=e.className,o=void 0===a?"":a,s=e.tagName,c=e.name,f=e.method,d=e.target,h=e.action,p=e.autoComplete,m=e.enctype,v=e.acceptcharset,g=e.noHtml5Validate,_=void 0!==g&&g,b=e.disabled,x=void 0!==b&&b,w=e.readonly,S=void 0!==w&&w,E=e.formContext,A=e.showErrorList,M=void 0===A?"top":A,T=e._internalFormWrapper,k=this.state,C=k.schema,P=k.uiSchema,R=k.formData,N=k.errorSchema,O=k.idSchema,I=this.getRegistry(),L=I.fields.SchemaField,D=I.templates.ButtonTemplates.SubmitButton,F=T?s:void 0,j=T||s||"form",B=H(P)[U],z=void 0===B?{}:B;x&&(z=(0,l.Z)((0,l.Z)({},z),{},{props:(0,l.Z)((0,l.Z)({},z.props),{},{disabled:!0})}));var G=(0,u.Z)({},V,(0,u.Z)({},U,z));return(0,y.jsxs)(j,{className:o||"rjsf",id:n,name:c,method:f,target:d,action:h,autoComplete:p,encType:m,acceptCharset:v,noValidate:_,onSubmit:this.onSubmit,as:F,ref:this.formElement,children:["top"===M&&this.renderErrors(I),(0,y.jsx)(L,{name:"",schema:C,uiSchema:P,errorSchema:N,idSchema:O,idPrefix:r,idSeparator:i,formContext:E,formData:R,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:I,disabled:x,readonly:S}),t||(0,y.jsx)(D,{uiSchema:G,registry:I}),"bottom"===M&&this.renderErrors(I)]})}}]),r}(t.Component);var Va=za,Ha=n(5254),Ga=n.n(Ha),Za=n(429),Wa=n.n(Za),qa={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0},Xa=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,Ka=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;var Ya=["instancePath","keyword","params","schemaPath","parentSchema"];function Qa(e,t,n,r,i,a,o){var s=t.validationError,u=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(t){var n=t.instancePath,r=t.keyword,i=t.params,a=t.schemaPath,o=t.parentSchema,s=Q(t,Ya).message,u=void 0===s?"":s,l=n.replace(/\//g,"."),c="".concat(l," ").concat(u).trim();if("missingProperty"in i){l=l?"".concat(l,".").concat(i.missingProperty):i.missingProperty;var f=i.missingProperty,d=H($()(e,"".concat(l.replace(/^\./,"")))).title;if(d)u=u.replace(f,d);else{var h=$()(o,[L,f,"title"]);h&&(u=u.replace(f,h))}c=u}else{var p=H($()(e,"".concat(l.replace(/^\./,"")))).title;if(p)c="'".concat(p,"' ").concat(u).trim();else{var m=null===o||void 0===o?void 0:o.title;m&&(c="'".concat(m,"' ").concat(u).trim())}}return{name:r,property:l,message:u,params:i,stack:c,schemaPath:a}}))}(t.errors,o);s&&(u=[].concat(h(u),[{stack:s.message}])),"function"===typeof a&&(u=a(u,o));var c=function(e){var t=new It;return e.length&&e.forEach((function(e){var n=e.property,r=e.message,i="."===n?[]:an()(n);i.length>0&&""===i[0]&&i.splice(0,1),r&&t.addErrors(r,i)})),t.ErrorSchema}(u);if(s&&(c=(0,l.Z)((0,l.Z)({},c),{},{$schema:{__errors:[s.message]}})),"function"!==typeof i)return{errors:u,errorSchema:c};var f=gt(e,r,n,r,!0);return un({errors:u,errorSchema:c},on(i(f,q(f),o)))}var Ja=function(){function e(t,n){(0,p.Z)(this,e);var r=t.additionalMetaSchemas,i=t.customFormats,a=t.ajvOptionsOverrides,o=t.ajvFormatOptions,s=t.AjvClass;this.ajv=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=new(arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ga())((0,l.Z)((0,l.Z)({},qa),n));return r?Wa()(i,r):!1!==r&&Wa()(i),i.addFormat("data-url",Ka),i.addFormat("color",Xa),i.addKeyword(x),i.addKeyword(j),Array.isArray(e)&&i.addMetaSchema(e),de()(t)&&Object.keys(t).forEach((function(e){i.addFormat(e,t[e])})),i}(r,i,a,o,s),this.localizer=n}return(0,m.Z)(e,[{key:"toErrorList",value:function(e){return tn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])}},{key:"rawValidation",value:function(e,t){var n,r,i=void 0;e[P]&&(n=this.ajv.getSchema(e[P]));try{void 0===n&&(n=this.ajv.compile(e)),n(t)}catch(a){i=a}return n&&("function"===typeof this.localizer&&this.localizer(n.errors),r=n.errors||void 0,n.errors=null),{errors:r,validationError:i}}},{key:"validateFormData",value:function(e,t,n,r,i){return Qa(this,this.rawValidation(t,e),e,t,n,r,i)}},{key:"isValid",value:function(e,t,n){var r,i,a=null!==(r=n[P])&&void 0!==r?r:B;try{this.ajv.addSchema(n,a);var o,s=ln(e),u=null!==(i=s[P])&&void 0!==i?i:function(e){var t=new Set;return JSON.stringify(e,(function(e,n){return t.add(e),n})),function(e){for(var t=0,n=0;n<e.length;n+=1)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t.toString(16)}(JSON.stringify(e,Array.from(t).sort()))}(s);return void 0===(o=this.ajv.getSchema(u))&&(o=this.ajv.addSchema(s,u).getSchema(u)||this.ajv.compile(s)),o(t)}catch(Pn){return console.warn("Error encountered compiling schema:",Pn),!1}finally{this.ajv.removeSchema(a)}}}]),e}();var $a=function(){return new Ja(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}();function eo(e,t){return function(){return e.apply(t,arguments)}}var to,no=Object.prototype.toString,ro=Object.getPrototypeOf,io=(to=Object.create(null),function(e){var t=no.call(e);return to[t]||(to[t]=t.slice(8,-1).toLowerCase())}),ao=function(e){return e=e.toLowerCase(),function(t){return io(t)===e}},oo=function(e){return function(t){return typeof t===e}},so=Array.isArray,uo=oo("undefined");var lo=ao("ArrayBuffer");var co=oo("string"),fo=oo("function"),ho=oo("number"),po=function(e){return null!==e&&"object"===typeof e},mo=function(e){if("object"!==io(e))return!1;var t=ro(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vo=ao("Date"),go=ao("File"),yo=ao("Blob"),_o=ao("FileList"),bo=ao("URLSearchParams");function xo(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),so(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,s=a?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)o=s[n],t.call(null,e[o],o,e)}}function wo(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var So="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Eo=function(e){return!uo(e)&&e!==So};var Ao,Mo=(Ao="undefined"!==typeof Uint8Array&&ro(Uint8Array),function(e){return Ao&&e instanceof Ao}),To=ao("HTMLFormElement"),ko=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),Co=ao("RegExp"),Po=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};xo(n,(function(n,i){var a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},Ro="abcdefghijklmnopqrstuvwxyz",No="0123456789",Oo={DIGIT:No,ALPHA:Ro,ALPHA_DIGIT:Ro+Ro.toUpperCase()+No};var Io=ao("AsyncFunction"),Lo={isArray:so,isArrayBuffer:lo,isBuffer:function(e){return null!==e&&!uo(e)&&null!==e.constructor&&!uo(e.constructor)&&fo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||fo(e.append)&&("formdata"===(t=io(e))||"object"===t&&fo(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&lo(e.buffer)},isString:co,isNumber:ho,isBoolean:function(e){return!0===e||!1===e},isObject:po,isPlainObject:mo,isUndefined:uo,isDate:vo,isFile:go,isBlob:yo,isRegExp:Co,isFunction:fo,isStream:function(e){return po(e)&&fo(e.pipe)},isURLSearchParams:bo,isTypedArray:Mo,isFileList:_o,forEach:xo,merge:function e(){for(var t=(Eo(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&wo(n,i)||i;mo(n[a])&&mo(r)?n[a]=e(n[a],r):mo(r)?n[a]=e({},r):so(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&xo(arguments[i],r);return n},extend:function(e,t,n){return xo(t,(function(t,r){n&&fo(t)?e[r]=eo(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&ro(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:io,kindOfTest:ao,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(so(e))return e;var t=e.length;if(!ho(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:To,hasOwnProperty:ko,hasOwnProp:ko,reduceDescriptors:Po,freezeMethods:function(e){Po(e,(function(t,n){if(fo(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];fo(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return so(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:wo,global:So,isContextDefined:Eo,ALPHABET:Oo,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oo.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&fo(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(po(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=so(n)?[]:{};return xo(n,(function(t,n){var a=e(t,r+1);!uo(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:Io,isThenable:function(e){return e&&(po(e)||fo(e))&&fo(e.then)&&fo(e.catch)}};function Do(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Lo.inherits(Do,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Lo.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Uo=Do.prototype,Fo={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Fo[e]={value:e}})),Object.defineProperties(Do,Fo),Object.defineProperty(Uo,"isAxiosError",{value:!0}),Do.from=function(e,t,n,r,i,a){var o=Object.create(Uo);return Lo.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Do.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var jo=Do;function Bo(e){return Lo.isPlainObject(e)||Lo.isArray(e)}function zo(e){return Lo.endsWith(e,"[]")?e.slice(0,-2):e}function Vo(e,t,n){return e?e.concat(t).map((function(e,t){return e=zo(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Ho=Lo.toFlatObject(Lo,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Go=function(e,t,n){if(!Lo.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=Lo.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Lo.isUndefined(t[e])}))).metaTokens,i=n.visitor||l,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Lo.isSpecCompliantForm(t);if(!Lo.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(Lo.isDate(e))return e.toISOString();if(!s&&Lo.isBlob(e))throw new jo("Blob is not supported. Use a Buffer instead.");return Lo.isArrayBuffer(e)||Lo.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(Lo.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Lo.isArray(e)&&function(e){return Lo.isArray(e)&&!e.some(Bo)}(e)||(Lo.isFileList(e)||Lo.endsWith(n,"[]"))&&(s=Lo.toArray(e)))return n=zo(n),s.forEach((function(e,r){!Lo.isUndefined(e)&&null!==e&&t.append(!0===o?Vo([n],r,a):null===o?n:n+"[]",u(e))})),!1;return!!Bo(e)||(t.append(Vo(i,n,a),u(e)),!1)}var c=[],f=Object.assign(Ho,{defaultVisitor:l,convertValue:u,isVisitable:Bo});if(!Lo.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Lo.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),Lo.forEach(n,(function(n,a){!0===(!(Lo.isUndefined(n)||null===n)&&i.call(t,n,Lo.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),c.pop()}}(e),t};function Zo(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Wo(e,t){this._pairs=[],e&&Go(e,this,t)}var qo=Wo.prototype;qo.append=function(e,t){this._pairs.push([e,t])},qo.toString=function(e){var t=e?function(t){return e.call(this,t,Zo)}:Zo;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Xo=Wo;function Ko(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Yo(e,t,n){if(!t)return e;var r,i=n&&n.encode||Ko,a=n&&n.serialize;if(r=a?a(t,n):Lo.isURLSearchParams(t)?t.toString():new Xo(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var Qo,Jo=function(){function e(){(0,p.Z)(this,e),this.handlers=[]}return(0,m.Z)(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Lo.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),$o=Jo,es={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ts={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Xo,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ns="undefined"!==typeof window&&"undefined"!==typeof document,rs=(Qo="undefined"!==typeof navigator&&navigator.product,ns&&["ReactNative","NativeScript","NS"].indexOf(Qo)<0),is="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,as=(0,l.Z)((0,l.Z)({},e),ts);var os=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&Lo.isArray(r)?r.length:a,s?(Lo.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&Lo.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&Lo.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(Lo.isFormData(e)&&Lo.isFunction(e.entries)){var n={};return Lo.forEachEntry(e,(function(e,r){t(function(e){return Lo.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var ss={transitional:es,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=Lo.isObject(e);if(a&&Lo.isHTMLForm(e)&&(e=new FormData(e)),Lo.isFormData(e))return i&&i?JSON.stringify(os(e)):e;if(Lo.isArrayBuffer(e)||Lo.isBuffer(e)||Lo.isStream(e)||Lo.isFile(e)||Lo.isBlob(e))return e;if(Lo.isArrayBufferView(e))return e.buffer;if(Lo.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Go(e,new as.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return as.isNode&&Lo.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Lo.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return Go(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(Lo.isString(e))try{return(t||JSON.parse)(e),Lo.trim(e)}catch(Pn){if("SyntaxError"!==Pn.name)throw Pn}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||ss.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Lo.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Pn){if(i){if("SyntaxError"===Pn.name)throw jo.from(Pn,jo.ERR_BAD_RESPONSE,this,null,this.response);throw Pn}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:as.classes.FormData,Blob:as.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Lo.forEach(["delete","get","head","post","put","patch"],(function(e){ss.headers[e]={}}));var us=ss,ls=Lo.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cs=Symbol("internals");function fs(e){return e&&String(e).trim().toLowerCase()}function ds(e){return!1===e||null==e?e:Lo.isArray(e)?e.map(ds):String(e)}function hs(e,t,n,r,i){return Lo.isFunction(r)?r.call(this,t,n):(i&&(t=n),Lo.isString(t)?Lo.isString(r)?-1!==t.indexOf(r):Lo.isRegExp(r)?r.test(t):void 0:void 0)}var ps=function(e,t){function n(e){(0,p.Z)(this,n),e&&this.set(e)}return(0,m.Z)(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=fs(t);if(!i)throw new Error("header name must be a non-empty string");var a=Lo.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=ds(e))}var a=function(e,t){return Lo.forEach(e,(function(e,n){return i(e,n,t)}))};return Lo.isPlainObject(e)||e instanceof this.constructor?a(e,t):Lo.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&ls[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=fs(e)){var n=Lo.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(Lo.isFunction(t))return t.call(this,r,n);if(Lo.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=fs(e)){var n=Lo.findKey(this,e);return!(!n||void 0===this[n]||t&&!hs(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=fs(e)){var i=Lo.findKey(n,e);!i||t&&!hs(0,n[i],i,t)||(delete n[i],r=!0)}}return Lo.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!hs(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return Lo.forEach(this,(function(r,i){var a=Lo.findKey(n,i);if(a)return t[a]=ds(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=ds(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Lo.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&Lo.isArray(n)?n.join(", "):n)})),t}},{key:e,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=(0,i.Z)(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:t,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[cs]=this[cs]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=fs(e);t[r]||(!function(e,t){var n=Lo.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Lo.isArray(e)?e.forEach(r):r(e),this}}]),n}(Symbol.iterator,Symbol.toStringTag);ps.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Lo.reduceDescriptors(ps.prototype,(function(e,t){var n=e.value,r=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[r]=e}}})),Lo.freezeMethods(ps);var ms=ps;function vs(e,t){var n=this||us,r=t||n,i=ms.from(r.headers),a=r.data;return Lo.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function gs(e){return!(!e||!e.__CANCEL__)}function ys(e,t,n){jo.call(this,null==e?"canceled":e,jo.ERR_CANCELED,t,n),this.name="CanceledError"}Lo.inherits(ys,jo,{__CANCEL__:!0});var _s=ys,bs=n(3878),xs=n(5267);var ws=as.hasStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[e+"="+encodeURIComponent(t)];Lo.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Lo.isString(r)&&o.push("path="+r),Lo.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Ss(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Es=as.hasStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Lo.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var As=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),l=i[o];n||(n=u),r[a]=s,i[a]=u;for(var c=o,f=0;c!==a;)f+=r[c++],c%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var d=l&&u-l;return d?Math.round(1e3*f/d):void 0}}};function Ms(e,t){var n=0,r=As(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var l={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0,event:i};l[t?"download":"upload"]=!0,e(l)}}var Ts={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i,a,o=e.data,s=ms.from(e.headers).normalize(),u=e.responseType,l=e.withXSRFToken;function c(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}if(Lo.isFormData(o))if(as.hasStandardBrowserEnv||as.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if(!1!==(i=s.getContentType())){var p=i?i.split(";").map((function(e){return e.trim()})).filter(Boolean):[],m=(a=p,(0,bs.Z)(a)||f(a)||(0,d.Z)(a)||(0,xs.Z)()),v=m[0],g=m.slice(1);s.setContentType([v||"multipart/form-data"].concat(h(g)).join("; "))}var y=new XMLHttpRequest;if(e.auth){var _=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(_+":"+b))}var x=Ss(e.baseURL,e.url);function w(){if(y){var r=ms.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new jo("Request failed with status code "+n.status,[jo.ERR_BAD_REQUEST,jo.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:u&&"text"!==u&&"json"!==u?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y}),y=null}}if(y.open(e.method.toUpperCase(),Yo(x,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(w)},y.onabort=function(){y&&(n(new jo("Request aborted",jo.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new jo("Network Error",jo.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||es;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new jo(t,r.clarifyTimeoutError?jo.ETIMEDOUT:jo.ECONNABORTED,e,y)),y=null},as.hasStandardBrowserEnv&&(l&&Lo.isFunction(l)&&(l=l(e)),l||!1!==l&&Es(x))){var S=e.xsrfHeaderName&&e.xsrfCookieName&&ws.read(e.xsrfCookieName);S&&s.set(e.xsrfHeaderName,S)}void 0===o&&s.setContentType(null),"setRequestHeader"in y&&Lo.forEach(s.toJSON(),(function(e,t){y.setRequestHeader(t,e)})),Lo.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),u&&"json"!==u&&(y.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&y.addEventListener("progress",Ms(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",Ms(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){y&&(n(!t||t.type?new _s(null,e,y):t),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var E=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(x);E&&-1===as.protocols.indexOf(E)?n(new jo("Unsupported protocol "+E+":",jo.ERR_BAD_REQUEST,e)):y.send(o||null)}))}};Lo.forEach(Ts,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Pn){}Object.defineProperty(e,"adapterName",{value:t})}}));var ks=function(e){return"- ".concat(e)},Cs=function(e){return Lo.isFunction(e)||null===e||!1===e},Ps=function(e){for(var t,n,r=(e=Lo.isArray(e)?e:[e]).length,a={},o=0;o<r;o++){var s=void 0;if(n=t=e[o],!Cs(t)&&void 0===(n=Ts[(s=String(t)).toLowerCase()]))throw new jo("Unknown adapter '".concat(s,"'"));if(n)break;a[s||"#"+o]=n}if(!n){var u=Object.entries(a).map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return"adapter ".concat(n," ")+(!1===r?"is not supported by the environment":"is not available in the build")})),l=r?u.length>1?"since :\n"+u.map(ks).join("\n"):" "+ks(u[0]):"as no adapter specified";throw new jo("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n};function Rs(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _s(null,e)}function Ns(e){return Rs(e),e.headers=ms.from(e.headers),e.data=vs.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ps(e.adapter||us.adapter)(e).then((function(t){return Rs(e),t.data=vs.call(e,e.transformResponse,t),t.headers=ms.from(t.headers),t}),(function(t){return gs(t)||(Rs(e),t&&t.response&&(t.response.data=vs.call(e,e.transformResponse,t.response),t.response.headers=ms.from(t.response.headers))),Promise.reject(t)}))}var Os=function(e){return e instanceof ms?e.toJSON():e};function Is(e,t){t=t||{};var n={};function r(e,t,n){return Lo.isPlainObject(e)&&Lo.isPlainObject(t)?Lo.merge.call({caseless:n},e,t):Lo.isPlainObject(t)?Lo.merge({},t):Lo.isArray(t)?t.slice():t}function i(e,t,n){return Lo.isUndefined(t)?Lo.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!Lo.isUndefined(t))return r(void 0,t)}function o(e,t){return Lo.isUndefined(t)?Lo.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(Os(e),Os(t),!0)}};return Lo.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);Lo.isUndefined(o)&&a!==s||(n[r]=o)})),n}var Ls="1.6.2",Ds={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Ds[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Us={};Ds.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new jo(r(i," has been removed"+(t?" in "+t:"")),jo.ERR_DEPRECATED);return t&&!Us[i]&&(Us[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Fs={assertOptions:function(e,t,n){if("object"!==typeof e)throw new jo("options must be an object",jo.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new jo("option "+a+" must be "+u,jo.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new jo("Unknown option "+a,jo.ERR_BAD_OPTION)}},validators:Ds},js=Fs.validators,Bs=function(){function e(t){(0,p.Z)(this,e),this.defaults=t,this.interceptors={request:new $o,response:new $o}}return(0,m.Z)(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=Is(this.defaults,t),r=n.transitional,i=n.paramsSerializer,a=n.headers;void 0!==r&&Fs.assertOptions(r,{silentJSONParsing:js.transitional(js.boolean),forcedJSONParsing:js.transitional(js.boolean),clarifyTimeoutError:js.transitional(js.boolean)},!1),null!=i&&(Lo.isFunction(i)?t.paramsSerializer={serialize:i}:Fs.assertOptions(i,{encode:js.function,serialize:js.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=a&&Lo.merge(a.common,a[t.method]);a&&Lo.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=ms.concat(o,a);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var l,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var f,d=0;if(!u){var h=[Ns.bind(this),void 0];for(h.unshift.apply(h,s),h.push.apply(h,c),f=h.length,l=Promise.resolve(t);d<f;)l=l.then(h[d++],h[d++]);return l}f=s.length;var p=t;for(d=0;d<f;){var m=s[d++],v=s[d++];try{p=m(p)}catch(g){v.call(this,g);break}}try{l=Ns.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)l=l.then(c[d++],c[d++]);return l}},{key:"getUri",value:function(e){return Yo(Ss((e=Is(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Lo.forEach(["delete","get","head","options"],(function(e){Bs.prototype[e]=function(t,n){return this.request(Is(n||{},{method:e,url:t,data:(n||{}).data}))}})),Lo.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Is(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Bs.prototype[e]=t(),Bs.prototype[e+"Form"]=t(!0)}));var zs=Bs,Vs=function(){function e(t){if((0,p.Z)(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new _s(e,t,i),n(r.reason))}))}return(0,m.Z)(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),Hs=Vs;var Gs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gs).forEach((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];Gs[r]=n}));var Zs=Gs;var Ws=function e(t){var n=new zs(t),r=eo(zs.prototype.request,n);return Lo.extend(r,zs.prototype,n,{allOwnKeys:!0}),Lo.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Is(t,n))},r}(us);Ws.Axios=zs,Ws.CanceledError=_s,Ws.CancelToken=Hs,Ws.isCancel=gs,Ws.VERSION=Ls,Ws.toFormData=Go,Ws.AxiosError=jo,Ws.Cancel=Ws.CanceledError,Ws.all=function(e){return Promise.all(e)},Ws.spread=function(e){return function(t){return e.apply(null,t)}},Ws.isAxiosError=function(e){return Lo.isObject(e)&&!0===e.isAxiosError},Ws.mergeConfig=Is,Ws.AxiosHeaders=ms,Ws.formToJSON=function(e){return os(Lo.isHTMLForm(e)?new FormData(e):e)},Ws.getAdapter=Ps,Ws.HttpStatusCode=Zs,Ws.default=Ws;var qs=Ws,Xs={required:["username","password","gender","height","weight","where"],properties:{username:{type:"string",title:"NAME :"},password:{type:"string",title:"PHONE :",format:"password"},gender:{type:"string",title:"GENDER :",enum:["Male","Female"]},height:{type:"number",title:"HEIGHT :"},weight:{type:"number",title:"WEIGHT :"},where:{type:"string",title:"LOCATION :"}}},Ks=function(){var e=(0,t.useState)({}),n=(0,i.Z)(e,2),r=n[0],o=n[1],u=function(){var e=s((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.formData,window.confirm("Have you confirmed this information?")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,console.log("D\u1eef li\u1ec7u g\u1eedi \u0111i:",n),e.next=7,qs.post("https://ap-southeast-1.aws.data.mongodb-api.com/app/application-0-khcpn/endpoint/log_in",n);case 7:r=e.sent,console.log("K\u1ebft qu\u1ea3 t\u1eeb server:",r.data),o({}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("L\u1ed7i khi g\u1eedi d\u1eef li\u1ec7u:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,y.jsxs)("div",{className:"auth-form-container",children:[(0,y.jsx)("h1",{children:" INFORMATION "}),(0,y.jsx)(Va,{schema:Xs,validator:$a,formData:r,onChange:function(e){var t=e.formData;return o(t)},onSubmit:u}),(0,y.jsx)("p",{children:"PLEASE FILL IN ALL REQUIRED INFORMATION !"})]})},Ys=n(1120),Qs=n(9611);var Js=n(8814);function $s(e,t,n){return $s=(0,Js.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,Qs.Z)(i,n.prototype),i},$s.apply(null,arguments)}function eu(e){var t="function"===typeof Map?new Map:void 0;return eu=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return $s(e,arguments,(0,Ys.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,Qs.Z)(r,e)},eu(e)}var tu=n(7762);function nu(){return nu="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,Ys.Z)(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},nu.apply(this,arguments)}var ru,iu=n(7326),au="160",ou=0,su=1,uu=2,lu=0,cu=1,fu=2,du=3,hu=1,pu=2,mu=3,vu=0,gu=1,yu=100,_u=0,bu=1,xu=2,wu=0,Su=1,Eu=2,Au=3,Mu=4,Tu=5,ku=6,Cu="attached",Pu=301,Ru=302,Nu=303,Ou=304,Iu=306,Lu=1e3,Du=1001,Uu=1002,Fu=1003,ju=1004,Bu=1005,zu=1006,Vu=1007,Hu=1008,Gu=1009,Zu=1012,Wu=1013,qu=1014,Xu=1015,Ku=1016,Yu=1020,Qu=1023,Ju=1026,$u=1027,el=33776,tl=33777,nl=33778,rl=33779,il=36492,al=2300,ol=2301,sl=2302,ul=2400,ll=2401,cl=2402,fl=2500,dl=3001,hl="",pl="srgb",ml="srgb-linear",vl="display-p3",gl="display-p3-linear",yl="linear",_l="srgb",bl="rec709",xl="p3",wl=7680,Sl=35044,El="300 es",Al=1035,Ml=2e3,Tl=2001,kl=function(){function e(){(0,p.Z)(this,e)}return(0,m.Z)(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),Cl=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Pl=1234567,Rl=Math.PI/180,Nl=180/Math.PI;function Ol(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Cl[255&e]+Cl[e>>8&255]+Cl[e>>16&255]+Cl[e>>24&255]+"-"+Cl[255&t]+Cl[t>>8&255]+"-"+Cl[t>>16&15|64]+Cl[t>>24&255]+"-"+Cl[63&n|128]+Cl[n>>8&255]+"-"+Cl[n>>16&255]+Cl[n>>24&255]+Cl[255&r]+Cl[r>>8&255]+Cl[r>>16&255]+Cl[r>>24&255]).toLowerCase()}function Il(e,t,n){return Math.max(t,Math.min(n,e))}function Ll(e,t){return(e%t+t)%t}function Dl(e,t,n){return(1-n)*e+n*t}function Ul(e){return 0===(e&e-1)&&0!==e}function Fl(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function jl(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Bl(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var zl={DEG2RAD:Rl,RAD2DEG:Nl,generateUUID:Ol,clamp:Il,euclideanModulo:Ll,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Dl,damp:function(e,t,n,r){return Dl(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Ll(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Pl=e);var t=Pl+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Rl},radToDeg:function(e){return e*Nl},isPowerOfTwo:Ul,ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:Fl,setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),u=o(n/2),l=a((t+r)/2),c=o((t+r)/2),f=a((t-r)/2),d=o((t-r)/2),h=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,u*f,u*d,s*l);break;case"YZY":e.set(u*d,s*c,u*f,s*l);break;case"ZXZ":e.set(u*f,u*d,s*c,s*l);break;case"XZX":e.set(s*c,u*p,u*h,s*l);break;case"YXY":e.set(u*h,s*c,u*p,s*l);break;case"ZYZ":e.set(u*p,u*h,s*c,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:Bl,denormalize:jl},Vl=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,p.Z)(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return(0,m.Z)(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Il(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:e,value:(0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),Hl=function(){function e(t,n,r,i,a,o,s,u,l){(0,p.Z)(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,u,l)}return(0,m.Z)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],f=n[2],d=n[5],h=n[8],p=r[0],m=r[3],v=r[6],g=r[1],y=r[4],_=r[7],b=r[2],x=r[5],w=r[8];return i[0]=a*p+o*g+s*b,i[3]=a*m+o*y+s*x,i[6]=a*v+o*_+s*w,i[1]=u*p+l*g+c*b,i[4]=u*m+l*y+c*x,i[7]=u*v+l*_+c*w,i[2]=f*p+d*g+h*b,i[5]=f*m+d*y+h*x,i[8]=f*v+d*_+h*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-n*i*l+n*o*s+r*i*u-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=l*a-o*u,f=o*s-l*i,d=u*i-a*s,h=t*c+n*f+r*d;if(0===h)return this.set(0,0,0,0,0,0,0,0,0);var p=1/h;return e[0]=c*p,e[1]=(r*u-l*n)*p,e[2]=(o*n-r*a)*p,e[3]=f*p,e[4]=(l*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=d*p,e[7]=(n*s-u*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),u=Math.sin(i);return this.set(n*s,n*u,-n*(s*a+u*o)+a+e,-r*u,r*s,-r*(-u*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(Gl.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(Gl.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(Gl.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),Gl=new Hl;function Zl(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function Wl(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}var ql={};function Xl(e){e in ql||(ql[e]=!0,console.warn(e))}var Kl,Yl=(new Hl).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Ql=(new Hl).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Jl=(ru={},(0,u.Z)(ru,ml,{transfer:yl,primaries:bl,toReference:function(e){return e},fromReference:function(e){return e}}),(0,u.Z)(ru,pl,{transfer:_l,primaries:bl,toReference:function(e){return e.convertSRGBToLinear()},fromReference:function(e){return e.convertLinearToSRGB()}}),(0,u.Z)(ru,gl,{transfer:yl,primaries:xl,toReference:function(e){return e.applyMatrix3(Ql)},fromReference:function(e){return e.applyMatrix3(Yl)}}),(0,u.Z)(ru,vl,{transfer:_l,primaries:xl,toReference:function(e){return e.convertSRGBToLinear().applyMatrix3(Ql)},fromReference:function(e){return e.applyMatrix3(Yl).convertLinearToSRGB()}}),ru),$l=new Set([ml,gl]),ec={enabled:!0,_workingColorSpace:ml,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!$l.has(e))throw new Error('Unsupported working color space, "'.concat(e,'".'));this._workingColorSpace=e},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;var r=Jl[t].toReference;return(0,Jl[n].fromReference)(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return Jl[e].primaries},getTransfer:function(e){return e===hl?yl:Jl[e].transfer}};function tc(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function nc(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var rc=function(){function e(){(0,p.Z)(this,e)}return(0,m.Z)(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Kl&&(Kl=Wl("canvas")),Kl.width=e.width,Kl.height=e.height;var n=Kl.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Kl}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=Wl("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*tc(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*tc(o[s]/255)):o[s]=tc(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),ic=0,ac=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,p.Z)(this,e),this.isSource=!0,Object.defineProperty(this,"id",{value:ic++}),this.uuid=Ol(),this.data=t,this.version=0}return(0,m.Z)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(oc(r[a].image)):i.push(oc(r[a]))}else i=oc(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function oc(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?rc.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var sc=0,uc=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Du,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Du,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zu,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Hu,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Qu,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Gu,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:hl;return(0,p.Z)(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty((0,iu.Z)(e),"id",{value:sc++}),e.uuid=Ol(),e.name="",e.source=new ac(r),e.mipmaps=[],e.mapping=i,e.channel=0,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=u,e.anisotropy=f,e.format=l,e.internalFormat=null,e.type=c,e.offset=new Vl(0,0),e.repeat=new Vl(1,1),e.center=new Vl(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new Hl,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,"string"===typeof d?e.colorSpace=d:(Xl("THREE.Texture: Property .encoding has been replaced by .colorSpace."),e.colorSpace=d===dl?pl:hl),e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return(0,m.Z)(n,[{key:"image",get:function(){return this.source.data},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Lu:e.x=e.x-Math.floor(e.x);break;case Du:e.x=e.x<0?0:1;break;case Uu:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Lu:e.y=e.y-Math.floor(e.y);break;case Du:e.y=e.y<0?0:1;break;case Uu:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}},{key:"encoding",get:function(){return Xl("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===pl?dl:3e3},set:function(e){Xl("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===dl?pl:hl}}]),n}(kl);uc.DEFAULT_IMAGE=null,uc.DEFAULT_MAPPING=300,uc.DEFAULT_ANISOTROPY=1;var lc=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,p.Z)(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return(0,m.Z)(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,u=s[0],l=s[4],c=s[8],f=s[1],d=s[5],h=s[9],p=s[2],m=s[6],v=s[10];if(Math.abs(l-f)<a&&Math.abs(c-p)<a&&Math.abs(h-m)<a){if(Math.abs(l+f)<o&&Math.abs(c+p)<o&&Math.abs(h+m)<o&&Math.abs(u+d+v-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(u+1)/2,y=(d+1)/2,_=(v+1)/2,b=(l+f)/4,x=(c+p)/4,w=(h+m)/4;return g>y&&g>_?g<a?(n=0,r=.707106781,i=.707106781):(r=b/(n=Math.sqrt(g)),i=x/n):y>_?y<a?(n=.707106781,r=0,i=.707106781):(n=b/(r=Math.sqrt(y)),i=w/r):_<a?(n=.707106781,r=.707106781,i=0):(n=x/(i=Math.sqrt(_)),r=w/i),this.set(n,r,i,t),this}var S=Math.sqrt((m-h)*(m-h)+(c-p)*(c-p)+(f-l)*(f-l));return Math.abs(S)<.001&&(S=1),this.x=(m-h)/S,this.y=(c-p)/S,this.z=(f-l)/S,this.w=Math.acos((u+d+v-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:e,value:(0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),cc=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,p.Z)(this,n),(e=t.call(this)).isRenderTarget=!0,e.width=r,e.height=i,e.depth=1,e.scissor=new lc(0,0,r,i),e.scissorTest=!1,e.viewport=new lc(0,0,r,i);var o={width:r,height:i,depth:1};return void 0!==a.encoding&&(Xl("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),a.colorSpace=a.encoding===dl?pl:hl),a=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:zu,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},a),e.texture=new uc(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=a.generateMipmaps,e.texture.internalFormat=a.internalFormat,e.depthBuffer=a.depthBuffer,e.stencilBuffer=a.stencilBuffer,e.depthTexture=a.depthTexture,e.samples=a.samples,e}return(0,m.Z)(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new ac(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(kl),fc=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,p.Z)(this,n),(e=t.call(this,r,i,a)).isWebGLRenderTarget=!0,e}return(0,m.Z)(n)}(cc),dc=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,p.Z)(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=Fu,e.minFilter=Fu,e.wrapR=Du,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,m.Z)(n)}(uc),hc=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,p.Z)(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=Fu,e.minFilter=Fu,e.wrapR=Du,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,m.Z)(n)}(uc),pc=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,p.Z)(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}return(0,m.Z)(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,u=o(n/2),l=o(r/2),c=o(i/2),f=s(n/2),d=s(r/2),h=s(i/2);switch(a){case"XYZ":this._x=f*l*c+u*d*h,this._y=u*d*c-f*l*h,this._z=u*l*h+f*d*c,this._w=u*l*c-f*d*h;break;case"YXZ":this._x=f*l*c+u*d*h,this._y=u*d*c-f*l*h,this._z=u*l*h-f*d*c,this._w=u*l*c+f*d*h;break;case"ZXY":this._x=f*l*c-u*d*h,this._y=u*d*c+f*l*h,this._z=u*l*h+f*d*c,this._w=u*l*c-f*d*h;break;case"ZYX":this._x=f*l*c-u*d*h,this._y=u*d*c+f*l*h,this._z=u*l*h-f*d*c,this._w=u*l*c+f*d*h;break;case"YZX":this._x=f*l*c+u*d*h,this._y=u*d*c+f*l*h,this._z=u*l*h-f*d*c,this._w=u*l*c-f*d*h;break;case"XZY":this._x=f*l*c-u*d*h,this._y=u*d*c-f*l*h,this._z=u*l*h+f*d*c,this._w=u*l*c+f*d*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],u=t[2],l=t[6],c=t[10],f=n+o+c;if(f>0){var d=.5/Math.sqrt(f+1);this._w=.25/d,this._x=(l-s)*d,this._y=(i-u)*d,this._z=(a-r)*d}else if(n>o&&n>c){var h=2*Math.sqrt(1+n-o-c);this._w=(l-s)/h,this._x=.25*h,this._y=(r+a)/h,this._z=(i+u)/h}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-u)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+l)/p}else{var m=2*Math.sqrt(1+c-n-o);this._w=(a-r)/m,this._x=(i+u)/m,this._y=(s+l)/m,this._z=.25*m}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Il(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=n*l+a*o+r*u-i*s,this._y=r*l+a*s+i*o-n*u,this._z=i*l+a*u+n*s-r*o,this._w=a*l-n*o-r*s-i*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),f=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=a*f+this._w*d,this._x=n*f+this._x*d,this._y=r*f+this._y*d,this._z=i*f+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:(0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],f=i[a+0],d=i[a+1],h=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=u,e[t+2]=l,void(e[t+3]=c);if(1===o)return e[t+0]=f,e[t+1]=d,e[t+2]=h,void(e[t+3]=p);if(c!==p||s!==f||u!==d||l!==h){var m=1-o,v=s*f+u*d+l*h+c*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,v*g);m=Math.sin(m*b)/_,o=Math.sin(o*b)/_}var x=o*g;if(s=s*m+f*x,u=u*m+d*x,l=l*m+h*x,c=c*m+p*x,m===1-o){var w=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=w,u*=w,l*=w,c*=w}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],u=n[r+2],l=n[r+3],c=i[a],f=i[a+1],d=i[a+2],h=i[a+3];return e[t]=o*h+l*c+s*d-u*f,e[t+1]=s*h+l*f+u*c-o*d,e[t+2]=u*h+l*d+o*f-s*c,e[t+3]=l*h-o*c-s*f-u*d,e}}]),t}(Symbol.iterator),mc=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,p.Z)(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return(0,m.Z)(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(gc.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(gc.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=2*(a*r-o*n),l=2*(o*t-i*r),c=2*(i*n-a*t);return this.x=t+s*u+a*c-o*l,this.y=n+s*l+o*u-i*c,this.z=r+s*c+i*l-a*u,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return vc.copy(this).projectOnVector(e),this.sub(vc)}},{key:"reflect",value:function(e){return this.sub(vc.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Il(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:e,value:(0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),vc=new mc,gc=new pc,yc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mc(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mc(-1/0,-1/0,-1/0);(0,p.Z)(this,e),this.isBox3=!0,this.min=t,this.max=n}return(0,m.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t+=3)this.expandByPoint(bc.fromArray(e,t));return this}},{key:"setFromBufferAttribute",value:function(e){this.makeEmpty();for(var t=0,n=e.count;t<n;t++)this.expandByPoint(bc.fromBufferAttribute(e,t));return this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=bc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var n=e.geometry;if(void 0!==n){var r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(var i=0,a=r.count;i<a;i++)!0===e.isMesh?e.getVertexPosition(i,bc):bc.fromBufferAttribute(r,i),bc.applyMatrix4(e.matrixWorld),this.expandByPoint(bc);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),xc.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),xc.copy(n.boundingBox)),xc.applyMatrix4(e.matrixWorld),this.union(xc)}for(var o=e.children,s=0,u=o.length;s<u;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,bc),bc.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(kc),Cc.subVectors(this.max,kc),wc.subVectors(e.a,kc),Sc.subVectors(e.b,kc),Ec.subVectors(e.c,kc),Ac.subVectors(Sc,wc),Mc.subVectors(Ec,Sc),Tc.subVectors(wc,Ec);var t=[0,-Ac.z,Ac.y,0,-Mc.z,Mc.y,0,-Tc.z,Tc.y,Ac.z,0,-Ac.x,Mc.z,0,-Mc.x,Tc.z,0,-Tc.x,-Ac.y,Ac.x,0,-Mc.y,Mc.x,0,-Tc.y,Tc.x,0];return!!Nc(t,wc,Sc,Ec,Cc)&&(!!Nc(t=[1,0,0,0,1,0,0,0,1],wc,Sc,Ec,Cc)&&(Pc.crossVectors(Ac,Mc),Nc(t=[Pc.x,Pc.y,Pc.z],wc,Sc,Ec,Cc)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,bc).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(bc).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(_c[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_c[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_c[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_c[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_c[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_c[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_c[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_c[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_c)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),_c=[new mc,new mc,new mc,new mc,new mc,new mc,new mc,new mc],bc=new mc,xc=new yc,wc=new mc,Sc=new mc,Ec=new mc,Ac=new mc,Mc=new mc,Tc=new mc,kc=new mc,Cc=new mc,Pc=new mc,Rc=new mc;function Nc(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){Rc.fromArray(e,a);var s=i.x*Math.abs(Rc.x)+i.y*Math.abs(Rc.y)+i.z*Math.abs(Rc.z),u=t.dot(Rc),l=n.dot(Rc),c=r.dot(Rc);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}var Oc=new yc,Ic=new mc,Lc=new mc,Dc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mc,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,p.Z)(this,e),this.isSphere=!0,this.center=t,this.radius=n}return(0,m.Z)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):Oc.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ic.subVectors(e,this.center);var t=Ic.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(Ic,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Lc.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ic.copy(e.center).add(Lc)),this.expandByPoint(Ic.copy(e.center).sub(Lc))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Uc=new mc,Fc=new mc,jc=new mc,Bc=new mc,zc=new mc,Vc=new mc,Hc=new mc,Gc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mc,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mc(0,0,-1);(0,p.Z)(this,e),this.origin=t,this.direction=n}return(0,m.Z)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Uc)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Uc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Uc.copy(this.origin).addScaledVector(this.direction,t),Uc.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Fc.copy(e).add(t).multiplyScalar(.5),jc.copy(t).sub(e).normalize(),Bc.copy(this.origin).sub(Fc);var i,a,o,s,u=.5*e.distanceTo(t),l=-this.direction.dot(jc),c=Bc.dot(this.direction),f=-Bc.dot(jc),d=Bc.lengthSq(),h=Math.abs(1-l*l);if(h>0)if(a=l*c-f,s=u*h,(i=l*f-c)>=0)if(a>=-s)if(a<=s){var p=1/h;o=(i*=p)*(i+l*(a*=p)+2*c)+a*(l*i+a+2*f)+d}else a=u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+d;else a=-u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+d;else a<=-s?o=-(i=Math.max(0,-(-l*u+c)))*i+(a=i>0?-u:Math.min(Math.max(-u,-f),u))*(a+2*f)+d:a<=s?(i=0,o=(a=Math.min(Math.max(-u,-f),u))*(a+2*f)+d):o=-(i=Math.max(0,-(l*u+c)))*i+(a=i>0?u:Math.min(Math.max(-u,-f),u))*(a+2*f)+d;else a=l>0?-u:u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(Fc).addScaledVector(jc,a),o}},{key:"intersectSphere",value:function(e,t){Uc.subVectors(e.center,this.origin);var n=Uc.dot(this.direction),r=Uc.dot(Uc)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,f=this.origin;return u>=0?(n=(e.min.x-f.x)*u,r=(e.max.x-f.x)*u):(n=(e.max.x-f.x)*u,r=(e.min.x-f.x)*u),l>=0?(i=(e.min.y-f.y)*l,a=(e.max.y-f.y)*l):(i=(e.max.y-f.y)*l,a=(e.min.y-f.y)*l),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-f.z)*c,s=(e.max.z-f.z)*c):(o=(e.max.z-f.z)*c,s=(e.min.z-f.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Uc)}},{key:"intersectTriangle",value:function(e,t,n,r,i){zc.subVectors(t,e),Vc.subVectors(n,e),Hc.crossVectors(zc,Vc);var a,o=this.direction.dot(Hc);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Bc.subVectors(this.origin,e);var s=a*this.direction.dot(Vc.crossVectors(Bc,Vc));if(s<0)return null;var u=a*this.direction.dot(zc.cross(Bc));if(u<0)return null;if(s+u>o)return null;var l=-a*Bc.dot(Hc);return l<0?null:this.at(l/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Zc=function(){function e(t,n,r,i,a,o,s,u,l,c,f,d,h,m,v,g){(0,p.Z)(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,u,l,c,f,d,h,m,v,g)}return(0,m.Z)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u,l,c,f,d,h,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=a,v[9]=o,v[13]=s,v[2]=u,v[6]=l,v[10]=c,v[14]=f,v[3]=d,v[7]=h,v[11]=p,v[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/Wc.setFromMatrixColumn(e,0).length(),i=1/Wc.setFromMatrixColumn(e,1).length(),a=1/Wc.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var f=a*l,d=a*c,h=o*l,p=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=d+h*u,t[5]=f-p*u,t[9]=-o*s,t[2]=p-f*u,t[6]=h+d*u,t[10]=a*s}else if("YXZ"===e.order){var m=s*l,v=s*c,g=u*l,y=u*c;t[0]=m+y*o,t[4]=g*o-v,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=v*o-g,t[6]=y+m*o,t[10]=a*s}else if("ZXY"===e.order){var _=s*l,b=s*c,x=u*l,w=u*c;t[0]=_-w*o,t[4]=-a*c,t[8]=x+b*o,t[1]=b+x*o,t[5]=a*l,t[9]=w-_*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var S=a*l,E=a*c,A=o*l,M=o*c;t[0]=s*l,t[4]=A*u-E,t[8]=S*u+M,t[1]=s*c,t[5]=M*u+S,t[9]=E*u-A,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var T=a*s,k=a*u,C=o*s,P=o*u;t[0]=s*l,t[4]=P-T*c,t[8]=C*c+k,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=k*c+C,t[10]=T-P*c}else if("XZY"===e.order){var R=a*s,N=a*u,O=o*s,I=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=R*c+I,t[5]=a*l,t[9]=N*c-O,t[2]=O*c-N,t[6]=o*l,t[10]=I*c+R}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Xc,e,Kc)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return Jc.subVectors(e,t),0===Jc.lengthSq()&&(Jc.z=1),Jc.normalize(),Yc.crossVectors(n,Jc),0===Yc.lengthSq()&&(1===Math.abs(n.z)?Jc.x+=1e-4:Jc.z+=1e-4,Jc.normalize(),Yc.crossVectors(n,Jc)),Yc.normalize(),Qc.crossVectors(Jc,Yc),r[0]=Yc.x,r[4]=Qc.x,r[8]=Jc.x,r[1]=Yc.y,r[5]=Qc.y,r[9]=Jc.y,r[2]=Yc.z,r[6]=Qc.z,r[10]=Jc.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],f=n[9],d=n[13],h=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],_=n[11],b=n[15],x=r[0],w=r[4],S=r[8],E=r[12],A=r[1],M=r[5],T=r[9],k=r[13],C=r[2],P=r[6],R=r[10],N=r[14],O=r[3],I=r[7],L=r[11],D=r[15];return i[0]=a*x+o*A+s*C+u*O,i[4]=a*w+o*M+s*P+u*I,i[8]=a*S+o*T+s*R+u*L,i[12]=a*E+o*k+s*N+u*D,i[1]=l*x+c*A+f*C+d*O,i[5]=l*w+c*M+f*P+d*I,i[9]=l*S+c*T+f*R+d*L,i[13]=l*E+c*k+f*N+d*D,i[2]=h*x+p*A+m*C+v*O,i[6]=h*w+p*M+m*P+v*I,i[10]=h*S+p*T+m*R+v*L,i[14]=h*E+p*k+m*N+v*D,i[3]=g*x+y*A+_*C+b*O,i[7]=g*w+y*M+_*P+b*I,i[11]=g*S+y*T+_*R+b*L,i[15]=g*E+y*k+_*N+b*D,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],f=e[10],d=e[14];return e[3]*(+i*s*c-r*u*c-i*o*f+n*u*f+r*o*d-n*s*d)+e[7]*(+t*s*d-t*u*f+i*a*f-r*a*d+r*u*l-i*s*l)+e[11]*(+t*u*c-t*o*d-i*a*c+n*a*d+i*o*l-n*u*l)+e[15]*(-r*o*l-t*s*c+t*o*f+r*a*c-n*a*f+n*s*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],d=e[11],h=e[12],p=e[13],m=e[14],v=e[15],g=c*m*u-p*f*u+p*s*d-o*m*d-c*s*v+o*f*v,y=h*f*u-l*m*u-h*s*d+a*m*d+l*s*v-a*f*v,_=l*p*u-h*c*u+h*o*d-a*p*d-l*o*v+a*c*v,b=h*c*s-l*p*s-h*o*f+a*p*f+l*o*m-a*c*m,x=t*g+n*y+r*_+i*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/x;return e[0]=g*w,e[1]=(p*f*i-c*m*i-p*r*d+n*m*d+c*r*v-n*f*v)*w,e[2]=(o*m*i-p*s*i+p*r*u-n*m*u-o*r*v+n*s*v)*w,e[3]=(c*s*i-o*f*i-c*r*u+n*f*u+o*r*d-n*s*d)*w,e[4]=y*w,e[5]=(l*m*i-h*f*i+h*r*d-t*m*d-l*r*v+t*f*v)*w,e[6]=(h*s*i-a*m*i-h*r*u+t*m*u+a*r*v-t*s*v)*w,e[7]=(a*f*i-l*s*i+l*r*u-t*f*u-a*r*d+t*s*d)*w,e[8]=_*w,e[9]=(h*c*i-l*p*i-h*n*d+t*p*d+l*n*v-t*c*v)*w,e[10]=(a*p*i-h*o*i+h*n*u-t*p*u-a*n*v+t*o*v)*w,e[11]=(l*o*i-a*c*i-l*n*u+t*c*u+a*n*d-t*o*d)*w,e[12]=b*w,e[13]=(l*p*r-h*c*r+h*n*f-t*p*f-l*n*m+t*c*m)*w,e[14]=(h*o*r-a*p*r-h*n*s+t*p*s+a*n*m-t*o*m)*w,e[15]=(a*c*r-l*o*r+l*n*s-t*c*s-a*n*f+t*o*f)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+n,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+n,l*s-r*a,0,u*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,f=i*u,d=i*l,h=i*c,p=a*l,m=a*c,v=o*c,g=s*u,y=s*l,_=s*c,b=n.x,x=n.y,w=n.z;return r[0]=(1-(p+v))*b,r[1]=(d+_)*b,r[2]=(h-y)*b,r[3]=0,r[4]=(d-_)*x,r[5]=(1-(f+v))*x,r[6]=(m+g)*x,r[7]=0,r[8]=(h+y)*w,r[9]=(m-g)*w,r[10]=(1-(f+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=Wc.set(r[0],r[1],r[2]).length(),a=Wc.set(r[4],r[5],r[6]).length(),o=Wc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],qc.copy(this);var s=1/i,u=1/a,l=1/o;return qc.elements[0]*=s,qc.elements[1]*=s,qc.elements[2]*=s,qc.elements[4]*=u,qc.elements[5]*=u,qc.elements[6]*=u,qc.elements[8]*=l,qc.elements[9]*=l,qc.elements[10]*=l,t.setFromRotationMatrix(qc),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o,s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ml,l=this.elements,c=2*i/(t-e),f=2*i/(n-r),d=(t+e)/(t-e),h=(n+r)/(n-r);if(u===Ml)o=-(a+i)/(a-i),s=-2*a*i/(a-i);else{if(u!==Tl)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);o=-a/(a-i),s=-a*i/(a-i)}return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=f,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=o,l[14]=s,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o,s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ml,l=this.elements,c=1/(t-e),f=1/(n-r),d=1/(a-i),h=(t+e)*c,p=(n+r)*f;if(u===Ml)o=(a+i)*d,s=-2*d;else{if(u!==Tl)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);o=i*d,s=-1*d}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=s,l[14]=-o,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),Wc=new mc,qc=new Zc,Xc=new mc(0,0,0),Kc=new mc(1,1,1),Yc=new mc,Qc=new mc,Jc=new mc,$c=new Zc,ef=new pc,tf=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;(0,p.Z)(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}return(0,m.Z)(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],u=r[5],l=r[9],c=r[2],f=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(Il(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Il(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Il(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Il(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(f,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Il(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-Il(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-l,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return $c.makeRotationFromQuaternion(e),this.setFromRotationMatrix($c,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return ef.setFromEuler(this),this.setFromQuaternion(ef,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:(0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);tf.DEFAULT_ORDER="XYZ";var nf=function(){function e(){(0,p.Z)(this,e),this.mask=1}return(0,m.Z)(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),rf=0,af=new mc,of=new pc,sf=new Zc,uf=new mc,lf=new mc,cf=new mc,ff=new pc,df=new mc(1,0,0),hf=new mc(0,1,0),pf=new mc(0,0,1),mf={type:"added"},vf={type:"removed"},gf=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;(0,p.Z)(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty((0,iu.Z)(e),"id",{value:rf++}),e.uuid=Ol(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DEFAULT_UP.clone();var r=new mc,i=new tf,a=new pc,o=new mc(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties((0,iu.Z)(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Zc},normalMatrix:{value:new Hl}}),e.matrix=new Zc,e.matrixWorld=new Zc,e.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.layers=new nf,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return(0,m.Z)(n,[{key:"onBeforeShadow",value:function(){}},{key:"onAfterShadow",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return of.setFromAxisAngle(e,t),this.quaternion.multiply(of),this}},{key:"rotateOnWorldAxis",value:function(e,t){return of.setFromAxisAngle(e,t),this.quaternion.premultiply(of),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(df,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(hf,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(pf,e)}},{key:"translateOnAxis",value:function(e,t){return af.copy(e).applyQuaternion(this.quaternion),this.position.add(af.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(df,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(hf,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(pf,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(sf.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?uf.copy(e):uf.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),lf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?sf.lookAt(lf,uf,this.up):sf.lookAt(uf,lf,this.up),this.quaternion.setFromRotationMatrix(sf),r&&(sf.extractRotation(r.matrixWorld),of.setFromRotationMatrix(sf),this.quaternion.premultiply(of.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(mf)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(vf)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){return this.remove.apply(this,h(this.children))}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),sf.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),sf.multiply(e.parent.matrixWorld)),e.applyMatrix4(sf),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this[e]===t&&n.push(this);for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].getObjectsByProperty(e,t,n);return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lf,e,cf),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lf,ff,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map((function(e){return{boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()}})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),null!==this.boundingSphere&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),null!==this.boundingBox&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],f=0,d=this.material.length;f<d;f++)c.push(i(e.materials,this.material[f]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var h=0;h<this.children.length;h++)r.children.push(this.children[h].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var m=this.animations[p];r.animations.push(i(e.animations,m))}}if(t){var v=E(e.geometries),g=E(e.materials),y=E(e.textures),_=E(e.images),b=E(e.shapes),x=E(e.skeletons),w=E(e.animations),S=E(e.nodes);v.length>0&&(n.geometries=v),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),_.length>0&&(n.images=_),b.length>0&&(n.shapes=b),x.length>0&&(n.skeletons=x),w.length>0&&(n.animations=w),S.length>0&&(n.nodes=S)}return n.object=r,n;function E(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(kl);gf.DEFAULT_UP=new mc(0,1,0),gf.DEFAULT_MATRIX_AUTO_UPDATE=!0,gf.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var yf=new mc,_f=new mc,bf=new mc,xf=new mc,wf=new mc,Sf=new mc,Ef=new mc,Af=new mc,Mf=new mc,Tf=new mc,kf=!1,Cf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mc,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mc,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new mc;(0,p.Z)(this,e),this.a=t,this.b=n,this.c=r}return(0,m.Z)(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return yf.subVectors(this.c,this.b),_f.subVectors(this.a,this.b),.5*yf.cross(_f).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return!1===kf&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),kf=!0),e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"getInterpolation",value:function(t,n,r,i,a){return e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;wf.subVectors(a,i),Sf.subVectors(o,i),Af.subVectors(e,i);var s=wf.dot(Af),u=Sf.dot(Af);if(s<=0&&u<=0)return t.copy(i);Mf.subVectors(e,a);var l=wf.dot(Mf),c=Sf.dot(Mf);if(l>=0&&c<=l)return t.copy(a);var f=s*c-l*u;if(f<=0&&s>=0&&l<=0)return n=s/(s-l),t.copy(i).addScaledVector(wf,n);Tf.subVectors(e,o);var d=wf.dot(Tf),h=Sf.dot(Tf);if(h>=0&&d<=h)return t.copy(o);var p=d*u-s*h;if(p<=0&&u>=0&&h<=0)return r=u/(u-h),t.copy(i).addScaledVector(Sf,r);var m=l*h-d*c;if(m<=0&&c-l>=0&&d-h>=0)return Ef.subVectors(o,a),r=(c-l)/(c-l+(d-h)),t.copy(a).addScaledVector(Ef,r);var v=1/(m+p+f);return n=p*v,r=f*v,t.copy(i).addScaledVector(wf,n).addScaledVector(Sf,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),yf.subVectors(e,t),r.cross(yf);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){yf.subVectors(r,t),_f.subVectors(n,t),bf.subVectors(e,t);var a=yf.dot(yf),o=yf.dot(_f),s=yf.dot(bf),u=_f.dot(_f),l=_f.dot(bf),c=a*u-o*o;if(0===c)return i.set(0,0,0),null;var f=1/c,d=(u*s-o*l)*f,h=(a*l-o*s)*f;return i.set(1-d-h,h,d)}},{key:"containsPoint",value:function(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,xf)&&(xf.x>=0&&xf.y>=0&&xf.x+xf.y<=1)}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return!1===kf&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),kf=!0),this.getInterpolation(e,t,n,r,i,a,o,s)}},{key:"getInterpolation",value:function(e,t,n,r,i,a,o,s){return null===this.getBarycoord(e,t,n,r,xf)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(i,xf.x),s.addScaledVector(a,xf.y),s.addScaledVector(o,xf.z),s)}},{key:"isFrontFacing",value:function(e,t,n,r){return yf.subVectors(n,t),_f.subVectors(e,t),yf.cross(_f).dot(r)<0}}]),e}(),Pf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Rf={h:0,s:0,l:0},Nf={h:0,s:0,l:0};function Of(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var If=function(e){function t(e,n,r){return(0,p.Z)(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}return(0,m.Z)(t,[{key:"set",value:function(e,t,n){if(void 0===t&&void 0===n){var r=e;r&&r.isColor?this.copy(r):"number"===typeof r?this.setHex(r):"string"===typeof r&&this.setStyle(r)}else this.setRGB(e,t,n);return this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pl;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,ec.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ec.workingColorSpace;return this.r=e,this.g=t,this.b=n,ec.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ec.workingColorSpace;if(e=Ll(e,1),t=Il(t,0,1),n=Il(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=Of(a,i,e+1/3),this.g=Of(a,i,e),this.b=Of(a,i,e-1/3)}return ec.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pl;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var s=t[1],u=s.length;if(3===u)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(6===u)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pl,n=Pf[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=tc(e.r),this.g=tc(e.g),this.b=tc(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=nc(e.r),this.g=nc(e.g),this.b=nc(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pl;return ec.fromWorkingColorSpace(Lf.copy(this),e),65536*Math.round(Il(255*Lf.r,0,255))+256*Math.round(Il(255*Lf.g,0,255))+Math.round(Il(255*Lf.b,0,255))}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pl;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ec.workingColorSpace;ec.fromWorkingColorSpace(Lf.copy(this),t);var n,r,i=Lf.r,a=Lf.g,o=Lf.b,s=Math.max(i,a,o),u=Math.min(i,a,o),l=(u+s)/2;if(u===s)n=0,r=0;else{var c=s-u;switch(r=l<=.5?c/(s+u):c/(2-s-u),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=l,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ec.workingColorSpace;return ec.fromWorkingColorSpace(Lf.copy(this),t),e.r=Lf.r,e.g=Lf.g,e.b=Lf.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pl;ec.fromWorkingColorSpace(Lf.copy(this),e);var t=Lf.r,n=Lf.g,r=Lf.b;return e!==pl?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Rf),this.setHSL(Rf.h+e,Rf.s+t,Rf.l+n)}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Rf),e.getHSL(Nf);var n=Dl(Rf.h,Nf.h,t),r=Dl(Rf.s,Nf.s,t),i=Dl(Rf.l,Nf.l,t);return this.setHSL(n,r,i),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:e,value:(0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),Lf=new If;If.NAMES=Pf;var Df=0,Uf=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty((0,iu.Z)(e),"id",{value:Df++}),e.uuid=Ol(),e.name="",e.type="Material",e.blending=1,e.side=vu,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.alphaHash=!1,e.blendSrc=204,e.blendDst=205,e.blendEquation=yu,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.blendColor=new If(0,0,0),e.blendAlpha=0,e.depthFunc=3,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=wl,e.stencilZFail=wl,e.stencilZPass=wl,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return(0,m.Z)(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}else console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."))}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),this.side!==vu&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),this.blendEquation!==yu&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==wl&&(n.stencilFail=this.stencilFail),this.stencilZFail!==wl&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==wl&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(kl),Ff=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new If(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=_u,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return(0,m.Z)(n,[{key:"copy",value:function(e){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(Uf);var jf=new mc,Bf=new Vl,zf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,p.Z)(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=r,this.usage=Sl,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Xu,this.version=0}return(0,m.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"updateRange",get:function(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"addUpdateRange",value:function(e,t){this.updateRanges.push({start:e,count:t})}},{key:"clearUpdateRanges",value:function(){this.updateRanges.length=0}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Bf.fromBufferAttribute(this,t),Bf.applyMatrix3(e),this.setXY(t,Bf.x,Bf.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)jf.fromBufferAttribute(this,r),jf.applyMatrix3(e),this.setXYZ(r,jf.x,jf.y,jf.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)jf.fromBufferAttribute(this,t),jf.applyMatrix4(e),this.setXYZ(t,jf.x,jf.y,jf.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)jf.fromBufferAttribute(this,t),jf.applyNormalMatrix(e),this.setXYZ(t,jf.x,jf.y,jf.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)jf.fromBufferAttribute(this,t),jf.transformDirection(e),this.setXYZ(t,jf.x,jf.y,jf.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getComponent",value:function(e,t){var n=this.array[e*this.itemSize+t];return this.normalized&&(n=jl(n,this.array)),n}},{key:"setComponent",value:function(e,t,n){return this.normalized&&(n=Bl(n,this.array)),this.array[e*this.itemSize+t]=n,this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=jl(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=Bl(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=jl(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=Bl(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=jl(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Bl(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=jl(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=Bl(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=Bl(t,this.array),n=Bl(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Bl(t,this.array),n=Bl(n,this.array),r=Bl(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Bl(t,this.array),n=Bl(n,this.array),r=Bl(r,this.array),i=Bl(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Sl&&(e.usage=this.usage),e}}]),e}(),Vf=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){return(0,p.Z)(this,n),t.call(this,new Uint16Array(e),r,i)}return(0,m.Z)(n)}(zf),Hf=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){return(0,p.Z)(this,n),t.call(this,new Uint32Array(e),r,i)}return(0,m.Z)(n)}(zf),Gf=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){return(0,p.Z)(this,n),t.call(this,new Float32Array(e),r,i)}return(0,m.Z)(n)}(zf),Zf=0,Wf=new Zc,qf=new gf,Xf=new mc,Kf=new yc,Yf=new yc,Qf=new mc,Jf=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty((0,iu.Z)(e),"id",{value:Zf++}),e.uuid=Ol(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return(0,m.Z)(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(Zl(e)?Hf:Vf)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new Hl).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Wf.makeRotationFromQuaternion(e),this.applyMatrix4(Wf),this}},{key:"rotateX",value:function(e){return Wf.makeRotationX(e),this.applyMatrix4(Wf),this}},{key:"rotateY",value:function(e){return Wf.makeRotationY(e),this.applyMatrix4(Wf),this}},{key:"rotateZ",value:function(e){return Wf.makeRotationZ(e),this.applyMatrix4(Wf),this}},{key:"translate",value:function(e,t,n){return Wf.makeTranslation(e,t,n),this.applyMatrix4(Wf),this}},{key:"scale",value:function(e,t,n){return Wf.makeScale(e,t,n),this.applyMatrix4(Wf),this}},{key:"lookAt",value:function(e){return qf.lookAt(e),qf.updateMatrix(),this.applyMatrix4(qf.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Xf).negate(),this.translate(Xf.x,Xf.y,Xf.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Gf(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new yc);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new mc(-1/0,-1/0,-1/0),new mc(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Kf.setFromBufferAttribute(i),this.morphTargetsRelative?(Qf.addVectors(this.boundingBox.min,Kf.min),this.boundingBox.expandByPoint(Qf),Qf.addVectors(this.boundingBox.max,Kf.max),this.boundingBox.expandByPoint(Qf)):(this.boundingBox.expandByPoint(Kf.min),this.boundingBox.expandByPoint(Kf.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Dc);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new mc,1/0);if(e){var n=this.boundingSphere.center;if(Kf.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];Yf.setFromBufferAttribute(a),this.morphTargetsRelative?(Qf.addVectors(Kf.min,Yf.min),Kf.expandByPoint(Qf),Qf.addVectors(Kf.max,Yf.max),Kf.expandByPoint(Qf)):(Kf.expandByPoint(Yf.min),Kf.expandByPoint(Yf.max))}Kf.getCenter(n);for(var o=0,s=0,u=e.count;s<u;s++)Qf.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(Qf));if(t)for(var l=0,c=t.length;l<c;l++)for(var f=t[l],d=this.morphTargetsRelative,h=0,p=f.count;h<p;h++)Qf.fromBufferAttribute(f,h),d&&(Xf.fromBufferAttribute(e,h),Qf.add(Xf)),o=Math.max(o,n.distanceToSquared(Qf));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new zf(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,u=[],l=[],c=0;c<o;c++)u[c]=new mc,l[c]=new mc;var f=new mc,d=new mc,h=new mc,p=new Vl,m=new Vl,v=new Vl,g=new mc,y=new mc,_=this.groups;0===_.length&&(_=[{start:0,count:n.length}]);for(var b=0,x=_.length;b<x;++b)for(var w=_[b],S=w.start,E=S,A=S+w.count;E<A;E+=3)D(n[E+0],n[E+1],n[E+2]);for(var M=new mc,T=new mc,k=new mc,C=new mc,P=0,R=_.length;P<R;++P)for(var N=_[P],O=N.start,I=O,L=O+N.count;I<L;I+=3)U(n[I+0]),U(n[I+1]),U(n[I+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function D(e,t,n){f.fromArray(r,3*e),d.fromArray(r,3*t),h.fromArray(r,3*n),p.fromArray(a,2*e),m.fromArray(a,2*t),v.fromArray(a,2*n),d.sub(f),h.sub(f),m.sub(p),v.sub(p);var i=1/(m.x*v.y-v.x*m.y);isFinite(i)&&(g.copy(d).multiplyScalar(v.y).addScaledVector(h,-m.y).multiplyScalar(i),y.copy(h).multiplyScalar(m.x).addScaledVector(d,-v.x).multiplyScalar(i),u[e].add(g),u[t].add(g),u[n].add(g),l[e].add(y),l[t].add(y),l[n].add(y))}function U(e){k.fromArray(i,3*e),C.copy(k);var t=u[e];M.copy(t),M.sub(k.multiplyScalar(k.dot(t))).normalize(),T.crossVectors(C,t);var n=T.dot(l[e])<0?-1:1;s[4*e]=M.x,s[4*e+1]=M.y,s[4*e+2]=M.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new zf(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new mc,o=new mc,s=new mc,u=new mc,l=new mc,c=new mc,f=new mc,d=new mc;if(e)for(var h=0,p=e.count;h<p;h+=3){var m=e.getX(h+0),v=e.getX(h+1),g=e.getX(h+2);a.fromBufferAttribute(t,m),o.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),f.subVectors(s,o),d.subVectors(a,o),f.cross(d),u.fromBufferAttribute(n,m),l.fromBufferAttribute(n,v),c.fromBufferAttribute(n,g),u.add(f),l.add(f),c.add(f),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,_=t.count;y<_;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),f.subVectors(s,o),d.subVectors(a,o),f.cross(d),n.setXYZ(y+0,f.x,f.y,f.z),n.setXYZ(y+1,f.x,f.y,f.z),n.setXYZ(y+2,f.x,f.y,f.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Qf.fromBufferAttribute(e,t),Qf.normalize(),e.setXYZ(t,Qf.x,Qf.y,Qf.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,u=0,l=t.length;u<l;u++){o=e.isInterleavedBufferAttribute?t[u]*e.data.stride+e.offset:t[u]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new zf(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var u in s){for(var l=[],c=s[u],f=0,d=c.length;f<d;f++){var h=e(c[f],r);l.push(h)}t.morphAttributes[u]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,m=0,v=p.length;m<v;m++){var g=p[m];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},u=!1;for(var l in this.morphAttributes){for(var c=this.morphAttributes[l],f=[],d=0,h=c.length;d<h;d++){var p=c[d];f.push(p.toJSON(e.data))}f.length>0&&(s[l]=f,u=!0)}u&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var m=this.groups;m.length>0&&(e.data.groups=JSON.parse(JSON.stringify(m)));var v=this.boundingSphere;return null!==v&&(e.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var u=[],l=o[s],c=0,f=l.length;c<f;c++)u.push(l[c].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,h=0,p=d.length;h<p;h++){var m=d[h];this.addGroup(m.start,m.count,m.materialIndex)}var v=e.boundingBox;null!==v&&(this.boundingBox=v.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(kl),$f=new Zc,ed=new Gc,td=new Dc,nd=new mc,rd=new mc,id=new mc,ad=new mc,od=new mc,sd=new mc,ud=new Vl,ld=new Vl,cd=new Vl,fd=new mc,dd=new mc,hd=new mc,pd=new mc,md=new mc,vd=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Jf,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ff;return(0,p.Z)(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,m.Z)(n,[{key:"copy",value:function(e,t){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);var o=this.morphTargetInfluences;if(i&&o){sd.set(0,0,0);for(var s=0,u=i.length;s<u;s++){var l=o[s],c=i[s];0!==l&&(od.fromBufferAttribute(c,e),a?sd.addScaledVector(od,l):sd.addScaledVector(od.sub(t),l))}t.add(sd)}return t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),td.copy(n.boundingSphere),td.applyMatrix4(i),ed.copy(e.ray).recast(e.near),!1===td.containsPoint(ed.origin)){if(null===ed.intersectSphere(td,nd))return;if(ed.origin.distanceToSquared(nd)>Math.pow(e.far-e.near,2))return}$f.copy(i).invert(),ed.copy(e.ray).applyMatrix4($f),null!==n.boundingBox&&!1===ed.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,ed)}}},{key:"_computeIntersections",value:function(e,t,n){var r,i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,u=i.attributes.uv,l=i.attributes.uv1,c=i.attributes.normal,f=i.groups,d=i.drawRange;if(null!==o)if(Array.isArray(a))for(var h=0,p=f.length;h<p;h++)for(var m=f[h],v=a[m.materialIndex],g=Math.max(m.start,d.start),y=Math.min(o.count,Math.min(m.start+m.count,d.start+d.count));g<y;g+=3){(r=gd(this,v,e,n,u,l,c,o.getX(g),o.getX(g+1),o.getX(g+2)))&&(r.faceIndex=Math.floor(g/3),r.face.materialIndex=m.materialIndex,t.push(r))}else for(var _=Math.max(0,d.start),b=Math.min(o.count,d.start+d.count);_<b;_+=3){(r=gd(this,a,e,n,u,l,c,o.getX(_),o.getX(_+1),o.getX(_+2)))&&(r.faceIndex=Math.floor(_/3),t.push(r))}else if(void 0!==s)if(Array.isArray(a))for(var x=0,w=f.length;x<w;x++)for(var S=f[x],E=a[S.materialIndex],A=Math.max(S.start,d.start),M=Math.min(s.count,Math.min(S.start+S.count,d.start+d.count));A<M;A+=3){(r=gd(this,E,e,n,u,l,c,A,A+1,A+2))&&(r.faceIndex=Math.floor(A/3),r.face.materialIndex=S.materialIndex,t.push(r))}else for(var T=Math.max(0,d.start),k=Math.min(s.count,d.start+d.count);T<k;T+=3){(r=gd(this,a,e,n,u,l,c,T,T+1,T+2))&&(r.faceIndex=Math.floor(T/3),t.push(r))}}}]),n}(gf);function gd(e,t,n,r,i,a,o,s,u,l){e.getVertexPosition(s,rd),e.getVertexPosition(u,id),e.getVertexPosition(l,ad);var c=function(e,t,n,r,i,a,o,s){if(null===(t.side===gu?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===vu,s)))return null;md.copy(s),md.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(md);return u<n.near||u>n.far?null:{distance:u,point:md.clone(),object:e}}(e,t,n,r,rd,id,ad,pd);if(c){i&&(ud.fromBufferAttribute(i,s),ld.fromBufferAttribute(i,u),cd.fromBufferAttribute(i,l),c.uv=Cf.getInterpolation(pd,rd,id,ad,ud,ld,cd,new Vl)),a&&(ud.fromBufferAttribute(a,s),ld.fromBufferAttribute(a,u),cd.fromBufferAttribute(a,l),c.uv1=Cf.getInterpolation(pd,rd,id,ad,ud,ld,cd,new Vl),c.uv2=c.uv1),o&&(fd.fromBufferAttribute(o,s),dd.fromBufferAttribute(o,u),hd.fromBufferAttribute(o,l),c.normal=Cf.getInterpolation(pd,rd,id,ad,fd,dd,hd,new mc),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));var f={a:s,b:u,c:l,normal:new mc,materialIndex:0};Cf.getNormal(rd,id,ad,f.normal),c.face=f}return c}var yd=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;(0,p.Z)(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:u};var l=(0,iu.Z)(e);o=Math.floor(o),s=Math.floor(s),u=Math.floor(u);var c=[],f=[],d=[],h=[],m=0,v=0;function g(e,t,n,r,i,a,o,s,u,p,g){for(var y=a/u,_=o/p,b=a/2,x=o/2,w=s/2,S=u+1,E=p+1,A=0,M=0,T=new mc,k=0;k<E;k++)for(var C=k*_-x,P=0;P<S;P++){var R=P*y-b;T[e]=R*r,T[t]=C*i,T[n]=w,f.push(T.x,T.y,T.z),T[e]=0,T[t]=0,T[n]=s>0?1:-1,d.push(T.x,T.y,T.z),h.push(P/u),h.push(1-k/p),A+=1}for(var N=0;N<p;N++)for(var O=0;O<u;O++){var I=m+O+S*N,L=m+O+S*(N+1),D=m+(O+1)+S*(N+1),U=m+(O+1)+S*N;c.push(I,L,U),c.push(L,D,U),M+=6}l.addGroup(v,M,g),v+=M,m+=A}return g("z","y","x",-1,-1,a,i,r,u,s,0),g("z","y","x",1,-1,a,i,-r,u,s,1),g("x","z","y",1,1,r,a,i,o,u,2),g("x","z","y",1,-1,r,a,-i,o,u,3),g("x","y","z",1,-1,r,i,a,o,s,4),g("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new Gf(f,3)),e.setAttribute("normal",new Gf(d,3)),e.setAttribute("uv",new Gf(h,2)),e}return(0,m.Z)(n,[{key:"copy",value:function(e){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(Jf);function _d(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function bd(e){for(var t={},n=0;n<e.length;n++){var r=_d(e[n]);for(var i in r)t[i]=r[i]}return t}function xd(e){return null===e.getRenderTarget()?e.outputColorSpace:ec.workingColorSpace}var wd={clone:_d,merge:bd},Sd=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.forceSinglePass=!0,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return(0,m.Z)(n,[{key:"copy",value:function(e){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=_d(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=nu((0,Ys.Z)(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(Uf),Ed=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new Zc,e.projectionMatrix=new Zc,e.projectionMatrixInverse=new Zc,e.coordinateSystem=Ml,e}return(0,m.Z)(n,[{key:"copy",value:function(e,t){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}},{key:"getWorldDirection",value:function(e){return nu((0,Ys.Z)(n.prototype),"getWorldDirection",this).call(this,e).negate()}},{key:"updateMatrixWorld",value:function(e){nu((0,Ys.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){nu((0,Ys.Z)(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(gf),Ad=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return(0,p.Z)(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return(0,m.Z)(n,[{key:"copy",value:function(e,t){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Nl*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Rl*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*Nl*Math.atan(Math.tan(.5*Rl*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*Rl*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=nu((0,Ys.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(Ed),Md=-90,Td=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a;(0,p.Z)(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=i,a.coordinateSystem=null,a.activeMipmapLevel=0;var o=new Ad(Md,1,e,r);o.layers=a.layers,a.add(o);var s=new Ad(Md,1,e,r);s.layers=a.layers,a.add(s);var u=new Ad(Md,1,e,r);u.layers=a.layers,a.add(u);var l=new Ad(Md,1,e,r);l.layers=a.layers,a.add(l);var c=new Ad(Md,1,e,r);c.layers=a.layers,a.add(c);var f=new Ad(Md,1,e,r);return f.layers=a.layers,a.add(f),a}return(0,m.Z)(n,[{key:"updateCoordinateSystem",value:function(){var e,t=this.coordinateSystem,n=this.children.concat(),r=(0,i.Z)(n,6),a=r[0],o=r[1],s=r[2],u=r[3],l=r[4],c=r[5],f=(0,tu.Z)(n);try{for(f.s();!(e=f.n()).done;){var d=e.value;this.remove(d)}}catch(v){f.e(v)}finally{f.f()}if(t===Ml)a.up.set(0,1,0),a.lookAt(1,0,0),o.up.set(0,1,0),o.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),u.up.set(0,0,1),u.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else{if(t!==Tl)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);a.up.set(0,-1,0),a.lookAt(-1,0,0),o.up.set(0,-1,0),o.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),u.up.set(0,0,-1),u.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1)}var h,p=(0,tu.Z)(n);try{for(p.s();!(h=p.n()).done;){var m=h.value;this.add(m),m.updateMatrixWorld()}}catch(v){p.e(v)}finally{p.f()}}},{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=this.activeMipmapLevel;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());var a=(0,i.Z)(this.children,6),o=a[0],s=a[1],u=a[2],l=a[3],c=a[4],f=a[5],d=e.getRenderTarget(),h=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;var v=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,o),e.setRenderTarget(n,1,r),e.render(t,s),e.setRenderTarget(n,2,r),e.render(t,u),e.setRenderTarget(n,3,r),e.render(t,l),e.setRenderTarget(n,4,r),e.render(t,c),n.texture.generateMipmaps=v,e.setRenderTarget(n,5,r),e.render(t,f),e.setRenderTarget(d,h,p),e.xr.enabled=m,n.texture.needsPMREMUpdate=!0}}]),n}(gf),kd=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i,a,o,s,u,l,c,f){var d;return(0,p.Z)(this,n),e=void 0!==e?e:[],r=void 0!==r?r:Pu,(d=t.call(this,e,r,i,a,o,s,u,l,c,f)).isCubeTexture=!0,d.flipY=!1,d}return(0,m.Z)(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(uc),Cd=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,p.Z)(this,n),(e=t.call(this,r,r,i)).isWebGLCubeRenderTarget=!0;var a={width:r,height:r,depth:1},o=[a,a,a,a,a,a];return void 0!==i.encoding&&(Xl("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===dl?pl:hl),e.texture=new kd(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:zu,e}return(0,m.Z)(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new yd(5,5,5),o=new Sd({name:"CubemapFromEquirect",uniforms:_d(n),vertexShader:r,fragmentShader:i,side:gu,blending:0});o.uniforms.tEquirect.value=t;var s=new vd(a,o),u=t.minFilter;return t.minFilter===Hu&&(t.minFilter=zu),new Td(1,10,this).update(e,s),t.minFilter=u,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(fc),Pd=new mc,Rd=new mc,Nd=new Hl,Od=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mc(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,p.Z)(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return(0,m.Z)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=Pd.subVectors(n,t).cross(Rd.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var n=e.delta(Pd),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||Nd.getNormalMatrix(e),r=this.coplanarPoint(Pd).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Id=new Dc,Ld=new mc,Dd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Od,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Od,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Od,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Od,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Od,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Od;(0,p.Z)(this,e),this.planes=[t,n,r,i,a,o]}return(0,m.Z)(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ml,n=this.planes,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],c=r[6],f=r[7],d=r[8],h=r[9],p=r[10],m=r[11],v=r[12],g=r[13],y=r[14],_=r[15];if(n[0].setComponents(s-i,f-u,m-d,_-v).normalize(),n[1].setComponents(s+i,f+u,m+d,_+v).normalize(),n[2].setComponents(s+a,f+l,m+h,_+g).normalize(),n[3].setComponents(s-a,f-l,m-h,_-g).normalize(),n[4].setComponents(s-o,f-c,m-p,_-y).normalize(),t===Ml)n[5].setComponents(s+o,f+c,m+p,_+y).normalize();else{if(t!==Tl)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(o,c,p,y).normalize()}return this}},{key:"intersectsObject",value:function(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Id.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{var t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Id.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Id)}},{key:"intersectsSprite",value:function(e){return Id.center.set(0,0,0),Id.radius=.7071067811865476,Id.applyMatrix4(e.matrixWorld),this.intersectsSphere(Id)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Ld.x=r.normal.x>0?e.max.x:e.min.x,Ld.y=r.normal.y>0?e.max.y:e.min.y,Ld.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Ld)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function Ud(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Fd(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);if(void 0===o)r.set(t,function(t,r){var i,a=t.array,o=t.usage,s=a.byteLength,u=e.createBuffer();if(e.bindBuffer(r,u),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=e.FLOAT;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=e.HALF_FLOAT}else i=e.UNSIGNED_SHORT;else if(a instanceof Int16Array)i=e.SHORT;else if(a instanceof Uint32Array)i=e.UNSIGNED_INT;else if(a instanceof Int32Array)i=e.INT;else if(a instanceof Int8Array)i=e.BYTE;else if(a instanceof Uint8Array)i=e.UNSIGNED_BYTE;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=e.UNSIGNED_BYTE}return{buffer:u,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version,size:s}}(t,i));else if(o.version<t.version){if(o.size!==t.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,r,i){var a=r.array,o=r._updateRange,s=r.updateRanges;if(e.bindBuffer(i,t),-1===o.count&&0===s.length&&e.bufferSubData(i,0,a),0!==s.length){for(var u=0,l=s.length;u<l;u++){var c=s[u];n?e.bufferSubData(i,c.start*a.BYTES_PER_ELEMENT,a,c.start,c.count):e.bufferSubData(i,c.start*a.BYTES_PER_ELEMENT,a.subarray(c.start,c.start+c.count))}r.clearUpdateRanges()}-1!==o.count&&(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version}}}}}var jd=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,p.Z)(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,u=i/2,l=Math.floor(a),c=Math.floor(o),f=l+1,d=c+1,h=r/l,m=i/c,v=[],g=[],y=[],_=[],b=0;b<d;b++)for(var x=b*m-u,w=0;w<f;w++){var S=w*h-s;g.push(S,-x,0),y.push(0,0,1),_.push(w/l),_.push(1-b/c)}for(var E=0;E<c;E++)for(var A=0;A<l;A++){var M=A+f*E,T=A+f*(E+1),k=A+1+f*(E+1),C=A+1+f*E;v.push(M,T,C),v.push(T,k,C)}return e.setIndex(v),e.setAttribute("position",new Gf(g,3)),e.setAttribute("normal",new Gf(y,3)),e.setAttribute("uv",new Gf(_,2)),e}return(0,m.Z)(n,[{key:"copy",value:function(e){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(Jf),Bd={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\tattribute float batchId;\n\tuniform highp sampler2D batchingTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( batchId );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor *= toneMappingExposure;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\treturn color;\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},zd={common:{diffuse:{value:new If(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Hl},alphaMap:{value:null},alphaMapTransform:{value:new Hl},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Hl}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Hl}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Hl}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Hl},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Hl},normalScale:{value:new Vl(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Hl},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Hl}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Hl}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Hl}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new If(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new If(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Hl},alphaTest:{value:0},uvTransform:{value:new Hl}},sprite:{diffuse:{value:new If(16777215)},opacity:{value:1},center:{value:new Vl(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Hl},alphaMap:{value:null},alphaMapTransform:{value:new Hl},alphaTest:{value:0}}},Vd={basic:{uniforms:bd([zd.common,zd.specularmap,zd.envmap,zd.aomap,zd.lightmap,zd.fog]),vertexShader:Bd.meshbasic_vert,fragmentShader:Bd.meshbasic_frag},lambert:{uniforms:bd([zd.common,zd.specularmap,zd.envmap,zd.aomap,zd.lightmap,zd.emissivemap,zd.bumpmap,zd.normalmap,zd.displacementmap,zd.fog,zd.lights,{emissive:{value:new If(0)}}]),vertexShader:Bd.meshlambert_vert,fragmentShader:Bd.meshlambert_frag},phong:{uniforms:bd([zd.common,zd.specularmap,zd.envmap,zd.aomap,zd.lightmap,zd.emissivemap,zd.bumpmap,zd.normalmap,zd.displacementmap,zd.fog,zd.lights,{emissive:{value:new If(0)},specular:{value:new If(1118481)},shininess:{value:30}}]),vertexShader:Bd.meshphong_vert,fragmentShader:Bd.meshphong_frag},standard:{uniforms:bd([zd.common,zd.envmap,zd.aomap,zd.lightmap,zd.emissivemap,zd.bumpmap,zd.normalmap,zd.displacementmap,zd.roughnessmap,zd.metalnessmap,zd.fog,zd.lights,{emissive:{value:new If(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Bd.meshphysical_vert,fragmentShader:Bd.meshphysical_frag},toon:{uniforms:bd([zd.common,zd.aomap,zd.lightmap,zd.emissivemap,zd.bumpmap,zd.normalmap,zd.displacementmap,zd.gradientmap,zd.fog,zd.lights,{emissive:{value:new If(0)}}]),vertexShader:Bd.meshtoon_vert,fragmentShader:Bd.meshtoon_frag},matcap:{uniforms:bd([zd.common,zd.bumpmap,zd.normalmap,zd.displacementmap,zd.fog,{matcap:{value:null}}]),vertexShader:Bd.meshmatcap_vert,fragmentShader:Bd.meshmatcap_frag},points:{uniforms:bd([zd.points,zd.fog]),vertexShader:Bd.points_vert,fragmentShader:Bd.points_frag},dashed:{uniforms:bd([zd.common,zd.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Bd.linedashed_vert,fragmentShader:Bd.linedashed_frag},depth:{uniforms:bd([zd.common,zd.displacementmap]),vertexShader:Bd.depth_vert,fragmentShader:Bd.depth_frag},normal:{uniforms:bd([zd.common,zd.bumpmap,zd.normalmap,zd.displacementmap,{opacity:{value:1}}]),vertexShader:Bd.meshnormal_vert,fragmentShader:Bd.meshnormal_frag},sprite:{uniforms:bd([zd.sprite,zd.fog]),vertexShader:Bd.sprite_vert,fragmentShader:Bd.sprite_frag},background:{uniforms:{uvTransform:{value:new Hl},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Bd.background_vert,fragmentShader:Bd.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Bd.backgroundCube_vert,fragmentShader:Bd.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Bd.cube_vert,fragmentShader:Bd.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Bd.equirect_vert,fragmentShader:Bd.equirect_frag},distanceRGBA:{uniforms:bd([zd.common,zd.displacementmap,{referencePosition:{value:new mc},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Bd.distanceRGBA_vert,fragmentShader:Bd.distanceRGBA_frag},shadow:{uniforms:bd([zd.lights,zd.fog,{color:{value:new If(0)},opacity:{value:1}}]),vertexShader:Bd.shadow_vert,fragmentShader:Bd.shadow_frag}};Vd.physical={uniforms:bd([Vd.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Hl},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Hl},clearcoatNormalScale:{value:new Vl(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Hl},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Hl},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Hl},sheen:{value:0},sheenColor:{value:new If(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Hl},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Hl},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Hl},transmissionSamplerSize:{value:new Vl},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Hl},attenuationDistance:{value:0},attenuationColor:{value:new If(0)},specularColor:{value:new If(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Hl},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Hl},anisotropyVector:{value:new Vl},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Hl}}]),vertexShader:Bd.meshphysical_vert,fragmentShader:Bd.meshphysical_frag};var Hd={r:0,b:0,g:0};function Gd(e,t,n,r,i,a,o){var s,u,l=new If(0),c=!0===a?0:1,f=null,d=0,h=null;function p(t,n){t.getRGB(Hd,xd(e)),r.buffers.color.setClear(Hd.r,Hd.g,Hd.b,n,o)}return{getClearColor:function(){return l},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),p(l,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){p(l,c=e)},render:function(a,m){var v=!1,g=!0===m.isScene?m.background:null;g&&g.isTexture&&(g=(m.backgroundBlurriness>0?n:t).get(g)),null===g?p(l,c):g&&g.isColor&&(p(g,1),v=!0);var y=e.xr.getEnvironmentBlendMode();"additive"===y?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===y&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||v)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),g&&(g.isCubeTexture||g.mapping===Iu)?(void 0===u&&((u=new vd(new yd(1,1,1),new Sd({name:"BackgroundCubeMaterial",uniforms:_d(Vd.backgroundCube.uniforms),vertexShader:Vd.backgroundCube.vertexShader,fragmentShader:Vd.backgroundCube.fragmentShader,side:gu,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=g,u.material.uniforms.flipEnvMap.value=g.isCubeTexture&&!1===g.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,u.material.toneMapped=ec.getTransfer(g.colorSpace)!==_l,f===g&&d===g.version&&h===e.toneMapping||(u.material.needsUpdate=!0,f=g,d=g.version,h=e.toneMapping),u.layers.enableAll(),a.unshift(u,u.geometry,u.material,0,0,null)):g&&g.isTexture&&(void 0===s&&((s=new vd(new jd(2,2),new Sd({name:"BackgroundMaterial",uniforms:_d(Vd.background.uniforms),vertexShader:Vd.background.vertexShader,fragmentShader:Vd.background.fragmentShader,side:vu,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=g,s.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,s.material.toneMapped=ec.getTransfer(g.colorSpace)!==_l,!0===g.matrixAutoUpdate&&g.updateMatrix(),s.material.uniforms.uvTransform.value.copy(g.matrix),f===g&&d===g.version&&h===e.toneMapping||(s.material.needsUpdate=!0,f=g,d=g.version,h=e.toneMapping),s.layers.enableAll(),a.unshift(s,s.geometry,s.material,0,0,null))}}}function Zd(e,t,n,r){var i=e.getParameter(e.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},u=h(null),l=u,c=!1;function f(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function h(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){for(var e=l.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function m(e){v(e,0)}function v(n,i){var a=l.newAttributes,o=l.enabledAttributes,s=l.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function g(){for(var t=l.newAttributes,n=l.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function _(){b(),c=!0,l!==u&&f((l=u).object)}function b(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,d,_,b){var x=!1;if(o){var w=function(t,n,i){var o=!0===i.wireframe,u=s[t.id];void 0===u&&(u={},s[t.id]=u);var l=u[n.id];void 0===l&&(l={},u[n.id]=l);var c=l[o];void 0===c&&(c=h(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[o]=c);return c}(_,d,u);l!==w&&f((l=w).object),x=function(e,t,n,r){var i=l.attributes,a=t.attributes,o=0,s=n.getAttributes();for(var u in s){if(s[u].location>=0){var c=i[u],f=a[u];if(void 0===f&&("instanceMatrix"===u&&e.instanceMatrix&&(f=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(f=e.instanceColor)),void 0===c)return!0;if(c.attribute!==f)return!0;if(f&&c.data!==f.data)return!0;o++}}return l.attributesNum!==o||l.index!==r}(i,_,d,b),x&&function(e,t,n,r){var i={},a=t.attributes,o=0,s=n.getAttributes();for(var u in s){if(s[u].location>=0){var c=a[u];void 0===c&&("instanceMatrix"===u&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(c=e.instanceColor));var f={};f.attribute=c,c&&c.data&&(f.data=c.data),i[u]=f,o++}}l.attributes=i,l.attributesNum=o,l.index=r}(i,_,d,b)}else{var S=!0===u.wireframe;l.geometry===_.id&&l.program===d.id&&l.wireframe===S||(l.geometry=_.id,l.program=d.id,l.wireframe=S,x=!0)}null!==b&&n.update(b,e.ELEMENT_ARRAY_BUFFER),(x||c)&&(c=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();var u=s.attributes,l=o.getAttributes(),c=a.defaultAttributeValues;for(var f in l){var d=l[f];if(d.location>=0){var h=u[f];if(void 0===h&&("instanceMatrix"===f&&i.instanceMatrix&&(h=i.instanceMatrix),"instanceColor"===f&&i.instanceColor&&(h=i.instanceColor)),void 0!==h){var _=h.normalized,b=h.itemSize,x=n.get(h);if(void 0===x)continue;var w=x.buffer,S=x.type,E=x.bytesPerElement,A=!0===r.isWebGL2&&(S===e.INT||S===e.UNSIGNED_INT||h.gpuType===Wu);if(h.isInterleavedBufferAttribute){var M=h.data,T=M.stride,k=h.offset;if(M.isInstancedInterleavedBuffer){for(var C=0;C<d.locationSize;C++)v(d.location+C,M.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=M.meshPerAttribute*M.count)}else for(var P=0;P<d.locationSize;P++)m(d.location+P);e.bindBuffer(e.ARRAY_BUFFER,w);for(var R=0;R<d.locationSize;R++)y(d.location+R,b/d.locationSize,S,_,T*E,(k+b/d.locationSize*R)*E,A)}else{if(h.isInstancedBufferAttribute){for(var N=0;N<d.locationSize;N++)v(d.location+N,h.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=h.meshPerAttribute*h.count)}else for(var O=0;O<d.locationSize;O++)m(d.location+O);e.bindBuffer(e.ARRAY_BUFFER,w);for(var I=0;I<d.locationSize;I++)y(d.location+I,b/d.locationSize,S,_,b*E,b/d.locationSize*I*E,A)}}else if(void 0!==c){var L=c[f];if(void 0!==L)switch(L.length){case 2:e.vertexAttrib2fv(d.location,L);break;case 3:e.vertexAttrib3fv(d.location,L);break;case 4:e.vertexAttrib4fv(d.location,L);break;default:e.vertexAttrib1fv(d.location,L)}}}}g()}(i,u,d,_),null!==b&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(b).buffer))},reset:_,resetDefaultState:b,dispose:function(){for(var e in _(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)d(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:g}}function Wd(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var u,l;if(a)u=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](i,r,o,s),n.update(o,i,s)}},this.renderMultiDraw=function(e,r,a){if(0!==a){var o=t.get("WEBGL_multi_draw");if(null===o)for(var s=0;s<a;s++)this.render(e[s],r[s]);else{o.multiDrawArraysWEBGL(i,e,0,r,0,a);for(var u=0,l=0;l<a;l++)u+=r[l];n.update(u,i,1)}}}}function qd(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=a||t.has("WEBGL_draw_buffers"),l=!0===n.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),f=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),p=e.getParameter(e.MAX_VERTEX_ATTRIBS),m=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),v=e.getParameter(e.MAX_VARYING_VECTORS),g=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),y=f>0,_=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:f,maxTextureSize:d,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:_,floatVertexTextures:y&&_,maxSamples:a?e.getParameter(e.MAX_SAMPLES):0}}function Xd(e){var t=this,n=null,r=0,i=!1,a=!1,o=new Od,s=new Hl,u={value:null,needsUpdate:!1};function l(e,n,r,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=u.value,!0!==i||null===l){var c=r+4*a,f=n.matrixWorldInverse;s.getNormalMatrix(f),(null===l||l.length<c)&&(l=new Float32Array(c));for(var d=0,h=r;d!==a;++d,h+=4)o.copy(e[d]).applyMatrix4(f,s),o.normal.toArray(l,h),l[h+3]=o.constant}u.value=l,u.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,l(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=l(e,t,0)},this.setState=function(o,s,c){var f=o.clippingPlanes,d=o.clipIntersection,h=o.clipShadows,p=e.get(o);if(!i||null===f||0===f.length||a&&!h)a?l(null):function(){u.value!==n&&(u.value=n,u.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{var m=a?0:r,v=4*m,g=p.clippingState||null;u.value=g,g=l(f,s,v,c);for(var y=0;y!==v;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=m}}}function Kd(e){var t=new WeakMap;function n(e,t){return t===Nu?e.mapping=Pu:t===Ou&&(e.mapping=Ru),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping;if(a===Nu||a===Ou){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new Cd(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var Yd=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return(0,p.Z)(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=u,e.updateProjectionMatrix(),e}return(0,m.Z)(n,[{key:"copy",value:function(e,t){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=u*this.view.offsetX)+u*this.view.width,s=(o-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=nu((0,Ys.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(Ed),Qd=[.125,.215,.35,.446,.526,.582],Jd=20,$d=new Yd,eh=new If,th=null,nh=0,rh=0,ih=(1+Math.sqrt(5))/2,ah=1/ih,oh=[new mc(1,1,1),new mc(-1,1,1),new mc(1,1,-1),new mc(-1,1,-1),new mc(0,ih,ah),new mc(0,ih,-ah),new mc(ah,0,ih),new mc(-ah,0,ih),new mc(ih,ah,0),new mc(-ih,ah,0)],sh=function(){function e(t){(0,p.Z)(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return(0,m.Z)(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;th=this._renderer.getRenderTarget(),nh=this._renderer.getActiveCubeFace(),rh=this._renderer.getActiveMipmapLevel(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=fh(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=ch(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(th,nh,rh),e.scissorTest=!1,lh(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===Pu||e.mapping===Ru?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),th=this._renderer.getRenderTarget(),nh=this._renderer.getActiveCubeFace(),rh=this._renderer.getActiveMipmapLevel();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:zu,minFilter:zu,generateMipmaps:!1,type:Ku,format:Qu,colorSpace:ml,depthBuffer:!1},r=uh(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=uh(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+Qd.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var u=1/s;o>e-4?u=Qd[o-e+4-1]:0===o&&(u=0),r.push(u);for(var l=1/(s-2),c=-l,f=1+l,d=[c,c,f,c,f,f,c,c,f,f,c,f],h=6,p=6,m=3,v=2,g=1,y=new Float32Array(m*p*h),_=new Float32Array(v*p*h),b=new Float32Array(g*p*h),x=0;x<h;x++){var w=x%3*2/3-1,S=x>2?0:-1,E=[w,S,0,w+2/3,S,0,w+2/3,S+1,0,w,S,0,w+2/3,S+1,0,w,S+1,0];y.set(E,m*p*x),_.set(d,v*p*x);var A=[x,x,x,x,x,x];b.set(A,g*p*x)}var M=new Jf;M.setAttribute("position",new zf(y,m)),M.setAttribute("uv",new zf(_,v)),M.setAttribute("faceIndex",new zf(b,g)),t.push(M),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(Jd),i=new mc(0,1,0),a=new Sd({name:"SphericalGaussianBlur",defines:{n:Jd,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new vd(this._lodPlanes[0],e);this._renderer.compile(t,$d)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new Ad(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,u=s.autoClear,l=s.toneMapping;s.getClearColor(eh),s.toneMapping=wu,s.autoClear=!1;var c=new Ff({name:"PMREM.Background",side:gu,depthWrite:!1,depthTest:!1}),f=new vd(new yd,c),d=!1,h=e.background;h?h.isColor&&(c.color.copy(h),e.background=null,d=!0):(c.color.copy(eh),d=!0);for(var p=0;p<6;p++){var m=p%3;0===m?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===m?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var v=this._cubeSize;lh(r,m*v,p>2?v:0,v,v),s.setRenderTarget(r),d&&s.render(f,i),s.render(e,i)}f.geometry.dispose(),f.material.dispose(),s.toneMapping=l,s.autoClear=u,e.background=h}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===Pu||e.mapping===Ru;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=fh()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=ch());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new vd(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;lh(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,$d)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=oh[(r-1)%oh.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new vd(this._lodPlanes[r],u),c=u.uniforms,f=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*f):2*Math.PI/39,h=i/d,p=isFinite(i)?1+Math.floor(3*h):Jd;p>Jd&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(Jd));for(var m=[],v=0,g=0;g<Jd;++g){var y=g/h,_=Math.exp(-y*y/2);m.push(_),0===g?v+=_:g<p&&(v+=2*_)}for(var b=0;b<m.length;b++)m[b]=m[b]/v;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=m,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var x=this._lodMax;c.dTheta.value=d,c.mipInt.value=x-n;var w=this._sizeLods[r];lh(t,3*w*(r>x-4?r-x+4:0),4*(this._cubeSize-w),3*w,2*w),s.setRenderTarget(t),s.render(l,$d)}}]),e}();function uh(e,t,n){var r=new fc(e,t,n);return r.texture.mapping=Iu,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function lh(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function ch(){return new Sd({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function fh(){return new Sd({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function dh(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===Nu||a===Ou,s=a===Pu||a===Ru;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var u=t.get(i);return null===n&&(n=new sh(e)),u=o?n.fromEquirectangular(i,u):n.fromCubemap(i,u),t.set(i,u),u.texture}if(t.has(i))return t.get(i).texture;var l=i.image;if(o&&l&&l.height>0||s&&l&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)){null===n&&(n=new sh(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function hh(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function ph(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);for(var l in s.morphAttributes)for(var c=s.morphAttributes[l],f=0,d=c.length;f<d;f++)t.remove(c[f]);s.removeEventListener("dispose",o),delete i[s.id];var h=a.get(s);h&&(t.remove(h),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],f=s[u+1],d=s[u+2];n.push(c,f,f,d,d,c)}}else{if(void 0===i)return;var h=i.array;o=i.version;for(var p=0,m=h.length/3-1;p<m;p+=3){var v=p+0,g=p+1,y=p+2;n.push(v,g,g,y,y,v)}}var _=new(Zl(n)?Hf:Vf)(n,1);_.version=o;var b=a.get(e);b&&t.remove(b),a.set(e,_)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){var r=n.attributes;for(var i in r)t.update(r[i],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],u=0,l=s.length;u<l;u++)t.update(s[u],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function mh(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,u,l){if(0!==l){var c,f;if(s)c=e,f="drawElementsInstanced";else if(f="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[f](i,u,a,r*o,l),n.update(u,i,l)}},this.renderMultiDraw=function(e,r,s){if(0!==s){var u=t.get("WEBGL_multi_draw");if(null===u)for(var l=0;l<s;l++)this.render(e[l]/o,r[l]);else{u.multiDrawElementsWEBGL(i,r,0,a,e,0,s);for(var c=0,f=0;f<s;f++)c+=r[f];n.update(c,i,1)}}}}function vh(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function gh(e,t){return e[0]-t[0]}function yh(e,t){return Math.abs(t[1])-Math.abs(e[1])}function _h(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new lc,s=[],u=0;u<8;u++)s[u]=[u,0];return{update:function(u,l,c){var f=u.morphTargetInfluences;if(!0===t.isWebGL2){var d=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,h=void 0!==d?d.length:0,p=a.get(l);if(void 0===p||p.count!==h){void 0!==p&&p.texture.dispose();var m=void 0!==l.morphAttributes.position,v=void 0!==l.morphAttributes.normal,g=void 0!==l.morphAttributes.color,y=l.morphAttributes.position||[],_=l.morphAttributes.normal||[],b=l.morphAttributes.color||[],x=0;!0===m&&(x=1),!0===v&&(x=2),!0===g&&(x=3);var w=l.attributes.position.count*x,S=1;w>t.maxTextureSize&&(S=Math.ceil(w/t.maxTextureSize),w=t.maxTextureSize);var E=new Float32Array(w*S*4*h),A=new dc(E,w,S,h);A.type=Xu,A.needsUpdate=!0;for(var M=4*x,T=0;T<h;T++)for(var k=y[T],C=_[T],P=b[T],R=w*S*4*T,N=0;N<k.count;N++){var O=N*M;!0===m&&(o.fromBufferAttribute(k,N),E[R+O+0]=o.x,E[R+O+1]=o.y,E[R+O+2]=o.z,E[R+O+3]=0),!0===v&&(o.fromBufferAttribute(C,N),E[R+O+4]=o.x,E[R+O+5]=o.y,E[R+O+6]=o.z,E[R+O+7]=0),!0===g&&(o.fromBufferAttribute(P,N),E[R+O+8]=o.x,E[R+O+9]=o.y,E[R+O+10]=o.z,E[R+O+11]=4===P.itemSize?o.w:1)}p={count:h,texture:A,size:new Vl(w,S)},a.set(l,p),l.addEventListener("dispose",(function e(){A.dispose(),a.delete(l),l.removeEventListener("dispose",e)}))}for(var I=0,L=0;L<f.length;L++)I+=f[L];var D=l.morphTargetsRelative?1:1-I;c.getUniforms().setValue(e,"morphTargetBaseInfluence",D),c.getUniforms().setValue(e,"morphTargetInfluences",f),c.getUniforms().setValue(e,"morphTargetsTexture",p.texture,n),c.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{var U=void 0===f?0:f.length,F=r[l.id];if(void 0===F||F.length!==U){F=[];for(var j=0;j<U;j++)F[j]=[j,0];r[l.id]=F}for(var B=0;B<U;B++){var z=F[B];z[0]=B,z[1]=f[B]}F.sort(yh);for(var V=0;V<8;V++)V<U&&F[V][1]?(s[V][0]=F[V][0],s[V][1]=F[V][1]):(s[V][0]=Number.MAX_SAFE_INTEGER,s[V][1]=0);s.sort(gh);for(var H=l.morphAttributes.position,G=l.morphAttributes.normal,Z=0,W=0;W<8;W++){var q=s[W],X=q[0],K=q[1];X!==Number.MAX_SAFE_INTEGER&&K?(H&&l.getAttribute("morphTarget"+W)!==H[X]&&l.setAttribute("morphTarget"+W,H[X]),G&&l.getAttribute("morphNormal"+W)!==G[X]&&l.setAttribute("morphNormal"+W,G[X]),i[W]=K,Z+=K):(H&&!0===l.hasAttribute("morphTarget"+W)&&l.deleteAttribute("morphTarget"+W),G&&!0===l.hasAttribute("morphNormal"+W)&&l.deleteAttribute("morphNormal"+W),i[W]=0)}var Y=l.morphTargetsRelative?1:1-Z;c.getUniforms().setValue(e,"morphTargetBaseInfluence",Y),c.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function bh(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){var s=r.render.frame,u=o.geometry,l=t.get(o,u);if(i.get(l)!==s&&(t.update(l),i.set(l,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){var c=o.skeleton;i.get(c)!==s&&(c.update(),i.set(c,s))}return l},dispose:function(){i=new WeakMap}}}var xh=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i,a,o,s,u,l,c,f){var d;if((0,p.Z)(this,n),(f=void 0!==f?f:Ju)!==Ju&&f!==$u)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&f===Ju&&(i=qu),void 0===i&&f===$u&&(i=Yu),(d=t.call(this,null,a,o,s,u,l,f,i,c)).isDepthTexture=!0,d.image={width:e,height:r},d.magFilter=void 0!==u?u:Fu,d.minFilter=void 0!==l?l:Fu,d.flipY=!1,d.generateMipmaps=!1,d.compareFunction=null,d}return(0,m.Z)(n,[{key:"copy",value:function(e){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e),this.compareFunction=e.compareFunction,this}},{key:"toJSON",value:function(e){var t=nu((0,Ys.Z)(n.prototype),"toJSON",this).call(this,e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}]),n}(uc),wh=new uc,Sh=new xh(1,1);Sh.compareFunction=515;var Eh=new dc,Ah=new hc,Mh=new kd,Th=[],kh=[],Ch=new Float32Array(16),Ph=new Float32Array(9),Rh=new Float32Array(4);function Nh(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=Th[i];if(void 0===a&&(a=new Float32Array(i),Th[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function Oh(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Ih(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Lh(e,t){var n=kh[t];void 0===n&&(n=new Int32Array(t),kh[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Dh(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Uh(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Oh(n,t))return;e.uniform2fv(this.addr,t),Ih(n,t)}}function Fh(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Oh(n,t))return;e.uniform3fv(this.addr,t),Ih(n,t)}}function jh(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Oh(n,t))return;e.uniform4fv(this.addr,t),Ih(n,t)}}function Bh(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Oh(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Ih(n,t)}else{if(Oh(n,r))return;Rh.set(r),e.uniformMatrix2fv(this.addr,!1,Rh),Ih(n,r)}}function zh(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Oh(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Ih(n,t)}else{if(Oh(n,r))return;Ph.set(r),e.uniformMatrix3fv(this.addr,!1,Ph),Ih(n,r)}}function Vh(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Oh(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Ih(n,t)}else{if(Oh(n,r))return;Ch.set(r),e.uniformMatrix4fv(this.addr,!1,Ch),Ih(n,r)}}function Hh(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Gh(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Oh(n,t))return;e.uniform2iv(this.addr,t),Ih(n,t)}}function Zh(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Oh(n,t))return;e.uniform3iv(this.addr,t),Ih(n,t)}}function Wh(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Oh(n,t))return;e.uniform4iv(this.addr,t),Ih(n,t)}}function qh(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Xh(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Oh(n,t))return;e.uniform2uiv(this.addr,t),Ih(n,t)}}function Kh(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Oh(n,t))return;e.uniform3uiv(this.addr,t),Ih(n,t)}}function Yh(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Oh(n,t))return;e.uniform4uiv(this.addr,t),Ih(n,t)}}function Qh(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i);var a=this.type===e.SAMPLER_2D_SHADOW?Sh:wh;n.setTexture2D(t||a,i)}function Jh(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Ah,i)}function $h(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Mh,i)}function ep(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Eh,i)}function tp(e,t){e.uniform1fv(this.addr,t)}function np(e,t){var n=Nh(t,this.size,2);e.uniform2fv(this.addr,n)}function rp(e,t){var n=Nh(t,this.size,3);e.uniform3fv(this.addr,n)}function ip(e,t){var n=Nh(t,this.size,4);e.uniform4fv(this.addr,n)}function ap(e,t){var n=Nh(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function op(e,t){var n=Nh(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function sp(e,t){var n=Nh(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function up(e,t){e.uniform1iv(this.addr,t)}function lp(e,t){e.uniform2iv(this.addr,t)}function cp(e,t){e.uniform3iv(this.addr,t)}function fp(e,t){e.uniform4iv(this.addr,t)}function dp(e,t){e.uniform1uiv(this.addr,t)}function hp(e,t){e.uniform2uiv(this.addr,t)}function pp(e,t){e.uniform3uiv(this.addr,t)}function mp(e,t){e.uniform4uiv(this.addr,t)}function vp(e,t,n){var r=this.cache,i=t.length,a=Lh(n,i);Oh(r,a)||(e.uniform1iv(this.addr,a),Ih(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||wh,a[o])}function gp(e,t,n){var r=this.cache,i=t.length,a=Lh(n,i);Oh(r,a)||(e.uniform1iv(this.addr,a),Ih(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||Ah,a[o])}function yp(e,t,n){var r=this.cache,i=t.length,a=Lh(n,i);Oh(r,a)||(e.uniform1iv(this.addr,a),Ih(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||Mh,a[o])}function _p(e,t,n){var r=this.cache,i=t.length,a=Lh(n,i);Oh(r,a)||(e.uniform1iv(this.addr,a),Ih(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||Eh,a[o])}var bp=(0,m.Z)((function e(t,n,r){(0,p.Z)(this,e),this.id=t,this.addr=r,this.cache=[],this.type=n.type,this.setValue=function(e){switch(e){case 5126:return Dh;case 35664:return Uh;case 35665:return Fh;case 35666:return jh;case 35674:return Bh;case 35675:return zh;case 35676:return Vh;case 5124:case 35670:return Hh;case 35667:case 35671:return Gh;case 35668:case 35672:return Zh;case 35669:case 35673:return Wh;case 5125:return qh;case 36294:return Xh;case 36295:return Kh;case 36296:return Yh;case 35678:case 36198:case 36298:case 36306:case 35682:return Qh;case 35679:case 36299:case 36307:return Jh;case 35680:case 36300:case 36308:case 36293:return $h;case 36289:case 36303:case 36311:case 36292:return ep}}(n.type)})),xp=(0,m.Z)((function e(t,n,r){(0,p.Z)(this,e),this.id=t,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=function(e){switch(e){case 5126:return tp;case 35664:return np;case 35665:return rp;case 35666:return ip;case 35674:return ap;case 35675:return op;case 35676:return sp;case 5124:case 35670:return up;case 35667:case 35671:return lp;case 35668:case 35672:return cp;case 35669:case 35673:return fp;case 5125:return dp;case 36294:return hp;case 36295:return pp;case 36296:return mp;case 35678:case 36198:case 36298:case 36306:case 35682:return vp;case 35679:case 36299:case 36307:return gp;case 35680:case 36300:case 36308:case 36293:return yp;case 36289:case 36303:case 36311:case 36292:return _p}}(n.type)})),wp=function(){function e(t){(0,p.Z)(this,e),this.id=t,this.seq=[],this.map={}}return(0,m.Z)(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),Sp=/(\w+)(\])?(\[|\.)?/g;function Ep(e,t){e.seq.push(t),e.map[t.id]=t}function Ap(e,t,n){var r=e.name,i=r.length;for(Sp.lastIndex=0;;){var a=Sp.exec(r),o=Sp.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===i){Ep(n,void 0===l?new bp(s,e,t):new xp(s,e,t));break}var c=n.map[s];void 0===c&&Ep(n,c=new wp(s)),n=c}}var Mp=function(){function e(t,n){(0,p.Z)(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var a=t.getActiveUniform(n,i);Ap(a,t.getUniformLocation(n,a.name),this)}}return(0,m.Z)(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function Tp(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var kp=37297,Cp=0;function Pp(e,t,n){var r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function Rp(e,t){var n=function(e){var t,n=ec.getPrimaries(ec.workingColorSpace),r=ec.getPrimaries(e);switch(n===r?t="":n===xl&&r===bl?t="LinearDisplayP3ToLinearSRGB":n===bl&&r===xl&&(t="LinearSRGBToLinearDisplayP3"),e){case ml:case gl:return[t,"LinearTransferOETF"];case pl:case vl:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),[t,"LinearTransferOETF"]}}(t);return"vec4 ".concat(e,"( vec4 value ) { return ").concat(n[0],"( ").concat(n[1],"( value ) ); }")}function Np(e,t){var n;switch(t){case Su:n="Linear";break;case Eu:n="Reinhard";break;case Au:n="OptimizedCineon";break;case Mu:n="ACESFilmic";break;case ku:n="AgX";break;case Tu:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Op(e){return""!==e}function Ip(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Lp(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Dp=/^[ \t]*#include +<([\w\d./]+)>/gm;function Up(e){return e.replace(Dp,jp)}var Fp=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function jp(e,t){var n=Bd[t];if(void 0===n){var r=Fp.get(t);if(void 0===r)throw new Error("Can not resolve #include <"+t+">");n=Bd[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,r)}return Up(n)}var Bp=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function zp(e){return e.replace(Bp,Vp)}function Vp(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Hp(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Gp(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,u=n.vertexShader,l=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===hu?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===pu?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===mu&&(t="SHADOWMAP_TYPE_VSM"),t}(n),f=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Pu:case Ru:t="ENVMAP_TYPE_CUBE";break;case Iu:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),d=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===Ru&&(t="ENVMAP_MODE_REFRACTION");return t}(n),h=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case _u:t="ENVMAP_BLENDING_MULTIPLY";break;case bu:t="ENVMAP_BLENDING_MIX";break;case xu:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),m=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Op).join("\n")}(n),v=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(Op).join("\n")}(n),g=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),y=o.createProgram(),_=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Op).join("\n")).length>0&&(i+="\n"),(a=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Op).join("\n")).length>0&&(a+="\n")):(i=[Hp(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Op).join("\n"),a=[m,Hp(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==wu?"#define TONE_MAPPING":"",n.toneMapping!==wu?Bd.tonemapping_pars_fragment:"",n.toneMapping!==wu?Np("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Bd.colorspace_pars_fragment,Rp("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Op).join("\n")),u=Lp(u=Ip(u=Up(u),n),n),l=Lp(l=Ip(l=Up(l),n),n),u=zp(u),l=zp(l),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(_="#version 300 es\n",i=[v,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===El?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===El?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var b,x,w=_+i+u,S=_+a+l,E=Tp(o,o.VERTEX_SHADER,w),A=Tp(o,o.FRAGMENT_SHADER,S);function M(t){if(e.debug.checkShaderErrors){var n=o.getProgramInfoLog(y).trim(),r=o.getShaderInfoLog(E).trim(),s=o.getShaderInfoLog(A).trim(),u=!0,l=!0;if(!1===o.getProgramParameter(y,o.LINK_STATUS))if(u=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(o,y,E,A);else{var c=Pp(o,E,"vertex"),f=Pp(o,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(y,o.VALIDATE_STATUS)+"\n\nProgram Info Log: "+n+"\n"+c+"\n"+f)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==r&&""!==s||(l=!1);l&&(t.diagnostics={runnable:u,programLog:n,vertexShader:{log:r,prefix:i},fragmentShader:{log:s,prefix:a}})}o.deleteShader(E),o.deleteShader(A),b=new Mp(o,y),x=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;a.type===e.FLOAT_MAT2&&(s=2),a.type===e.FLOAT_MAT3&&(s=3),a.type===e.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,y)}o.attachShader(y,E),o.attachShader(y,A),void 0!==n.index0AttributeName?o.bindAttribLocation(y,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(y,0,"position"),o.linkProgram(y),this.getUniforms=function(){return void 0===b&&M(this),b},this.getAttributes=function(){return void 0===x&&M(this),x};var T=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===T&&(T=o.getProgramParameter(y,kp)),T},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Cp++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=A,this}var Zp=0,Wp=function(){function e(){(0,p.Z)(this,e),this.shaderCache=new Map,this.materialCache=new Map}return(0,m.Z)(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=this.materialCache.get(e),r=(0,tu.Z)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code)}}catch(a){r.e(a)}finally{r.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new qp(e),t.set(e,n)),n}}]),e}(),qp=(0,m.Z)((function e(t){(0,p.Z)(this,e),this.id=Zp++,this.code=t,this.usedTimes=0}));function Xp(e,t,n,r,i,a,o){var s=new nf,u=new Wp,l=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures,h=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return 0===e?"uv":"uv".concat(e)}return{getParameters:function(a,s,l,v,g){var y=v.fog,_=g.geometry,b=a.isMeshStandardMaterial?v.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||b),w=x&&x.mapping===Iu?x.image.height:null,S=p[a.type];null!==a.precision&&(h=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",h,"instead.");var E,A,M,T,k=_.morphAttributes.position||_.morphAttributes.normal||_.morphAttributes.color,C=void 0!==k?k.length:0,P=0;if(void 0!==_.morphAttributes.position&&(P=1),void 0!==_.morphAttributes.normal&&(P=2),void 0!==_.morphAttributes.color&&(P=3),S){var R=Vd[S];E=R.vertexShader,A=R.fragmentShader}else E=a.vertexShader,A=a.fragmentShader,u.update(a),M=u.getVertexShaderID(a),T=u.getFragmentShaderID(a);var N=e.getRenderTarget(),O=!0===g.isInstancedMesh,I=!0===g.isBatchedMesh,L=!!a.map,D=!!a.matcap,U=!!x,F=!!a.aoMap,j=!!a.lightMap,B=!!a.bumpMap,z=!!a.normalMap,V=!!a.displacementMap,H=!!a.emissiveMap,G=!!a.metalnessMap,Z=!!a.roughnessMap,W=a.anisotropy>0,q=a.clearcoat>0,X=a.iridescence>0,K=a.sheen>0,Y=a.transmission>0,Q=W&&!!a.anisotropyMap,J=q&&!!a.clearcoatMap,$=q&&!!a.clearcoatNormalMap,ee=q&&!!a.clearcoatRoughnessMap,te=X&&!!a.iridescenceMap,ne=X&&!!a.iridescenceThicknessMap,re=K&&!!a.sheenColorMap,ie=K&&!!a.sheenRoughnessMap,ae=!!a.specularMap,oe=!!a.specularColorMap,se=!!a.specularIntensityMap,ue=Y&&!!a.transmissionMap,le=Y&&!!a.thicknessMap,ce=!!a.gradientMap,fe=!!a.alphaMap,de=a.alphaTest>0,he=!!a.alphaHash,pe=!!a.extensions,me=!!_.attributes.uv1,ve=!!_.attributes.uv2,ge=!!_.attributes.uv3,ye=wu;return a.toneMapped&&(null!==N&&!0!==N.isXRRenderTarget||(ye=e.toneMapping)),{isWebGL2:c,shaderID:S,shaderType:a.type,shaderName:a.name,vertexShader:E,fragmentShader:A,defines:a.defines,customVertexShaderID:M,customFragmentShaderID:T,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:h,batching:I,instancing:O,instancingColor:O&&null!==g.instanceColor,supportsVertexTextures:d,outputColorSpace:null===N?e.outputColorSpace:!0===N.isXRRenderTarget?N.texture.colorSpace:ml,map:L,matcap:D,envMap:U,envMapMode:U&&x.mapping,envMapCubeUVHeight:w,aoMap:F,lightMap:j,bumpMap:B,normalMap:z,displacementMap:d&&V,emissiveMap:H,normalMapObjectSpace:z&&1===a.normalMapType,normalMapTangentSpace:z&&0===a.normalMapType,metalnessMap:G,roughnessMap:Z,anisotropy:W,anisotropyMap:Q,clearcoat:q,clearcoatMap:J,clearcoatNormalMap:$,clearcoatRoughnessMap:ee,iridescence:X,iridescenceMap:te,iridescenceThicknessMap:ne,sheen:K,sheenColorMap:re,sheenRoughnessMap:ie,specularMap:ae,specularColorMap:oe,specularIntensityMap:se,transmission:Y,transmissionMap:ue,thicknessMap:le,gradientMap:ce,opaque:!1===a.transparent&&1===a.blending,alphaMap:fe,alphaTest:de,alphaHash:he,combine:a.combine,mapUv:L&&m(a.map.channel),aoMapUv:F&&m(a.aoMap.channel),lightMapUv:j&&m(a.lightMap.channel),bumpMapUv:B&&m(a.bumpMap.channel),normalMapUv:z&&m(a.normalMap.channel),displacementMapUv:V&&m(a.displacementMap.channel),emissiveMapUv:H&&m(a.emissiveMap.channel),metalnessMapUv:G&&m(a.metalnessMap.channel),roughnessMapUv:Z&&m(a.roughnessMap.channel),anisotropyMapUv:Q&&m(a.anisotropyMap.channel),clearcoatMapUv:J&&m(a.clearcoatMap.channel),clearcoatNormalMapUv:$&&m(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ee&&m(a.clearcoatRoughnessMap.channel),iridescenceMapUv:te&&m(a.iridescenceMap.channel),iridescenceThicknessMapUv:ne&&m(a.iridescenceThicknessMap.channel),sheenColorMapUv:re&&m(a.sheenColorMap.channel),sheenRoughnessMapUv:ie&&m(a.sheenRoughnessMap.channel),specularMapUv:ae&&m(a.specularMap.channel),specularColorMapUv:oe&&m(a.specularColorMap.channel),specularIntensityMapUv:se&&m(a.specularIntensityMap.channel),transmissionMapUv:ue&&m(a.transmissionMap.channel),thicknessMapUv:le&&m(a.thicknessMap.channel),alphaMapUv:fe&&m(a.alphaMap.channel),vertexTangents:!!_.attributes.tangent&&(z||W),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!_.attributes.color&&4===_.attributes.color.itemSize,vertexUv1s:me,vertexUv2s:ve,vertexUv3s:ge,pointsUvs:!0===g.isPoints&&!!_.attributes.uv&&(L||fe),fog:!!y,useFog:!0===a.fog,fogExp2:y&&y.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:f,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==_.morphAttributes.position,morphNormals:void 0!==_.morphAttributes.normal,morphColors:void 0!==_.morphAttributes.color,morphTargetsCount:C,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:ye,useLegacyLights:e._useLegacyLights,decodeVideoTexture:L&&!0===a.map.isVideoTexture&&ec.getTransfer(a.map.colorSpace)===_l,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:a.side===gu,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:pe&&!0===a.extensions.derivatives,extensionFragDepth:pe&&!0===a.extensions.fragDepth,extensionDrawBuffers:pe&&!0===a.extensions.drawBuffers,extensionShaderTextureLOD:pe&&!0===a.extensions.shaderTextureLOD,extensionClipCullDistance:pe&&a.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);t.alphaHash&&s.enable(18);t.batching&&s.enable(19);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);t.decodeVideoTexture&&s.enable(19);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=p[e.type];if(n){var r=Vd[n];t=wd.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=l.length;i<o;i++){var s=l[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new Gp(e,n,t,a),l.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},releaseShaderCache:function(e){u.remove(e)},programs:l,dispose:function(){u.dispose()}}}function Kp(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Yp(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Qp(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Jp(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var u=e[t];return void 0===u?(u={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=i,u.groupOrder=a,u.renderOrder=n.renderOrder,u.z=o,u.group=s),t++,u}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Yp),r.length>1&&r.sort(t||Qp),i.length>1&&i.sort(t||Qp)}}}function $p(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new Jp,e.set(t,[r])):n>=i.length?(r=new Jp,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function em(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new mc,color:new If};break;case"SpotLight":n={position:new mc,direction:new mc,color:new If,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new mc,color:new If,distance:0,decay:0};break;case"HemisphereLight":n={direction:new mc,skyColor:new If,groundColor:new If};break;case"RectAreaLight":n={color:new If,position:new mc,halfWidth:new mc,halfHeight:new mc}}return e[t.id]=n,n}}}var tm=0;function nm(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function rm(e,t){for(var n=new em,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vl};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vl,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0},a=0;a<9;a++)i.probe.push(new mc);var o=new mc,s=new Zc,u=new Zc;return{setup:function(a,o){for(var s=0,u=0,l=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var f=0,d=0,h=0,p=0,m=0,v=0,g=0,y=0,_=0,b=0,x=0;a.sort(nm);for(var w=!0===o?Math.PI:1,S=0,E=a.length;S<E;S++){var A=a[S],M=A.color,T=A.intensity,k=A.distance,C=A.shadow&&A.shadow.map?A.shadow.map.texture:null;if(A.isAmbientLight)s+=M.r*T*w,u+=M.g*T*w,l+=M.b*T*w;else if(A.isLightProbe){for(var P=0;P<9;P++)i.probe[P].addScaledVector(A.sh.coefficients[P],T);x++}else if(A.isDirectionalLight){var R=n.get(A);if(R.color.copy(A.color).multiplyScalar(A.intensity*w),A.castShadow){var N=A.shadow,O=r.get(A);O.shadowBias=N.bias,O.shadowNormalBias=N.normalBias,O.shadowRadius=N.radius,O.shadowMapSize=N.mapSize,i.directionalShadow[f]=O,i.directionalShadowMap[f]=C,i.directionalShadowMatrix[f]=A.shadow.matrix,v++}i.directional[f]=R,f++}else if(A.isSpotLight){var I=n.get(A);I.position.setFromMatrixPosition(A.matrixWorld),I.color.copy(M).multiplyScalar(T*w),I.distance=k,I.coneCos=Math.cos(A.angle),I.penumbraCos=Math.cos(A.angle*(1-A.penumbra)),I.decay=A.decay,i.spot[h]=I;var L=A.shadow;if(A.map&&(i.spotLightMap[_]=A.map,_++,L.updateMatrices(A),A.castShadow&&b++),i.spotLightMatrix[h]=L.matrix,A.castShadow){var D=r.get(A);D.shadowBias=L.bias,D.shadowNormalBias=L.normalBias,D.shadowRadius=L.radius,D.shadowMapSize=L.mapSize,i.spotShadow[h]=D,i.spotShadowMap[h]=C,y++}h++}else if(A.isRectAreaLight){var U=n.get(A);U.color.copy(M).multiplyScalar(T),U.halfWidth.set(.5*A.width,0,0),U.halfHeight.set(0,.5*A.height,0),i.rectArea[p]=U,p++}else if(A.isPointLight){var F=n.get(A);if(F.color.copy(A.color).multiplyScalar(A.intensity*w),F.distance=A.distance,F.decay=A.decay,A.castShadow){var j=A.shadow,B=r.get(A);B.shadowBias=j.bias,B.shadowNormalBias=j.normalBias,B.shadowRadius=j.radius,B.shadowMapSize=j.mapSize,B.shadowCameraNear=j.camera.near,B.shadowCameraFar=j.camera.far,i.pointShadow[d]=B,i.pointShadowMap[d]=C,i.pointShadowMatrix[d]=A.shadow.matrix,g++}i.point[d]=F,d++}else if(A.isHemisphereLight){var z=n.get(A);z.skyColor.copy(A.color).multiplyScalar(T*w),z.groundColor.copy(A.groundColor).multiplyScalar(T*w),i.hemi[m]=z,m++}}p>0&&(t.isWebGL2?!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=zd.LTC_FLOAT_1,i.rectAreaLTC2=zd.LTC_FLOAT_2):(i.rectAreaLTC1=zd.LTC_HALF_1,i.rectAreaLTC2=zd.LTC_HALF_2):!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=zd.LTC_FLOAT_1,i.rectAreaLTC2=zd.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=zd.LTC_HALF_1,i.rectAreaLTC2=zd.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=u,i.ambient[2]=l;var V=i.hash;V.directionalLength===f&&V.pointLength===d&&V.spotLength===h&&V.rectAreaLength===p&&V.hemiLength===m&&V.numDirectionalShadows===v&&V.numPointShadows===g&&V.numSpotShadows===y&&V.numSpotMaps===_&&V.numLightProbes===x||(i.directional.length=f,i.spot.length=h,i.rectArea.length=p,i.point.length=d,i.hemi.length=m,i.directionalShadow.length=v,i.directionalShadowMap.length=v,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=v,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=y+_-b,i.spotLightMap.length=_,i.numSpotLightShadowsWithMaps=b,i.numLightProbes=x,V.directionalLength=f,V.pointLength=d,V.spotLength=h,V.rectAreaLength=p,V.hemiLength=m,V.numDirectionalShadows=v,V.numPointShadows=g,V.numSpotShadows=y,V.numSpotMaps=_,V.numLightProbes=x,i.version=tm++)},setupView:function(e,t){for(var n=0,r=0,a=0,l=0,c=0,f=t.matrixWorldInverse,d=0,h=e.length;d<h;d++){var p=e[d];if(p.isDirectionalLight){var m=i.directional[n];m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(f),n++}else if(p.isSpotLight){var v=i.spot[a];v.position.setFromMatrixPosition(p.matrixWorld),v.position.applyMatrix4(f),v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(f),a++}else if(p.isRectAreaLight){var g=i.rectArea[l];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(f),u.identity(),s.copy(p.matrixWorld),s.premultiply(f),u.extractRotation(s),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(u),g.halfHeight.applyMatrix4(u),l++}else if(p.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(f),r++}else if(p.isHemisphereLight){var _=i.hemi[c];_.direction.setFromMatrixPosition(p.matrixWorld),_.direction.transformDirection(f),c++}}},state:i}}function im(e,t){var n=new rm(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function am(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new im(e,t),n.set(r,[i])):a>=o.length?(i=new im(e,t),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var om=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=3200,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return(0,m.Z)(n,[{key:"copy",value:function(e){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(Uf),sm=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return(0,m.Z)(n,[{key:"copy",value:function(e){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(Uf);function um(e,t,n){var r,i=new Dd,a=new Vl,o=new Vl,s=new lc,l=new om({depthPacking:3201}),c=new sm,f={},d=n.maxTextureSize,h=(r={},(0,u.Z)(r,vu,gu),(0,u.Z)(r,gu,vu),(0,u.Z)(r,2,2),r),p=new Sd({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vl},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),m=p.clone();m.defines.HORIZONTAL_PASS=1;var v=new Jf;v.setAttribute("position",new zf(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var g=new vd(v,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=hu;var _=this.type;function b(n,r){var i=t.update(g);p.defines.VSM_SAMPLES!==n.blurSamples&&(p.defines.VSM_SAMPLES=n.blurSamples,m.defines.VSM_SAMPLES=n.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new fc(a.x,a.y)),p.uniforms.shadow_pass.value=n.map.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,p,g,null),m.uniforms.shadow_pass.value=n.mapPass.texture,m.uniforms.resolution.value=n.mapSize,m.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,m,g,null)}function x(t,n,r,i){var a=null,o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?c:l,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var s=a.uuid,u=n.uuid,d=f[s];void 0===d&&(d={},f[s]=d);var p=d[u];void 0===p&&(p=a.clone(),d[u]=p,n.addEventListener("dispose",S)),a=p}(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===mu?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial)&&(e.properties.get(a).light=r);return a}function w(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===mu)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var u=t.update(n),l=n.material;if(Array.isArray(l))for(var c=u.groups,f=0,d=c.length;f<d;f++){var h=c[f],p=l[h.materialIndex];if(p&&p.visible){var m=x(n,p,o,s);n.onBeforeShadow(e,n,r,a,u,m,h),e.renderBufferDirect(a,null,u,m,n,h),n.onAfterShadow(e,n,r,a,u,m,h)}}else if(l.visible){var v=x(n,l,o,s);n.onBeforeShadow(e,n,r,a,u,v,null),e.renderBufferDirect(a,null,u,v,n,null),n.onAfterShadow(e,n,r,a,u,v,null)}}for(var g=n.children,y=0,_=g.length;y<_;y++)w(g[y],r,a,o,s)}}function S(e){var t=e.target;for(var n in t.removeEventListener("dispose",S),f){var r=f[n],i=e.target.uuid;if(i in r)r[i].dispose(),delete r[i]}}this.render=function(t,n,r){if(!1!==y.enabled&&(!1!==y.autoUpdate||!1!==y.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),l=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),f=e.state;f.setBlending(0),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var h=_!==mu&&this.type===mu,p=_===mu&&this.type!==mu,m=0,v=t.length;m<v;m++){var g=t[m],x=g.shadow;if(void 0!==x){if(!1!==x.autoUpdate||!1!==x.needsUpdate){a.copy(x.mapSize);var S=x.getFrameExtents();if(a.multiply(S),o.copy(x.mapSize),(a.x>d||a.y>d)&&(a.x>d&&(o.x=Math.floor(d/S.x),a.x=o.x*S.x,x.mapSize.x=o.x),a.y>d&&(o.y=Math.floor(d/S.y),a.y=o.y*S.y,x.mapSize.y=o.y)),null===x.map||!0===h||!0===p){var E=this.type!==mu?{minFilter:Fu,magFilter:Fu}:{};null!==x.map&&x.map.dispose(),x.map=new fc(a.x,a.y,E),x.map.texture.name=g.name+".shadowMap",x.camera.updateProjectionMatrix()}e.setRenderTarget(x.map),e.clear();for(var A=x.getViewportCount(),M=0;M<A;M++){var T=x.getViewport(M);s.set(o.x*T.x,o.y*T.y,o.x*T.z,o.y*T.w),f.viewport(s),x.updateMatrices(g,M),i=x.getFrustum(),w(n,r,x.camera,g,this.type)}!0!==x.isPointLightShadow&&this.type===mu&&b(x,r),x.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}_=this.type,y.needsUpdate=!1,e.setRenderTarget(u,l,c)}}}function lm(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new lc,r=null,i=new lc(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?Z(e.DEPTH_TEST):W(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},l=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(n){t||(n?Z(e.STENCIL_TEST):W(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&u===r||(e.stencilOp(t,n,r),o=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null}}},c=new WeakMap,f=new WeakMap,d={},h={},p=new WeakMap,m=[],v=null,g=!1,y=null,_=null,b=null,x=null,w=null,S=null,E=null,A=new If(0,0,0),M=0,T=!1,k=null,C=null,P=null,R=null,N=null,O=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),I=!1,L=0,D=e.getParameter(e.VERSION);-1!==D.indexOf("WebGL")?(L=parseFloat(/^WebGL (\d)/.exec(D)[1]),I=L>=1):-1!==D.indexOf("OpenGL ES")&&(L=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),I=L>=2);var U=null,F={},j=e.getParameter(e.SCISSOR_BOX),B=e.getParameter(e.VIEWPORT),z=(new lc).fromArray(j),V=(new lc).fromArray(B);function H(t,n,r,i){var o=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var u=0;u<r;u++)!a||t!==e.TEXTURE_3D&&t!==e.TEXTURE_2D_ARRAY?e.texImage2D(n+u,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,o);return s}var G={};function Z(t){!0!==d[t]&&(e.enable(t),d[t]=!0)}function W(t){!1!==d[t]&&(e.disable(t),d[t]=!1)}G[e.TEXTURE_2D]=H(e.TEXTURE_2D,e.TEXTURE_2D,1),G[e.TEXTURE_CUBE_MAP]=H(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),a&&(G[e.TEXTURE_2D_ARRAY]=H(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),G[e.TEXTURE_3D]=H(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),s.setClear(1),l.setClear(0),Z(e.DEPTH_TEST),s.setFunc(3),Q(!1),J(1),Z(e.CULL_FACE),Y(0);var q=(r={},(0,u.Z)(r,yu,e.FUNC_ADD),(0,u.Z)(r,101,e.FUNC_SUBTRACT),(0,u.Z)(r,102,e.FUNC_REVERSE_SUBTRACT),r);if(a)q[103]=e.MIN,q[104]=e.MAX;else{var X=t.get("EXT_blend_minmax");null!==X&&(q[103]=X.MIN_EXT,q[104]=X.MAX_EXT)}var K=(i={},(0,u.Z)(i,200,e.ZERO),(0,u.Z)(i,201,e.ONE),(0,u.Z)(i,202,e.SRC_COLOR),(0,u.Z)(i,204,e.SRC_ALPHA),(0,u.Z)(i,210,e.SRC_ALPHA_SATURATE),(0,u.Z)(i,208,e.DST_COLOR),(0,u.Z)(i,206,e.DST_ALPHA),(0,u.Z)(i,203,e.ONE_MINUS_SRC_COLOR),(0,u.Z)(i,205,e.ONE_MINUS_SRC_ALPHA),(0,u.Z)(i,209,e.ONE_MINUS_DST_COLOR),(0,u.Z)(i,207,e.ONE_MINUS_DST_ALPHA),(0,u.Z)(i,211,e.CONSTANT_COLOR),(0,u.Z)(i,212,e.ONE_MINUS_CONSTANT_COLOR),(0,u.Z)(i,213,e.CONSTANT_ALPHA),(0,u.Z)(i,214,e.ONE_MINUS_CONSTANT_ALPHA),i);function Y(t,n,r,i,a,o,s,u,l,c){if(0!==t){if(!1===g&&(Z(e.BLEND),g=!0),5===t)a=a||n,o=o||r,s=s||i,n===_&&a===w||(e.blendEquationSeparate(q[n],q[a]),_=n,w=a),r===b&&i===x&&o===S&&s===E||(e.blendFuncSeparate(K[r],K[i],K[o],K[s]),b=r,x=i,S=o,E=s),!1!==u.equals(A)&&l===M||(e.blendColor(u.r,u.g,u.b,l),A.copy(u),M=l),y=t,T=!1;else if(t!==y||c!==T){if(_===yu&&w===yu||(e.blendEquation(e.FUNC_ADD),_=yu,w=yu),c)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}b=null,x=null,S=null,E=null,A.set(0,0,0),M=0,y=t,T=c}}else!0===g&&(W(e.BLEND),g=!1)}function Q(t){k!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),k=t)}function J(t){0!==t?(Z(e.CULL_FACE),t!==C&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):W(e.CULL_FACE),C=t}function $(t,n,r){t?(Z(e.POLYGON_OFFSET_FILL),R===n&&N===r||(e.polygonOffset(n,r),R=n,N=r)):W(e.POLYGON_OFFSET_FILL)}return{buffers:{color:o,depth:s,stencil:l},enable:Z,disable:W,bindFramebuffer:function(t,n){return h[t]!==n&&(e.bindFramebuffer(t,n),h[t]=n,a&&(t===e.DRAW_FRAMEBUFFER&&(h[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(h[e.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(r,i){var a=m,o=!1;if(r)if(void 0===(a=p.get(i))&&(a=[],p.set(i,a)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(a.length!==s.length||a[0]!==e.COLOR_ATTACHMENT0){for(var u=0,l=s.length;u<l;u++)a[u]=e.COLOR_ATTACHMENT0+u;a.length=s.length,o=!0}}else a[0]!==e.COLOR_ATTACHMENT0&&(a[0]=e.COLOR_ATTACHMENT0,o=!0);else a[0]!==e.BACK&&(a[0]=e.BACK,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return v!==t&&(e.useProgram(t),v=t,!0)},setBlending:Y,setMaterial:function(t,n){2===t.side?W(e.CULL_FACE):Z(e.CULL_FACE);var r=t.side===gu;n&&(r=!r),Q(r),1===t.blending&&!1===t.transparent?Y(0):Y(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),o.setMask(t.colorWrite);var i=t.stencilWrite;l.setTest(i),i&&(l.setMask(t.stencilWriteMask),l.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),l.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),$(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?Z(e.SAMPLE_ALPHA_TO_COVERAGE):W(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Q,setCullFace:J,setLineWidth:function(t){t!==P&&(I&&e.lineWidth(t),P=t)},setPolygonOffset:$,setScissorTest:function(t){t?Z(e.SCISSOR_TEST):W(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+O-1),U!==t&&(e.activeTexture(t),U=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===U?e.TEXTURE0+O-1:U);var i=F[r];void 0===i&&(i={type:void 0,texture:void 0},F[r]=i),i.type===t&&i.texture===n||(U!==r&&(e.activeTexture(r),U=r),e.bindTexture(t,n||G[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=F[U];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var r=f.get(n);void 0===r&&(r=new WeakMap,f.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=f.get(n).get(t);c.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),c.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===z.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),z.copy(t))},viewport:function(t){!1===V.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),V.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===a&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),d={},U=null,F={},h={},p=new WeakMap,m=[],v=null,g=!1,y=null,_=null,b=null,x=null,w=null,S=null,E=null,A=new If(0,0,0),M=0,T=!1,k=null,C=null,P=null,R=null,N=null,z.set(0,0,e.canvas.width,e.canvas.height),V.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),l.reset()}}}function cm(e,t,n,r,i,a,o){var s,l,c,f,d=i.isWebGL2,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap,v=new WeakMap,g=!1;try{g="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(H){}function y(e,t){return g?new OffscreenCanvas(e,t):Wl("canvas")}function _(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?Fl:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===f&&(f=y(o,s));var u=n?y(o,s):f;return u.width=o,u.height=s,u.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function b(e){return Ul(e.width)&&Ul(e.height)}function x(e,t){return e.generateMipmaps&&t&&e.minFilter!==Fu&&e.minFilter!==zu}function w(t){e.generateMipmap(t)}function S(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===d)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;if(r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.R8UI),i===e.UNSIGNED_SHORT&&(s=e.R16UI),i===e.UNSIGNED_INT&&(s=e.R32UI),i===e.BYTE&&(s=e.R8I),i===e.SHORT&&(s=e.R16I),i===e.INT&&(s=e.R32I)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RGBA){var u=o?yl:ec.getTransfer(a);i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=u===_l?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function E(e,t,n){return!0===x(e,n)||e.isFramebufferTexture&&e.minFilter!==Fu&&e.minFilter!==zu?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function A(t){return t===Fu||t===ju||t===Bu?e.NEAREST:e.LINEAR}function M(e){var t=e.target;t.removeEventListener("dispose",M),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=v.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&k(e),0===Object.keys(i).length&&v.delete(n)}r.remove(e)}(t),t.isVideoTexture&&m.delete(t)}function T(t){var n=t.target;n.removeEventListener("dispose",T),function(t){var n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++){if(Array.isArray(i.__webglFramebuffer[s]))for(var u=0;u<i.__webglFramebuffer[s].length;u++)e.deleteFramebuffer(i.__webglFramebuffer[s][u]);else e.deleteFramebuffer(i.__webglFramebuffer[s]);i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s])}else{if(Array.isArray(i.__webglFramebuffer))for(var l=0;l<i.__webglFramebuffer.length;l++)e.deleteFramebuffer(i.__webglFramebuffer[l]);else e.deleteFramebuffer(i.__webglFramebuffer);if(i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var c=0;c<i.__webglColorRenderbuffer.length;c++)i.__webglColorRenderbuffer[c]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[c]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var f=0,d=n.length;f<d;f++){var h=r.get(n[f]);h.__webglTexture&&(e.deleteTexture(h.__webglTexture),o.memory.textures--),r.remove(n[f])}r.remove(n),r.remove(t)}(n)}function k(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete v.get(i)[n.__cacheKey],o.memory.textures--}var C=0;function P(t,i){var a=r.get(t);if(t.isVideoTexture&&function(e){var t=o.render.frame;m.get(e)!==t&&(m.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){var s=t.image;if(null===s)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==s.complete)return void D(a,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}var R=(s={},(0,u.Z)(s,Lu,e.REPEAT),(0,u.Z)(s,Du,e.CLAMP_TO_EDGE),(0,u.Z)(s,Uu,e.MIRRORED_REPEAT),s),N=(l={},(0,u.Z)(l,Fu,e.NEAREST),(0,u.Z)(l,ju,e.NEAREST_MIPMAP_NEAREST),(0,u.Z)(l,Bu,e.NEAREST_MIPMAP_LINEAR),(0,u.Z)(l,zu,e.LINEAR),(0,u.Z)(l,Vu,e.LINEAR_MIPMAP_NEAREST),(0,u.Z)(l,Hu,e.LINEAR_MIPMAP_LINEAR),l),O=(c={},(0,u.Z)(c,512,e.NEVER),(0,u.Z)(c,519,e.ALWAYS),(0,u.Z)(c,513,e.LESS),(0,u.Z)(c,515,e.LEQUAL),(0,u.Z)(c,514,e.EQUAL),(0,u.Z)(c,518,e.GEQUAL),(0,u.Z)(c,516,e.GREATER),(0,u.Z)(c,517,e.NOTEQUAL),c);function I(n,a,o){if(o?(e.texParameteri(n,e.TEXTURE_WRAP_S,R[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,R[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,R[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,N[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,N[a.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),a.wrapS===Du&&a.wrapT===Du||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,A(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,A(a.minFilter)),a.minFilter!==Fu&&a.minFilter!==zu&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,O[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===Fu)return;if(a.minFilter!==Bu&&a.minFilter!==Hu)return;if(a.type===Xu&&!1===t.has("OES_texture_float_linear"))return;if(!1===d&&a.type===Ku&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function L(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",M));var i=n.source,a=v.get(i);void 0===a&&(a={},v.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var u=a[t.__cacheKey];void 0!==u&&(a[t.__cacheKey].usedTimes--,0===u.usedTimes&&k(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function D(t,o,s){var u=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(u=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(u=e.TEXTURE_3D);var l=L(t,o),c=o.source;n.bindTexture(u,t.__webglTexture,e.TEXTURE0+s);var f=r.get(c);if(c.version!==f.__version||!0===l){n.activeTexture(e.TEXTURE0+s);var h=ec.getPrimaries(ec.workingColorSpace),p=o.colorSpace===hl?null:ec.getPrimaries(o.colorSpace),m=o.colorSpace===hl||h===p?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,m);var v,g=function(e){return!d&&(e.wrapS!==Du||e.wrapT!==Du||e.minFilter!==Fu&&e.minFilter!==zu)}(o)&&!1===b(o.image),y=_(o.image,g,!1,i.maxTextureSize),A=b(y=V(o,y))||d,M=a.convert(o.format,o.colorSpace),T=a.convert(o.type),k=S(o.internalFormat,M,T,o.colorSpace,o.isVideoTexture);I(u,o,A);var C=o.mipmaps,P=d&&!0!==o.isVideoTexture&&36196!==k,R=void 0===f.__version||!0===l,N=E(o,y,A);if(o.isDepthTexture)k=e.DEPTH_COMPONENT,d?k=o.type===Xu?e.DEPTH_COMPONENT32F:o.type===qu?e.DEPTH_COMPONENT24:o.type===Yu?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:o.type===Xu&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),o.format===Ju&&k===e.DEPTH_COMPONENT&&o.type!==Zu&&o.type!==qu&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),o.type=qu,T=a.convert(o.type)),o.format===$u&&k===e.DEPTH_COMPONENT&&(k=e.DEPTH_STENCIL,o.type!==Yu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),o.type=Yu,T=a.convert(o.type))),R&&(P?n.texStorage2D(e.TEXTURE_2D,1,k,y.width,y.height):n.texImage2D(e.TEXTURE_2D,0,k,y.width,y.height,0,M,T,null));else if(o.isDataTexture)if(C.length>0&&A){P&&R&&n.texStorage2D(e.TEXTURE_2D,N,k,C[0].width,C[0].height);for(var O=0,D=C.length;O<D;O++)v=C[O],P?n.texSubImage2D(e.TEXTURE_2D,O,0,0,v.width,v.height,M,T,v.data):n.texImage2D(e.TEXTURE_2D,O,k,v.width,v.height,0,M,T,v.data);o.generateMipmaps=!1}else P?(R&&n.texStorage2D(e.TEXTURE_2D,N,k,y.width,y.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,y.width,y.height,M,T,y.data)):n.texImage2D(e.TEXTURE_2D,0,k,y.width,y.height,0,M,T,y.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){P&&R&&n.texStorage3D(e.TEXTURE_2D_ARRAY,N,k,C[0].width,C[0].height,y.depth);for(var U=0,F=C.length;U<F;U++)v=C[U],o.format!==Qu?null!==M?P?n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,U,0,0,0,v.width,v.height,y.depth,M,v.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,U,k,v.width,v.height,y.depth,0,v.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):P?n.texSubImage3D(e.TEXTURE_2D_ARRAY,U,0,0,0,v.width,v.height,y.depth,M,T,v.data):n.texImage3D(e.TEXTURE_2D_ARRAY,U,k,v.width,v.height,y.depth,0,M,T,v.data)}else{P&&R&&n.texStorage2D(e.TEXTURE_2D,N,k,C[0].width,C[0].height);for(var j=0,B=C.length;j<B;j++)v=C[j],o.format!==Qu?null!==M?P?n.compressedTexSubImage2D(e.TEXTURE_2D,j,0,0,v.width,v.height,M,v.data):n.compressedTexImage2D(e.TEXTURE_2D,j,k,v.width,v.height,0,v.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):P?n.texSubImage2D(e.TEXTURE_2D,j,0,0,v.width,v.height,M,T,v.data):n.texImage2D(e.TEXTURE_2D,j,k,v.width,v.height,0,M,T,v.data)}else if(o.isDataArrayTexture)P?(R&&n.texStorage3D(e.TEXTURE_2D_ARRAY,N,k,y.width,y.height,y.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,y.width,y.height,y.depth,M,T,y.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,k,y.width,y.height,y.depth,0,M,T,y.data);else if(o.isData3DTexture)P?(R&&n.texStorage3D(e.TEXTURE_3D,N,k,y.width,y.height,y.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,y.width,y.height,y.depth,M,T,y.data)):n.texImage3D(e.TEXTURE_3D,0,k,y.width,y.height,y.depth,0,M,T,y.data);else if(o.isFramebufferTexture){if(R)if(P)n.texStorage2D(e.TEXTURE_2D,N,k,y.width,y.height);else for(var z=y.width,H=y.height,G=0;G<N;G++)n.texImage2D(e.TEXTURE_2D,G,k,z,H,0,M,T,null),z>>=1,H>>=1}else if(C.length>0&&A){P&&R&&n.texStorage2D(e.TEXTURE_2D,N,k,C[0].width,C[0].height);for(var Z=0,W=C.length;Z<W;Z++)v=C[Z],P?n.texSubImage2D(e.TEXTURE_2D,Z,0,0,M,T,v):n.texImage2D(e.TEXTURE_2D,Z,k,M,T,v);o.generateMipmaps=!1}else P?(R&&n.texStorage2D(e.TEXTURE_2D,N,k,y.width,y.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,M,T,y)):n.texImage2D(e.TEXTURE_2D,0,k,M,T,y);x(o,A)&&w(u),f.__version=c.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function U(t,i,o,s,u,l){var c=a.convert(o.format,o.colorSpace),f=a.convert(o.type),d=S(o.internalFormat,c,f,o.colorSpace);if(!r.get(i).__hasExternalTextures){var p=Math.max(1,i.width>>l),m=Math.max(1,i.height>>l);u===e.TEXTURE_3D||u===e.TEXTURE_2D_ARRAY?n.texImage3D(u,l,d,p,m,i.depth,0,c,f,null):n.texImage2D(u,l,d,p,m,0,c,f,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),z(i)?h.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,u,r.get(o).__webglTexture,0,B(i)):(u===e.TEXTURE_2D||u>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&u<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,u,r.get(o).__webglTexture,l),n.bindFramebuffer(e.FRAMEBUFFER,null)}function F(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){var i=!0===d?e.DEPTH_COMPONENT24:e.DEPTH_COMPONENT16;if(r||z(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===Xu?i=e.DEPTH_COMPONENT32F:o.type===qu&&(i=e.DEPTH_COMPONENT24));var s=B(n);z(n)?h.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,s,i,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,s,i,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){var u=B(n);r&&!1===z(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,u,e.DEPTH24_STENCIL8,n.width,n.height):z(n)?h.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,u,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else for(var l=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<l.length;c++){var f=l[c],p=a.convert(f.format,f.colorSpace),m=a.convert(f.type),v=S(f.internalFormat,p,m,f.colorSpace),g=B(n);r&&!1===z(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,g,v,n.width,n.height):z(n)?h.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,g,v,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,v,n.width,n.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function j(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),P(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=B(i);if(i.depthTexture.format===Ju)z(i)?h.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==$u)throw new Error("Unknown depthTexture format");z(i)?h.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),F(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),F(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function B(e){return Math.min(i.maxSamples,e.samples)}function z(e){var n=r.get(e);return d&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,n){var r=e.colorSpace,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===Al||r!==ml&&r!==hl&&(ec.getTransfer(r)===_l?!1===d?!0===t.has("EXT_sRGB")&&i===Qu?(e.format=Al,e.minFilter=zu,e.generateMipmaps=!1):n=rc.sRGBToLinear(n):i===Qu&&a===Gu||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",r)),n}this.allocateTextureUnit=function(){var e=C;return e>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+i.maxTextures),C+=1,e},this.resetTextureUnits=function(){C=0},this.setTexture2D=P,this.setTexture2DArray=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?D(a,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?D(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,o){var s=r.get(t);t.version>0&&s.__version!==t.version?function(t,o,s){if(6!==o.image.length)return;var u=L(t,o),l=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);var c=r.get(l);if(l.version!==c.__version||!0===u){n.activeTexture(e.TEXTURE0+s);var f=ec.getPrimaries(ec.workingColorSpace),h=o.colorSpace===hl?null:ec.getPrimaries(o.colorSpace),p=o.colorSpace===hl||f===h?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,p);for(var m=o.isCompressedTexture||o.image[0].isCompressedTexture,v=o.image[0]&&o.image[0].isDataTexture,g=[],y=0;y<6;y++)g[y]=m||v?v?o.image[y].image:o.image[y]:_(o.image[y],!1,!0,i.maxCubemapSize),g[y]=V(o,g[y]);var A,M=g[0],T=b(M)||d,k=a.convert(o.format,o.colorSpace),C=a.convert(o.type),P=S(o.internalFormat,k,C,o.colorSpace),R=d&&!0!==o.isVideoTexture,N=void 0===c.__version||!0===u,O=E(o,M,T);if(I(e.TEXTURE_CUBE_MAP,o,T),m){R&&N&&n.texStorage2D(e.TEXTURE_CUBE_MAP,O,P,M.width,M.height);for(var D=0;D<6;D++){A=g[D].mipmaps;for(var U=0;U<A.length;U++){var F=A[U];o.format!==Qu?null!==k?R?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,U,0,0,F.width,F.height,k,F.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,U,P,F.width,F.height,0,F.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):R?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,U,0,0,F.width,F.height,k,C,F.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,U,P,F.width,F.height,0,k,C,F.data)}}}else{A=o.mipmaps,R&&N&&(A.length>0&&O++,n.texStorage2D(e.TEXTURE_CUBE_MAP,O,P,g[0].width,g[0].height));for(var j=0;j<6;j++)if(v){R?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+j,0,0,0,g[j].width,g[j].height,k,C,g[j].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+j,0,P,g[j].width,g[j].height,0,k,C,g[j].data);for(var B=0;B<A.length;B++){var z=A[B].image[j].image;R?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+j,B+1,0,0,z.width,z.height,k,C,z.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+j,B+1,P,z.width,z.height,0,k,C,z.data)}}else{R?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+j,0,0,0,k,C,g[j]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+j,0,P,k,C,g[j]);for(var H=0;H<A.length;H++){var G=A[H];R?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+j,H+1,0,0,k,C,G.image[j]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+j,H+1,P,k,C,G.image[j])}}}x(o,T)&&w(e.TEXTURE_CUBE_MAP),c.__version=l.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}(s,t,o):n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture,e.TEXTURE0+o)},this.rebindTextures=function(t,n,i){var a=r.get(t);void 0!==n&&U(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&j(t)},this.setupRenderTarget=function(t){var s=t.texture,u=r.get(t),l=r.get(s);t.addEventListener("dispose",T),!0!==t.isWebGLMultipleRenderTargets&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=s.version,o.memory.textures++);var c=!0===t.isWebGLCubeRenderTarget,f=!0===t.isWebGLMultipleRenderTargets,h=b(t)||d;if(c){u.__webglFramebuffer=[];for(var p=0;p<6;p++)if(d&&s.mipmaps&&s.mipmaps.length>0){u.__webglFramebuffer[p]=[];for(var m=0;m<s.mipmaps.length;m++)u.__webglFramebuffer[p][m]=e.createFramebuffer()}else u.__webglFramebuffer[p]=e.createFramebuffer()}else{if(d&&s.mipmaps&&s.mipmaps.length>0){u.__webglFramebuffer=[];for(var v=0;v<s.mipmaps.length;v++)u.__webglFramebuffer[v]=e.createFramebuffer()}else u.__webglFramebuffer=e.createFramebuffer();if(f)if(i.drawBuffers)for(var g=t.texture,y=0,_=g.length;y<_;y++){var E=r.get(g[y]);void 0===E.__webglTexture&&(E.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(d&&t.samples>0&&!1===z(t)){var A=f?s:[s];u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer);for(var M=0;M<A.length;M++){var k=A[M];u.__webglColorRenderbuffer[M]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,u.__webglColorRenderbuffer[M]);var C=a.convert(k.format,k.colorSpace),P=a.convert(k.type),R=S(k.internalFormat,C,P,k.colorSpace,!0===t.isXRRenderTarget),N=B(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,N,R,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+M,e.RENDERBUFFER,u.__webglColorRenderbuffer[M])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),F(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(c){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),I(e.TEXTURE_CUBE_MAP,s,h);for(var O=0;O<6;O++)if(d&&s.mipmaps&&s.mipmaps.length>0)for(var L=0;L<s.mipmaps.length;L++)U(u.__webglFramebuffer[O][L],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+O,L);else U(u.__webglFramebuffer[O],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+O,0);x(s,h)&&w(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(f){for(var D=t.texture,V=0,H=D.length;V<H;V++){var G=D[V],Z=r.get(G);n.bindTexture(e.TEXTURE_2D,Z.__webglTexture),I(e.TEXTURE_2D,G,h),U(u.__webglFramebuffer,t,G,e.COLOR_ATTACHMENT0+V,e.TEXTURE_2D,0),x(G,h)&&w(e.TEXTURE_2D)}n.unbindTexture()}else{var W=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(d?W=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(W,l.__webglTexture),I(W,s,h),d&&s.mipmaps&&s.mipmaps.length>0)for(var q=0;q<s.mipmaps.length;q++)U(u.__webglFramebuffer[q],t,s,e.COLOR_ATTACHMENT0,W,q);else U(u.__webglFramebuffer,t,s,e.COLOR_ATTACHMENT0,W,0);x(s,h)&&w(W),n.unbindTexture()}t.depthBuffer&&j(t)},this.updateRenderTargetMipmap=function(t){for(var i=b(t)||d,a=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=0,s=a.length;o<s;o++){var u=a[o];if(x(u,i)){var l=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,c=r.get(u).__webglTexture;n.bindTexture(l,c),w(l),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(d&&t.samples>0&&!1===z(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=e.COLOR_BUFFER_BIT,u=[],l=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=r.get(t),f=!0===t.isWebGLMultipleRenderTargets;if(f)for(var h=0;h<i.length;h++)n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+h,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+h,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(var m=0;m<i.length;m++){u.push(e.COLOR_ATTACHMENT0+m),t.depthBuffer&&u.push(l);var v=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===v&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),f&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[m]),!0===v&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[l]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[l])),f){var g=r.get(i[m]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,g,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),p&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,u)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),f)for(var y=0;y<i.length;y++){n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+y,e.RENDERBUFFER,c.__webglColorRenderbuffer[y]);var _=r.get(i[y]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+y,e.TEXTURE_2D,_,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=j,this.setupFrameBufferTexture=U,this.useMultisampledRTT=z}function fm(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hl,o=ec.getTransfer(a);if(n===Gu)return e.UNSIGNED_BYTE;if(1017===n)return e.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return e.UNSIGNED_SHORT_5_5_5_1;if(1010===n)return e.BYTE;if(1011===n)return e.SHORT;if(n===Zu)return e.UNSIGNED_SHORT;if(n===Wu)return e.INT;if(n===qu)return e.UNSIGNED_INT;if(n===Xu)return e.FLOAT;if(n===Ku)return r?e.HALF_FLOAT:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(1021===n)return e.ALPHA;if(n===Qu)return e.RGBA;if(1024===n)return e.LUMINANCE;if(1025===n)return e.LUMINANCE_ALPHA;if(n===Ju)return e.DEPTH_COMPONENT;if(n===$u)return e.DEPTH_STENCIL;if(n===Al)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(1028===n)return e.RED;if(1029===n)return e.RED_INTEGER;if(1030===n)return e.RG;if(1031===n)return e.RG_INTEGER;if(1033===n)return e.RGBA_INTEGER;if(n===el||n===tl||n===nl||n===rl)if(o===_l){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===el)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===tl)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===nl)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===rl)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===el)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===tl)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===nl)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===rl)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===n||35841===n||35842===n||35843===n){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===n)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===n||37496===n){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(37492===n)return o===_l?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(37496===n)return o===_l?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(37808===n)return o===_l?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return o===_l?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return o===_l?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return o===_l?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===n)return o===_l?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return o===_l?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return o===_l?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return o===_l?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return o===_l?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return o===_l?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return o===_l?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return o===_l?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return o===_l?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return o===_l?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===il||36494===n||36495===n){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===il)return o===_l?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===n)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===n)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===n||36284===n||36285===n||36286===n){if(null===(i=t.get("EXT_texture_compression_rgtc")))return null;if(n===il)return i.COMPRESSED_RED_RGTC1_EXT;if(36284===n)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===n)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===n)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===Yu?r?e.UNSIGNED_INT_24_8:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var dm=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,p.Z)(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return(0,m.Z)(n)}(Ad),hm=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return(0,m.Z)(n)}(gf),pm={type:"move"},mm=function(){function e(){(0,p.Z)(this,e),this._targetRay=null,this._grip=null,this._hand=null}return(0,m.Z)(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new hm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new hm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new mc,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new mc),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new hm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new mc,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new mc),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=(0,tu.Z)(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(a){r.e(a)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,u=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(u&&e.hand){a=!0;var l,c=(0,tu.Z)(e.hand.values());try{for(c.s();!(l=c.n()).done;){var f=l.value,d=t.getJointPose(f,n),h=this._getHandJoint(u,f);null!==d&&(h.matrix.fromArray(d.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,h.jointRadius=d.radius),h.visible=null!==d}}catch(g){c.e(g)}finally{c.f()}var p=u.joints["index-finger-tip"],m=u.joints["thumb-tip"],v=p.position.distanceTo(m.position);u.inputState.pinching&&v>.025?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&v<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(pm)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==u&&(u.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new hm;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),vm=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;(0,p.Z)(this,n),i=t.call(this);var o=(0,iu.Z)(i),u=null,l=1,c=null,f="local-floor",d=1,h=null,m=null,v=null,g=null,y=null,_=null,b=r.getContextAttributes(),x=null,w=null,S=[],E=[],A=new Vl,M=null,T=new Ad;T.layers.enable(1),T.viewport=new lc;var k=new Ad;k.layers.enable(2),k.viewport=new lc;var C=[T,k],P=new dm;P.layers.enable(1),P.layers.enable(2);var R=null,N=null;function O(e){var t=E.indexOf(e.inputSource);if(-1!==t){var n=S[t];void 0!==n&&(n.update(e.inputSource,e.frame,h||c),n.dispatchEvent({type:e.type,data:e.inputSource}))}}function I(){u.removeEventListener("select",O),u.removeEventListener("selectstart",O),u.removeEventListener("selectend",O),u.removeEventListener("squeeze",O),u.removeEventListener("squeezestart",O),u.removeEventListener("squeezeend",O),u.removeEventListener("end",I),u.removeEventListener("inputsourceschange",L);for(var t=0;t<S.length;t++){var n=E[t];null!==n&&(E[t]=null,S[t].disconnect(n))}R=null,N=null,e.setRenderTarget(x),y=null,g=null,v=null,u=null,w=null,B.stop(),o.isPresenting=!1,e.setPixelRatio(M),e.setSize(A.width,A.height,!1),o.dispatchEvent({type:"sessionend"})}function L(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=E.indexOf(n);r>=0&&(E[r]=null,S[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=E.indexOf(a);if(-1===o){for(var s=0;s<S.length;s++){if(s>=E.length){E.push(a),o=s;break}if(null===E[s]){E[s]=a,o=s;break}}if(-1===o)break}var u=S[o];u&&u.connect(a)}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=S[e];return void 0===t&&(t=new mm,S[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=S[e];return void 0===t&&(t=new mm,S[e]=t),t.getGripSpace()},i.getHand=function(e){var t=S[e];return void 0===t&&(t=new mm,S[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){l=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){f=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return h||c},i.setReferenceSpace=function(e){h=e},i.getBaseLayer=function(){return null!==g?g:y},i.getBinding=function(){return v},i.getFrame=function(){return _},i.getSession=function(){return u},i.setSession=function(){var t=s((0,a.Z)().mark((function t(n){var i,s,p,m,_;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(u=n)){t.next=27;break}if(x=e.getRenderTarget(),u.addEventListener("select",O),u.addEventListener("selectstart",O),u.addEventListener("selectend",O),u.addEventListener("squeeze",O),u.addEventListener("squeezestart",O),u.addEventListener("squeezeend",O),u.addEventListener("end",I),u.addEventListener("inputsourceschange",L),!0===b.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return M=e.getPixelRatio(),e.getSize(A),void 0===u.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==u.renderState.layers||b.antialias,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:l},y=new XRWebGLLayer(u,r,i),u.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),w=new fc(y.framebufferWidth,y.framebufferHeight,{format:Qu,type:Gu,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil})):(s=null,p=null,m=null,b.depth&&(m=b.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,s=b.stencil?$u:Ju,p=b.stencil?Yu:qu),_={colorFormat:r.RGBA8,depthFormat:m,scaleFactor:l},v=new XRWebGLBinding(u,r),g=v.createProjectionLayer(_),u.updateRenderState({layers:[g]}),e.setPixelRatio(1),e.setSize(g.textureWidth,g.textureHeight,!1),w=new fc(g.textureWidth,g.textureHeight,{format:Qu,type:Gu,depthTexture:new xh(g.textureWidth,g.textureHeight,p,void 0,void 0,void 0,void 0,void 0,void 0,s),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0}),e.properties.get(w).__ignoreDepthValues=g.ignoreDepthValues),w.isXRRenderTarget=!0,this.setFoveation(d),h=null,t.next=22,u.requestReferenceSpace(f);case 22:c=t.sent,B.setContext(u),B.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"});case 27:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.getEnvironmentBlendMode=function(){if(null!==u)return u.environmentBlendMode};var D=new mc,U=new mc;function F(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==u){P.near=k.near=T.near=e.near,P.far=k.far=T.far=e.far,R===P.near&&N===P.far||(u.updateRenderState({depthNear:P.near,depthFar:P.far}),R=P.near,N=P.far);var t=e.parent,n=P.cameras;F(P,t);for(var r=0;r<n.length;r++)F(n[r],t);2===n.length?function(e,t,n){D.setFromMatrixPosition(t.matrixWorld),U.setFromMatrixPosition(n.matrixWorld);var r=D.distanceTo(U),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],f=(a[8]+1)/a[0],d=o*c,h=o*f,p=r/(-c+f),m=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var v=o+p,g=s+p,y=d-m,_=h+(r-m),b=u*s/g*v,x=l*s/g*v;e.projectionMatrix.makePerspective(y,_,b,x,v,g),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(P,T,k):P.projectionMatrix.copy(T.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Nl*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,P,t)}},i.getCamera=function(){return P},i.getFoveation=function(){if(null!==g||null!==y)return d},i.setFoveation=function(e){d=e,null!==g&&(g.fixedFoveation=e),null!==y&&void 0!==y.fixedFoveation&&(y.fixedFoveation=e)};var j=null;var B=new Ud;return B.setAnimationLoop((function(t,n){if(m=n.getViewerPose(h||c),_=n,null!==m){var r=m.views;null!==y&&(e.setRenderTargetFramebuffer(w,y.framebuffer),e.setRenderTarget(w));var i=!1;r.length!==P.cameras.length&&(P.cameras.length=0,i=!0);for(var a=0;a<r.length;a++){var s=r[a],u=null;if(null!==y)u=y.getViewport(s);else{var l=v.getViewSubImage(g,s);u=l.viewport,0===a&&(e.setRenderTargetTextures(w,l.colorTexture,g.ignoreDepthValues?void 0:l.depthStencilTexture),e.setRenderTarget(w))}var f=C[a];void 0===f&&((f=new Ad).layers.enable(a),f.viewport=new lc,C[a]=f),f.matrix.fromArray(s.transform.matrix),f.matrix.decompose(f.position,f.quaternion,f.scale),f.projectionMatrix.fromArray(s.projectionMatrix),f.projectionMatrixInverse.copy(f.projectionMatrix).invert(),f.viewport.set(u.x,u.y,u.width,u.height),0===a&&(P.matrix.copy(f.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),!0===i&&P.cameras.push(f)}}for(var d=0;d<S.length;d++){var p=E[d],b=S[d];null!==p&&void 0!==b&&b.update(p,n,h||c)}j&&j(t,n),n.detectedPlanes&&o.dispatchEvent({type:"planesdetected",data:n}),_=null})),i.setAnimationLoop=function(e){j=e},i.dispose=function(){},i}return(0,m.Z)(n)}(kl);function gm(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===gu&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===gu&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);var a=t.get(i).envMap;if(a&&(r.envMap.value=a,r.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;var o=!0===e._useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*o,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,xd(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform));e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));var i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===gu&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){var r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function ym(e,t,n,r){var i={},a={},o=[],s=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function u(e,t,n,r){var i=e.value,a=t+"_"+n;if(void 0===r[a])return r[a]="number"===typeof i||"boolean"===typeof i?i:i.clone(),!0;var o=r[a];if("number"===typeof i||"boolean"===typeof i){if(o!==i)return r[a]=i,!0}else if(!1===o.equals(i))return o.copy(i),!0;return!1}function l(e){var t={boundary:0,storage:0};return"number"===typeof e||"boolean"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,f){var d=i[n.id];void 0===d&&(!function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=t.length;i<a;i++)for(var o=Array.isArray(t[i])?t[i]:[t[i]],s=0,u=o.length;s<u;s++)for(var c=o[s],f=Array.isArray(c.value)?c.value:[c.value],d=0,h=f.length;d<h;d++){var p=l(f[d]),m=n%r;0!==m&&r-m<p.boundary&&(n+=r-m),c.__data=new Float32Array(p.storage/Float32Array.BYTES_PER_ELEMENT),c.__offset=n,n+=p.storage}var v=n%r;v>0&&(n+=r-v);e.__size=n,e.__cache={}}(n),d=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",c));var h=f.program;r.updateUBOMapping(n,h);var p=t.render.frame;a[n.id]!==p&&(!function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(var o=0,s=r.length;o<s;o++)for(var c=Array.isArray(r[o])?r[o]:[r[o]],f=0,d=c.length;f<d;f++){var h=c[f];if(!0===u(h,o,f,a)){for(var p=h.__offset,m=Array.isArray(h.value)?h.value:[h.value],v=0,g=0;g<m.length;g++){var y=m[g],_=l(y);"number"===typeof y||"boolean"===typeof y?(h.__data[0]=y,e.bufferSubData(e.UNIFORM_BUFFER,p+v,h.__data)):y.isMatrix3?(h.__data[0]=y.elements[0],h.__data[1]=y.elements[1],h.__data[2]=y.elements[2],h.__data[3]=0,h.__data[4]=y.elements[3],h.__data[5]=y.elements[4],h.__data[6]=y.elements[5],h.__data[7]=0,h.__data[8]=y.elements[6],h.__data[9]=y.elements[7],h.__data[10]=y.elements[8],h.__data[11]=0):(y.toArray(h.__data,v),v+=_.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,p,h.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=p)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}var _m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,p.Z)(this,e);var n,r=t.canvas,i=void 0===r?function(){var e=Wl("canvas");return e.style.display="block",e}():r,a=t.context,o=void 0===a?null:a,s=t.depth,u=void 0===s||s,l=t.stencil,c=void 0===l||l,f=t.alpha,d=void 0!==f&&f,h=t.antialias,m=void 0!==h&&h,v=t.premultipliedAlpha,g=void 0===v||v,y=t.preserveDrawingBuffer,_=void 0!==y&&y,b=t.powerPreference,x=void 0===b?"default":b,w=t.failIfMajorPerformanceCaveat,S=void 0!==w&&w;this.isWebGLRenderer=!0,n=null!==o?o.getContextAttributes().alpha:d;var E=new Uint32Array(4),A=new Int32Array(4),M=null,T=null,k=[],C=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=pl,this._useLegacyLights=!1,this.toneMapping=wu,this.toneMappingExposure=1;var P=this,R=!1,N=0,O=0,I=null,L=-1,D=null,U=new lc,F=new lc,j=null,B=new If(0),z=0,V=i.width,H=i.height,G=1,Z=null,W=null,q=new lc(0,0,V,H),X=new lc(0,0,V,H),K=!1,Y=new Dd,Q=!1,J=!1,$=null,ee=new Zc,te=new Vl,ne=new mc,re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ie(){return null===I?G:1}var ae,oe,se,ue,le,ce,fe,de,he,pe,me,ve,ge,ye,_e,be,xe,we,Se,Ee,Ae,Me,Te,ke,Ce=o;function Pe(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=i.getContext(r,t);if(null!==a)return a}return null}try{var Re={alpha:!0,depth:u,stencil:c,antialias:m,premultipliedAlpha:g,preserveDrawingBuffer:_,powerPreference:x,failIfMajorPerformanceCaveat:S};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat(au)),i.addEventListener("webglcontextlost",Le,!1),i.addEventListener("webglcontextrestored",De,!1),i.addEventListener("webglcontextcreationerror",Ue,!1),null===Ce){var Ne=["webgl2","webgl","experimental-webgl"];if(!0===P.isWebGL1Renderer&&Ne.shift(),null===(Ce=Pe(Ne,Re)))throw Pe(Ne)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!==typeof WebGLRenderingContext&&Ce instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===Ce.getShaderPrecisionFormat&&(Ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Qe){throw console.error("THREE.WebGLRenderer: "+Qe.message),Qe}function Oe(){ae=new hh(Ce),oe=new qd(Ce,ae,t),ae.init(oe),Me=new fm(Ce,ae,oe),se=new lm(Ce,ae,oe),ue=new vh(Ce),le=new Kp,ce=new cm(Ce,ae,se,le,oe,Me,ue),fe=new Kd(P),de=new dh(P),he=new Fd(Ce,oe),Te=new Zd(Ce,ae,he,oe),pe=new ph(Ce,he,ue,Te),me=new bh(Ce,pe,he,ue),Se=new _h(Ce,oe,ce),be=new Xd(le),ve=new Xp(P,fe,de,ae,oe,Te,be),ge=new gm(P,le),ye=new $p,_e=new am(ae,oe),we=new Gd(P,fe,de,se,me,n,g),xe=new um(P,me,oe),ke=new ym(Ce,ue,oe,se),Ee=new Wd(Ce,ae,ue,oe),Ae=new mh(Ce,ae,ue,oe),ue.programs=ve.programs,P.capabilities=oe,P.extensions=ae,P.properties=le,P.renderLists=ye,P.shadowMap=xe,P.state=se,P.info=ue}Oe();var Ie=new vm(P,Ce);function Le(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),R=!0}function De(){console.log("THREE.WebGLRenderer: Context Restored."),R=!1;var e=ue.autoReset,t=xe.enabled,n=xe.autoUpdate,r=xe.needsUpdate,i=xe.type;Oe(),ue.autoReset=e,xe.enabled=t,xe.autoUpdate=n,xe.needsUpdate=r,xe.type=i}function Ue(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Fe(e){var t=e.target;t.removeEventListener("dispose",Fe),function(e){(function(e){var t=le.get(e).programs;void 0!==t&&(t.forEach((function(e){ve.releaseProgram(e)})),e.isShaderMaterial&&ve.releaseShaderCache(e))})(e),le.remove(e)}(t)}function je(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=gu,e.needsUpdate=!0,Xe(e,t,n),e.side=vu,e.needsUpdate=!0,Xe(e,t,n),e.side=2):Xe(e,t,n)}this.xr=Ie,this.getContext=function(){return Ce},this.getContextAttributes=function(){return Ce.getContextAttributes()},this.forceContextLoss=function(){var e=ae.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=ae.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(e){void 0!==e&&(G=e,this.setSize(V,H,!1))},this.getSize=function(e){return e.set(V,H)},this.setSize=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Ie.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(V=e,H=t,i.width=Math.floor(e*G),i.height=Math.floor(t*G),!0===n&&(i.style.width=e+"px",i.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(V*G,H*G).floor()},this.setDrawingBufferSize=function(e,t,n){V=e,H=t,G=n,i.width=Math.floor(e*n),i.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(U)},this.getViewport=function(e){return e.copy(q)},this.setViewport=function(e,t,n,r){e.isVector4?q.set(e.x,e.y,e.z,e.w):q.set(e,t,n,r),se.viewport(U.copy(q).multiplyScalar(G).floor())},this.getScissor=function(e){return e.copy(X)},this.setScissor=function(e,t,n,r){e.isVector4?X.set(e.x,e.y,e.z,e.w):X.set(e,t,n,r),se.scissor(F.copy(X).multiplyScalar(G).floor())},this.getScissorTest=function(){return K},this.setScissorTest=function(e){se.setScissorTest(K=e)},this.setOpaqueSort=function(e){Z=e},this.setTransparentSort=function(e){W=e},this.getClearColor=function(e){return e.copy(we.getClearColor())},this.setClearColor=function(){we.setClearColor.apply(we,arguments)},this.getClearAlpha=function(){return we.getClearAlpha()},this.setClearAlpha=function(){we.setClearAlpha.apply(we,arguments)},this.clear=function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){var r=!1;if(null!==I){var i=I.texture.format;r=1033===i||1031===i||1029===i}if(r){var a=I.texture.type,o=a===Gu||a===qu||a===Zu||a===Yu||1017===a||1018===a,s=we.getClearColor(),u=we.getClearAlpha(),l=s.r,c=s.g,f=s.b;o?(E[0]=l,E[1]=c,E[2]=f,E[3]=u,Ce.clearBufferuiv(Ce.COLOR,0,E)):(A[0]=l,A[1]=c,A[2]=f,A[3]=u,Ce.clearBufferiv(Ce.COLOR,0,A))}else n|=Ce.COLOR_BUFFER_BIT}e&&(n|=Ce.DEPTH_BUFFER_BIT),t&&(n|=Ce.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Ce.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Le,!1),i.removeEventListener("webglcontextrestored",De,!1),i.removeEventListener("webglcontextcreationerror",Ue,!1),ye.dispose(),_e.dispose(),le.dispose(),fe.dispose(),de.dispose(),me.dispose(),Te.dispose(),ke.dispose(),ve.dispose(),Ie.dispose(),Ie.removeEventListener("sessionstart",ze),Ie.removeEventListener("sessionend",Ve),$&&($.dispose(),$=null),He.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=re);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=re);ce.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===I?P.outputColorSpace:!0===I.isXRRenderTarget?I.texture.colorSpace:ml,u=(r.isMeshStandardMaterial?de:fe).get(r.envMap||o),l=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),f=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,h=!!n.morphAttributes.color,p=wu;r.toneMapped&&(null!==I&&!0!==I.isXRRenderTarget||(p=P.toneMapping));var m=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==m?m.length:0,g=le.get(r),y=T.state.lights;if(!0===Q&&(!0===J||e!==D)){var _=e===D&&r.id===L;be.setState(r,e,_)}var b=!1;r.version===g.__version?g.needsLights&&g.lightsStateVersion!==y.state.version||g.outputColorSpace!==s||i.isBatchedMesh&&!1===g.batching?b=!0:i.isBatchedMesh||!0!==g.batching?i.isInstancedMesh&&!1===g.instancing?b=!0:i.isInstancedMesh||!0!==g.instancing?i.isSkinnedMesh&&!1===g.skinning?b=!0:i.isSkinnedMesh||!0!==g.skinning?i.isInstancedMesh&&!0===g.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===g.instancingColor&&null!==i.instanceColor||g.envMap!==u||!0===r.fog&&g.fog!==a?b=!0:void 0===g.numClippingPlanes||g.numClippingPlanes===be.numPlanes&&g.numIntersection===be.numIntersection?(g.vertexAlphas!==l||g.vertexTangents!==c||g.morphTargets!==f||g.morphNormals!==d||g.morphColors!==h||g.toneMapping!==p||!0===oe.isWebGL2&&g.morphTargetsCount!==v)&&(b=!0):b=!0:b=!0:b=!0:b=!0:(b=!0,g.__version=r.version);var x=g.currentProgram;!0===b&&(x=Xe(r,t,i));var w=!1,S=!1,E=!1,A=x.getUniforms(),M=g.uniforms;se.useProgram(x.program)&&(w=!0,S=!0,E=!0);r.id!==L&&(L=r.id,S=!0);if(w||D!==e){A.setValue(Ce,"projectionMatrix",e.projectionMatrix),A.setValue(Ce,"viewMatrix",e.matrixWorldInverse);var k=A.map.cameraPosition;void 0!==k&&k.setValue(Ce,ne.setFromMatrixPosition(e.matrixWorld)),oe.logarithmicDepthBuffer&&A.setValue(Ce,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&A.setValue(Ce,"isOrthographic",!0===e.isOrthographicCamera),D!==e&&(D=e,S=!0,E=!0)}if(i.isSkinnedMesh){A.setOptional(Ce,i,"bindMatrix"),A.setOptional(Ce,i,"bindMatrixInverse");var C=i.skeleton;C&&(oe.floatVertexTextures?(null===C.boneTexture&&C.computeBoneTexture(),A.setValue(Ce,"boneTexture",C.boneTexture,ce)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}i.isBatchedMesh&&(A.setOptional(Ce,i,"batchingTexture"),A.setValue(Ce,"batchingTexture",i._matricesTexture,ce));var R=n.morphAttributes;(void 0!==R.position||void 0!==R.normal||void 0!==R.color&&!0===oe.isWebGL2)&&Se.update(i,n,x);(S||g.receiveShadow!==i.receiveShadow)&&(g.receiveShadow=i.receiveShadow,A.setValue(Ce,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(M.envMap.value=u,M.flipEnvMap.value=u.isCubeTexture&&!1===u.isRenderTargetTexture?-1:1);S&&(A.setValue(Ce,"toneMappingExposure",P.toneMappingExposure),g.needsLights&&(O=E,(N=M).ambientLightColor.needsUpdate=O,N.lightProbe.needsUpdate=O,N.directionalLights.needsUpdate=O,N.directionalLightShadows.needsUpdate=O,N.pointLights.needsUpdate=O,N.pointLightShadows.needsUpdate=O,N.spotLights.needsUpdate=O,N.spotLightShadows.needsUpdate=O,N.rectAreaLights.needsUpdate=O,N.hemisphereLights.needsUpdate=O),a&&!0===r.fog&&ge.refreshFogUniforms(M,a),ge.refreshMaterialUniforms(M,r,G,H,$),Mp.upload(Ce,Ke(g),M,ce));var N,O;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Mp.upload(Ce,Ke(g),M,ce),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&A.setValue(Ce,"center",i.center);if(A.setValue(Ce,"modelViewMatrix",i.modelViewMatrix),A.setValue(Ce,"normalMatrix",i.normalMatrix),A.setValue(Ce,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var U=r.uniformsGroups,F=0,j=U.length;F<j;F++)if(oe.isWebGL2){var B=U[F];ke.update(B,x),ke.bind(B,x)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return x}(e,t,n,r,i);se.setMaterial(r,o);var u=n.index,l=1;if(!0===r.wireframe){if(void 0===(u=pe.getWireframeAttribute(n)))return;l=2}var c=n.drawRange,f=n.attributes.position,d=c.start*l,h=(c.start+c.count)*l;null!==a&&(d=Math.max(d,a.start*l),h=Math.min(h,(a.start+a.count)*l)),null!==u?(d=Math.max(d,0),h=Math.min(h,u.count)):void 0!==f&&null!==f&&(d=Math.max(d,0),h=Math.min(h,f.count));var p=h-d;if(!(p<0||p===1/0)){var m;Te.setup(i,r,s,n,u);var v=Ee;if(null!==u&&(m=he.get(u),(v=Ae).setIndex(m)),i.isMesh)!0===r.wireframe?(se.setLineWidth(r.wireframeLinewidth*ie()),v.setMode(Ce.LINES)):v.setMode(Ce.TRIANGLES);else if(i.isLine){var g=r.linewidth;void 0===g&&(g=1),se.setLineWidth(g*ie()),i.isLineSegments?v.setMode(Ce.LINES):i.isLineLoop?v.setMode(Ce.LINE_LOOP):v.setMode(Ce.LINE_STRIP)}else i.isPoints?v.setMode(Ce.POINTS):i.isSprite&&v.setMode(Ce.TRIANGLES);if(i.isBatchedMesh)v.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else if(i.isInstancedMesh)v.renderInstances(d,p,i.count);else if(n.isInstancedBufferGeometry){var y=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,_=Math.min(n.instanceCount,y);v.renderInstances(d,p,_)}else v.render(d,p)}},this.compile=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=e),(T=_e.get(n)).init(),C.push(T),n.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(T.pushLight(e),e.castShadow&&T.pushShadow(e))})),e!==n&&e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(T.pushLight(e),e.castShadow&&T.pushShadow(e))})),T.setupLights(P._useLegacyLights);var r=new Set;return e.traverse((function(e){var t=e.material;if(t)if(Array.isArray(t))for(var i=0;i<t.length;i++){var a=t[i];je(a,n,e),r.add(a)}else je(t,n,e),r.add(t)})),C.pop(),T=null,r},this.compileAsync=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.compile(e,t,n);return new Promise((function(t){function n(){r.forEach((function(e){le.get(e).currentProgram.isReady()&&r.delete(e)})),0!==r.size?setTimeout(n,10):t(e)}null!==ae.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)}))};var Be=null;function ze(){He.stop()}function Ve(){He.start()}var He=new Ud;function Ge(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)T.pushLight(e),e.castShadow&&T.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||Y.intersectsSprite(e)){r&&ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ee);var i=me.update(e),a=e.material;a.visible&&M.push(e,i,a,n,ne.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||Y.intersectsObject(e))){var o=me.update(e),s=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),ne.copy(e.boundingSphere.center)):(null===o.boundingSphere&&o.computeBoundingSphere(),ne.copy(o.boundingSphere.center)),ne.applyMatrix4(e.matrixWorld).applyMatrix4(ee)),Array.isArray(s))for(var u=o.groups,l=0,c=u.length;l<c;l++){var f=u[l],d=s[f.materialIndex];d&&d.visible&&M.push(e,o,d,n,ne.z,f)}else s.visible&&M.push(e,o,s,n,ne.z,null)}for(var h=e.children,p=0,m=h.length;p<m;p++)Ge(h[p],t,n,r)}}function Ze(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;T.setupLightsView(n),!0===Q&&be.setGlobalState(P.clippingPlanes,n),a.length>0&&function(e,t,n,r){var i=!0===n.isScene?n.overrideMaterial:null;if(null!==i)return;var a=oe.isWebGL2;null===$&&($=new fc(1,1,{generateMipmaps:!0,type:ae.has("EXT_color_buffer_half_float")?Ku:Gu,minFilter:Hu,samples:a?4:0}));P.getDrawingBufferSize(te),a?$.setSize(te.x,te.y):$.setSize(Fl(te.x),Fl(te.y));var o=P.getRenderTarget();P.setRenderTarget($),P.getClearColor(B),(z=P.getClearAlpha())<1&&P.setClearColor(16777215,.5);P.clear();var s=P.toneMapping;P.toneMapping=wu,We(e,n,r),ce.updateMultisampleRenderTarget($),ce.updateRenderTargetMipmap($);for(var u=!1,l=0,c=t.length;l<c;l++){var f=t[l],d=f.object,h=f.geometry,p=f.material,m=f.group;if(2===p.side&&d.layers.test(r.layers)){var v=p.side;p.side=gu,p.needsUpdate=!0,qe(d,n,r,h,p,m),p.side=v,p.needsUpdate=!0,u=!0}}!0===u&&(ce.updateMultisampleRenderTarget($),ce.updateRenderTargetMipmap($));P.setRenderTarget(o),P.setClearColor(B,z),P.toneMapping=s}(i,a,t,n),r&&se.viewport(U.copy(r)),i.length>0&&We(i,t,n),a.length>0&&We(a,t,n),o.length>0&&We(o,t,n),se.buffers.depth.setTest(!0),se.buffers.depth.setMask(!0),se.buffers.color.setMask(!0),se.setPolygonOffset(!1)}function We(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&qe(s,t,n,u,l,c)}}function qe(e,t,n,r,i,a){e.onBeforeRender(P,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(P,t,n,r,e,a),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=gu,i.needsUpdate=!0,P.renderBufferDirect(n,t,r,i,e,a),i.side=vu,i.needsUpdate=!0,P.renderBufferDirect(n,t,r,i,e,a),i.side=2):P.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(P,t,n,r,i,a)}function Xe(e,t,n){!0!==t.isScene&&(t=re);var r=le.get(e),i=T.state.lights,a=T.state.shadowsArray,o=i.state.version,s=ve.getParameters(e,i.state,a,t,n),u=ve.getProgramCacheKey(s),l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?de:fe).get(e.envMap||r.environment),void 0===l&&(e.addEventListener("dispose",Fe),l=new Map,r.programs=l);var c=l.get(u);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Ye(e,s),c}else s.uniforms=ve.getUniforms(e),e.onBuild(n,s,P),e.onBeforeCompile(s,P),c=ve.acquireProgram(s,u),l.set(u,c),r.uniforms=s.uniforms;var f=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(f.clippingPlanes=be.uniform),Ye(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(f.ambientLightColor.value=i.state.ambient,f.lightProbe.value=i.state.probe,f.directionalLights.value=i.state.directional,f.directionalLightShadows.value=i.state.directionalShadow,f.spotLights.value=i.state.spot,f.spotLightShadows.value=i.state.spotShadow,f.rectAreaLights.value=i.state.rectArea,f.ltc_1.value=i.state.rectAreaLTC1,f.ltc_2.value=i.state.rectAreaLTC2,f.pointLights.value=i.state.point,f.pointLightShadows.value=i.state.pointShadow,f.hemisphereLights.value=i.state.hemi,f.directionalShadowMap.value=i.state.directionalShadowMap,f.directionalShadowMatrix.value=i.state.directionalShadowMatrix,f.spotShadowMap.value=i.state.spotShadowMap,f.spotLightMatrix.value=i.state.spotLightMatrix,f.spotLightMap.value=i.state.spotLightMap,f.pointShadowMap.value=i.state.pointShadowMap,f.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=c,r.uniformsList=null,c}function Ke(e){if(null===e.uniformsList){var t=e.currentProgram.getUniforms();e.uniformsList=Mp.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function Ye(e,t){var n=le.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}He.setAnimationLoop((function(e){Be&&Be(e)})),"undefined"!==typeof self&&He.setContext(self),this.setAnimationLoop=function(e){Be=e,Ie.setAnimationLoop(e),null===e?He.stop():He.start()},Ie.addEventListener("sessionstart",ze),Ie.addEventListener("sessionend",Ve),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==R){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Ie.enabled&&!0===Ie.isPresenting&&(!0===Ie.cameraAutoUpdate&&Ie.updateCamera(t),t=Ie.getCamera()),!0===e.isScene&&e.onBeforeRender(P,e,t,I),(T=_e.get(e,C.length)).init(),C.push(T),ee.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Y.setFromProjectionMatrix(ee),J=this.localClippingEnabled,Q=be.init(this.clippingPlanes,J),(M=ye.get(e,k.length)).init(),k.push(M),Ge(e,t,0,P.sortObjects),M.finish(),!0===P.sortObjects&&M.sort(Z,W),this.info.render.frame++,!0===Q&&be.beginShadows();var n=T.state.shadowsArray;if(xe.render(n,e,t),!0===Q&&be.endShadows(),!0===this.info.autoReset&&this.info.reset(),we.render(M,e),T.setupLights(P._useLegacyLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];Ze(M,e,o,o.viewport)}else Ze(M,e,t);null!==I&&(ce.updateMultisampleRenderTarget(I),ce.updateRenderTargetMipmap(I)),!0===e.isScene&&e.onAfterRender(P,e,t),Te.resetDefaultState(),L=-1,D=null,C.pop(),T=C.length>0?C[C.length-1]:null,k.pop(),M=k.length>0?k[k.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return O},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(e,t,n){le.get(e.texture).__webglTexture=t,le.get(e.depthTexture).__webglTexture=n;var r=le.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===ae.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=le.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;I=e,N=t,O=n;var r=!0,i=null,a=!1,o=!1;if(e){var s=le.get(e);void 0!==s.__useDefaultFramebuffer?(se.bindFramebuffer(Ce.FRAMEBUFFER,null),r=!1):void 0===s.__webglFramebuffer?ce.setupRenderTarget(e):s.__hasExternalTextures&&ce.rebindTextures(e,le.get(e.texture).__webglTexture,le.get(e.depthTexture).__webglTexture);var u=e.texture;(u.isData3DTexture||u.isDataArrayTexture||u.isCompressedArrayTexture)&&(o=!0);var l=le.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(l[t])?l[t][n]:l[t],a=!0):i=oe.isWebGL2&&e.samples>0&&!1===ce.useMultisampledRTT(e)?le.get(e).__webglMultisampledFramebuffer:Array.isArray(l)?l[n]:l,U.copy(e.viewport),F.copy(e.scissor),j=e.scissorTest}else U.copy(q).multiplyScalar(G).floor(),F.copy(X).multiplyScalar(G).floor(),j=K;if(se.bindFramebuffer(Ce.FRAMEBUFFER,i)&&oe.drawBuffers&&r&&se.drawBuffers(e,i),se.viewport(U),se.scissor(F),se.setScissorTest(j),a){var c=le.get(e.texture);Ce.framebufferTexture2D(Ce.FRAMEBUFFER,Ce.COLOR_ATTACHMENT0,Ce.TEXTURE_CUBE_MAP_POSITIVE_X+t,c.__webglTexture,n)}else if(o){var f=le.get(e.texture),d=t||0;Ce.framebufferTextureLayer(Ce.FRAMEBUFFER,Ce.COLOR_ATTACHMENT0,f.__webglTexture,n||0,d)}L=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=le.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){se.bindFramebuffer(Ce.FRAMEBUFFER,s);try{var u=e.texture,l=u.format,c=u.type;if(l!==Qu&&Me.convert(l)!==Ce.getParameter(Ce.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var f=c===Ku&&(ae.has("EXT_color_buffer_half_float")||oe.isWebGL2&&ae.has("EXT_color_buffer_float"));if(c!==Gu&&Me.convert(c)!==Ce.getParameter(Ce.IMPLEMENTATION_COLOR_READ_TYPE)&&(c!==Xu||!(oe.isWebGL2||ae.has("OES_texture_float")||ae.has("WEBGL_color_buffer_float")))&&!f)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Ce.readPixels(t,n,r,i,Me.convert(l),Me.convert(c),a)}finally{var d=null!==I?le.get(I).__webglFramebuffer:null;se.bindFramebuffer(Ce.FRAMEBUFFER,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);ce.setTexture2D(t,0),Ce.copyTexSubImage2D(Ce.TEXTURE_2D,n,0,0,e.x,e.y,i,a),se.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=Me.convert(n.format),s=Me.convert(n.type);ce.setTexture2D(n,0),Ce.pixelStorei(Ce.UNPACK_FLIP_Y_WEBGL,n.flipY),Ce.pixelStorei(Ce.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),Ce.pixelStorei(Ce.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?Ce.texSubImage2D(Ce.TEXTURE_2D,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?Ce.compressedTexSubImage2D(Ce.TEXTURE_2D,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):Ce.texSubImage2D(Ce.TEXTURE_2D,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&Ce.generateMipmap(Ce.TEXTURE_2D),se.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(P.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,u=e.max.z-e.min.z+1,l=Me.convert(r.format),c=Me.convert(r.type);if(r.isData3DTexture)ce.setTexture3D(r,0),a=Ce.TEXTURE_3D;else{if(!r.isDataArrayTexture&&!r.isCompressedArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ce.setTexture2DArray(r,0),a=Ce.TEXTURE_2D_ARRAY}Ce.pixelStorei(Ce.UNPACK_FLIP_Y_WEBGL,r.flipY),Ce.pixelStorei(Ce.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),Ce.pixelStorei(Ce.UNPACK_ALIGNMENT,r.unpackAlignment);var f=Ce.getParameter(Ce.UNPACK_ROW_LENGTH),d=Ce.getParameter(Ce.UNPACK_IMAGE_HEIGHT),h=Ce.getParameter(Ce.UNPACK_SKIP_PIXELS),p=Ce.getParameter(Ce.UNPACK_SKIP_ROWS),m=Ce.getParameter(Ce.UNPACK_SKIP_IMAGES),v=n.isCompressedTexture?n.mipmaps[i]:n.image;Ce.pixelStorei(Ce.UNPACK_ROW_LENGTH,v.width),Ce.pixelStorei(Ce.UNPACK_IMAGE_HEIGHT,v.height),Ce.pixelStorei(Ce.UNPACK_SKIP_PIXELS,e.min.x),Ce.pixelStorei(Ce.UNPACK_SKIP_ROWS,e.min.y),Ce.pixelStorei(Ce.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?Ce.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,v.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Ce.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,v.data)):Ce.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,v),Ce.pixelStorei(Ce.UNPACK_ROW_LENGTH,f),Ce.pixelStorei(Ce.UNPACK_IMAGE_HEIGHT,d),Ce.pixelStorei(Ce.UNPACK_SKIP_PIXELS,h),Ce.pixelStorei(Ce.UNPACK_SKIP_ROWS,p),Ce.pixelStorei(Ce.UNPACK_SKIP_IMAGES,m),0===i&&r.generateMipmaps&&Ce.generateMipmap(a),se.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?ce.setTextureCube(e,0):e.isData3DTexture?ce.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ce.setTexture2DArray(e,0):ce.setTexture2D(e,0),se.unbindTexture()},this.resetState=function(){N=0,O=0,I=null,se.reset(),Te.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}return(0,m.Z)(e,[{key:"coordinateSystem",get:function(){return Ml}},{key:"outputColorSpace",get:function(){return this._outputColorSpace},set:function(e){this._outputColorSpace=e;var t=this.getContext();t.drawingBufferColorSpace=e===vl?"display-p3":"srgb",t.unpackColorSpace=ec.workingColorSpace===gl?"display-p3":"srgb"}},{key:"outputEncoding",get:function(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===pl?dl:3e3},set:function(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===dl?pl:ml}},{key:"useLegacyLights",get:function(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}]),e}(),bm=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n)}(_m);bm.prototype.isWebGL1Renderer=!0;var xm=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:(0,iu.Z)(e)})),e}return(0,m.Z)(n,[{key:"copy",value:function(e,t){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=nu((0,Ys.Z)(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}]),n}(gf),wm=function(){function e(t,n){(0,p.Z)(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=Sl,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Ol()}return(0,m.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"updateRange",get:function(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"addUpdateRange",value:function(e,t){this.updateRanges.push({start:e,count:t})}},{key:"clearUpdateRanges",value:function(){this.updateRanges.length=0}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ol()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ol()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),Sm=new mc,Em=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,p.Z)(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=i}return(0,m.Z)(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)Sm.fromBufferAttribute(this,t),Sm.applyMatrix4(e),this.setXYZ(t,Sm.x,Sm.y,Sm.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Sm.fromBufferAttribute(this,t),Sm.applyNormalMatrix(e),this.setXYZ(t,Sm.x,Sm.y,Sm.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Sm.fromBufferAttribute(this,t),Sm.transformDirection(e),this.setXYZ(t,Sm.x,Sm.y,Sm.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=Bl(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=Bl(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Bl(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=Bl(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=jl(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=jl(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=jl(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=jl(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bl(t,this.array),n=Bl(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bl(t,this.array),n=Bl(n,this.array),r=Bl(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bl(t,this.array),n=Bl(n,this.array),r=Bl(r,this.array),i=Bl(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new zf(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}();var Am=new mc,Mm=new lc,Tm=new lc,km=new mc,Cm=new Zc,Pm=new mc,Rm=new Dc,Nm=new Zc,Om=new Gc,Im=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,p.Z)(this,n),(i=t.call(this,e,r)).isSkinnedMesh=!0,i.type="SkinnedMesh",i.bindMode=Cu,i.bindMatrix=new Zc,i.bindMatrixInverse=new Zc,i.boundingBox=null,i.boundingSphere=null,i}return(0,m.Z)(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry;null===this.boundingBox&&(this.boundingBox=new yc),this.boundingBox.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)this.getVertexPosition(n,Pm),this.boundingBox.expandByPoint(Pm)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Dc),this.boundingSphere.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)this.getVertexPosition(n,Pm),this.boundingSphere.expandByPoint(Pm)}},{key:"copy",value:function(e,t){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"raycast",value:function(e,t){var n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),Rm.copy(this.boundingSphere),Rm.applyMatrix4(r),!1!==e.ray.intersectsSphere(Rm)&&(Nm.copy(r).invert(),Om.copy(e.ray).applyMatrix4(Nm),null!==this.boundingBox&&!1===Om.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,Om)))}},{key:"getVertexPosition",value:function(e,t){return nu((0,Ys.Z)(n.prototype),"getVertexPosition",this).call(this,e,t),this.applyBoneTransform(e,t),t}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new lc,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){nu((0,Ys.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),this.bindMode===Cu?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"applyBoneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;Mm.fromBufferAttribute(r.attributes.skinIndex,e),Tm.fromBufferAttribute(r.attributes.skinWeight,e),Am.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=Tm.getComponent(i);if(0!==a){var o=Mm.getComponent(i);Cm.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(km.copy(Am).applyMatrix4(Cm),a)}}return t.applyMatrix4(this.bindMatrixInverse)}},{key:"boneTransform",value:function(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}]),n}(vd),Lm=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return(0,m.Z)(n)}(gf),Dm=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Fu,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Fu,h=arguments.length>10?arguments[10]:void 0,m=arguments.length>11?arguments[11]:void 0;return(0,p.Z)(this,n),(e=t.call(this,null,u,l,c,f,d,o,s,h,m)).isDataTexture=!0,e.image={data:r,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,m.Z)(n)}(uc),Um=new Zc,Fm=new Zc,jm=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,p.Z)(this,e),this.uuid=Ol(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}return(0,m.Z)(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Zc)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new Zc;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:Fm;Um.multiplyMatrices(o,t[i]),Um.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new Dm(t,e,e,Qu,Xu);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new Lm),this.bones.push(a),this.boneInverses.push((new Zc).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),Bm=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,p.Z)(this,n),(a=t.call(this,e,r,i)).isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return(0,m.Z)(n,[{key:"copy",value:function(e){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=nu((0,Ys.Z)(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(zf),zm=new Zc,Vm=new Zc,Hm=[],Gm=new yc,Zm=new Zc,Wm=new vd,qm=new Dc,Xm=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a;(0,p.Z)(this,n),(a=t.call(this,e,r)).isInstancedMesh=!0,a.instanceMatrix=new Bm(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.boundingBox=null,a.boundingSphere=null;for(var o=0;o<i;o++)a.setMatrixAt(o,Zm);return a}return(0,m.Z)(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new yc),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,zm),Gm.copy(e.boundingBox).applyMatrix4(zm),this.boundingBox.union(Gm)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new Dc),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,zm),qm.copy(e.boundingSphere).applyMatrix4(zm),this.boundingSphere.union(qm)}},{key:"copy",value:function(e,t){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(Wm.geometry=this.geometry,Wm.material=this.material,void 0!==Wm.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),qm.copy(this.boundingSphere),qm.applyMatrix4(n),!1!==e.ray.intersectsSphere(qm)))for(var i=0;i<r;i++){this.getMatrixAt(i,zm),Vm.multiplyMatrices(n,zm),Wm.matrixWorld=Vm,Wm.raycast(e,Hm);for(var a=0,o=Hm.length;a<o;a++){var s=Hm[a];s.instanceId=i,s.object=this,t.push(s)}Hm.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new Bm(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(vd);var Km=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new If(16777215),r.map=null,r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return(0,m.Z)(n,[{key:"copy",value:function(e){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(Uf),Ym=new mc,Qm=new mc,Jm=new Zc,$m=new Gc,ev=new Dc,tv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Jf,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Km;return(0,p.Z)(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,m.Z)(n,[{key:"copy",value:function(e,t){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Ym.fromBufferAttribute(t,r-1),Qm.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Ym.distanceTo(Qm);e.setAttribute("lineDistance",new Gf(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ev.copy(n.boundingSphere),ev.applyMatrix4(r),ev.radius+=i,!1!==e.ray.intersectsSphere(ev)){Jm.copy(r).invert(),$m.copy(e.ray).applyMatrix4(Jm);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=new mc,l=new mc,c=new mc,f=new mc,d=this.isLineSegments?2:1,h=n.index,p=n.attributes.position;if(null!==h)for(var m=Math.max(0,a.start),v=Math.min(h.count,a.start+a.count)-1;m<v;m+=d){var g=h.getX(m),y=h.getX(m+1);if(u.fromBufferAttribute(p,g),l.fromBufferAttribute(p,y),!($m.distanceSqToSegment(u,l,f,c)>s)){f.applyMatrix4(this.matrixWorld);var _=e.ray.origin.distanceTo(f);_<e.near||_>e.far||t.push({distance:_,point:c.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else for(var b=Math.max(0,a.start),x=Math.min(p.count,a.start+a.count)-1;b<x;b+=d){if(u.fromBufferAttribute(p,b),l.fromBufferAttribute(p,b+1),!($m.distanceSqToSegment(u,l,f,c)>s)){f.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(f);w<e.near||w>e.far||t.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(gf),nv=new mc,rv=new mc,iv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,p.Z)(this,n),(i=t.call(this,e,r)).isLineSegments=!0,i.type="LineSegments",i}return(0,m.Z)(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)nv.fromBufferAttribute(t,r),rv.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+nv.distanceTo(rv);e.setAttribute("lineDistance",new Gf(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(tv),av=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,p.Z)(this,n),(i=t.call(this,e,r)).isLineLoop=!0,i.type="LineLoop",i}return(0,m.Z)(n)}(tv),ov=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).isPointsMaterial=!0,r.type="PointsMaterial",r.color=new If(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.fog=!0,r.setValues(e),r}return(0,m.Z)(n,[{key:"copy",value:function(e){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(Uf),sv=new Zc,uv=new Gc,lv=new Dc,cv=new mc,fv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Jf,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ov;return(0,p.Z)(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,m.Z)(n,[{key:"copy",value:function(e,t){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),lv.copy(n.boundingSphere),lv.applyMatrix4(r),lv.radius+=i,!1!==e.ray.intersectsSphere(lv)){sv.copy(r).invert(),uv.copy(e.ray).applyMatrix4(sv);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=n.index,l=n.attributes.position;if(null!==u)for(var c=Math.max(0,a.start),f=Math.min(u.count,a.start+a.count);c<f;c++){var d=u.getX(c);cv.fromBufferAttribute(l,d),dv(cv,d,s,r,e,t,this)}else for(var h=Math.max(0,a.start),p=Math.min(l.count,a.start+a.count);h<p;h++)cv.fromBufferAttribute(l,h),dv(cv,h,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(gf);function dv(e,t,n,r,i,a,o){var s=uv.distanceSqToPoint(e);if(s<n){var u=new mc;uv.closestPointToPoint(e,u),u.applyMatrix4(r);var l=i.ray.origin.distanceTo(u);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:o})}}var hv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).isMeshStandardMaterial=!0,r.defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new If(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new If(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new Vl(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,m.Z)(n,[{key:"copy",value:function(e){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Uf),pv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).isMeshPhysicalMaterial=!0,r.defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.anisotropyRotation=0,r.anisotropyMap=null,r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new Vl(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty((0,iu.Z)(r),"reflectivity",{get:function(){return Il(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.iridescenceMap=null,r.iridescenceIOR=1.3,r.iridescenceThicknessRange=[100,400],r.iridescenceThicknessMap=null,r.sheenColor=new If(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=1/0,r.attenuationColor=new If(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new If(1,1,1),r.specularColorMap=null,r._anisotropy=0,r._clearcoat=0,r._iridescence=0,r._sheen=0,r._transmission=0,r.setValues(e),r}return(0,m.Z)(n,[{key:"anisotropy",get:function(){return this._anisotropy},set:function(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=h(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(hv),mv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).isMeshPhongMaterial=!0,r.type="MeshPhongMaterial",r.color=new If(16777215),r.specular=new If(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new If(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new Vl(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=_u,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,m.Z)(n,[{key:"copy",value:function(e){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Uf);function vv(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function gv(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yv(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function _v(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,u=0;u!==t;++u)i[o++]=e[s+u];return i}function bv(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}var xv=function(){function e(t,n,r,i){(0,p.Z)(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return(0,m.Z)(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var u=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===u)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),wv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i,a){var o;return(0,p.Z)(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:ul,endingEnd:ul},o}return(0,m.Z)(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case ll:i=e,o=2*t-n;break;case cl:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case ll:a=e,s=2*n-t;break;case cl:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,f=this._weightPrev,d=this._weightNext,h=(n-t)/(r-t),p=h*h,m=p*h,v=-f*m+2*f*p-f*h,g=(1+f)*m+(-1.5-2*f)*p+(-.5+f)*h+1,y=(-1-d)*m+(1.5+d)*p+.5*h,_=d*m-d*p,b=0;b!==o;++b)i[b]=v*a[l+b]+g*a[u+b]+y*a[s+b]+_*a[c+b];return i}}]),n}(xv),Sv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i,a){return(0,p.Z)(this,n),t.call(this,e,r,i,a)}return(0,m.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(n-t)/(r-t),c=1-l,f=0;f!==o;++f)i[f]=a[u+f]*c+a[s+f]*l;return i}}]),n}(xv),Ev=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i,a){return(0,p.Z)(this,n),t.call(this,e,r,i,a)}return(0,m.Z)(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(xv),Av=function(){function e(t,n,r,i){if((0,p.Z)(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=vv(n,this.TimeBufferType),this.values=vv(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return(0,m.Z)(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new Ev(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new Sv(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new wv(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case al:t=this.InterpolantFactoryMethodDiscrete;break;case ol:t=this.InterpolantFactoryMethodLinear;break;case sl:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return al;case this.InterpolantFactoryMethodLinear:return ol;case this.InterpolantFactoryMethodSmooth:return sl}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=n.slice(i,a),this.values=this.values.slice(i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&gv(r))for(var u=0,l=r.length;u!==l;++u){var c=r[u];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===sl,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==e[0]))if(r)s=!0;else for(var l=o*n,c=l-n,f=l+n,d=0;d!==n;++d){var h=t[l+d];if(h!==t[c+d]||h!==t[f+d]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,m=a*n,v=0;v!==n;++v)t[m+v]=t[p+v]}++a}}if(i>0){e[a]=e[i];for(var g=i*n,y=a*n,_=0;_!==n;++_)t[y+_]=t[g+_];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:vv(e.times,Array),values:vv(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();Av.prototype.TimeBufferType=Float32Array,Av.prototype.ValueBufferType=Float32Array,Av.prototype.DefaultInterpolation=ol;var Mv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n)}(Av);Mv.prototype.ValueTypeName="bool",Mv.prototype.ValueBufferType=Array,Mv.prototype.DefaultInterpolation=al,Mv.prototype.InterpolantFactoryMethodLinear=void 0,Mv.prototype.InterpolantFactoryMethodSmooth=void 0;var Tv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n)}(Av);Tv.prototype.ValueTypeName="color";var kv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n)}(Av);kv.prototype.ValueTypeName="number";var Cv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i,a){return(0,p.Z)(this,n),t.call(this,e,r,i,a)}return(0,m.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),u=e*o,l=u+o;u!==l;u+=4)pc.slerpFlat(i,0,a,u-o,a,u,s);return i}}]),n}(xv),Pv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new Cv(this.times,this.values,this.getValueSize(),e)}}]),n}(Av);Pv.prototype.ValueTypeName="quaternion",Pv.prototype.DefaultInterpolation=ol,Pv.prototype.InterpolantFactoryMethodSmooth=void 0;var Rv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n)}(Av);Rv.prototype.ValueTypeName="string",Rv.prototype.ValueBufferType=Array,Rv.prototype.DefaultInterpolation=al,Rv.prototype.InterpolantFactoryMethodLinear=void 0,Rv.prototype.InterpolantFactoryMethodSmooth=void 0;var Nv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n)}(Av);Nv.prototype.ValueTypeName="vector";var Ov=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fl;(0,p.Z)(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ol(),this.duration<0&&this.resetDuration()}return(0,m.Z)(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(Iv(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(Av.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],u=[];s.push((o+i-1)%i,o,(o+1)%i),u.push(0,1,0);var l=yv(s);s=_v(s,1,l),u=_v(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),a.push(new kv(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=r[l];c||(r[l]=c=[]),c.push(s)}}var f=[];for(var d in r)f.push(this.CreateFromMorphTargetSequence(d,r[d],t,n));return f}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];bv(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,u=e.hierarchy||[],l=0;l<u.length;l++){var c=u[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){var f={},d=void 0;for(d=0;d<c.length;d++)if(c[d].morphTargets)for(var h=0;h<c[d].morphTargets.length;h++)f[c[d].morphTargets[h]]=-1;for(var p in f){for(var m=[],v=[],g=0;g!==c[d].morphTargets.length;++g){var y=c[d];m.push(y.time),v.push(y.morphTarget===p?1:0)}r.push(new kv(".morphTargetInfluence["+p+"]",m,v))}s=f.length*a}else{var _=".bones["+t[l].name+"]";n(Nv,_+".position",c,"pos",r),n(Pv,_+".quaternion",c,"rot",r),n(Nv,_+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}}]),e}();function Iv(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return kv;case"vector":case"vector2":case"vector3":case"vector4":return Nv;case"color":return Tv;case"quaternion":return Pv;case"bool":case"boolean":return Mv;case"string":return Rv}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];bv(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var Lv={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Dv=(0,m.Z)((function e(t,n,r){(0,p.Z)(this,e);var i=this,a=!1,o=0,s=0,u=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return u?u(e):e},this.setURLModifier=function(e){return u=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),Uv=new Dv,Fv=function(){function e(t){(0,p.Z)(this,e),this.manager=void 0!==t?t:Uv,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return(0,m.Z)(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}();Fv.DEFAULT_MATERIAL_NAME="__DEFAULT";var jv={},Bv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,p.Z)(this,n),(i=t.call(this,e)).response=r,i}return(0,m.Z)(n)}(eu(Error)),zv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){return(0,p.Z)(this,n),t.call(this,e)}return(0,m.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=Lv.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===jv[e]){jv[e]=[],jv[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,u=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=jv[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,o=0!==a,s=0,u=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,u=r.value;if(i)e.close();else{s+=u.byteLength;for(var l=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,f=n.length;c<f;c++){var d=n[c];d.onProgress&&d.onProgress(l)}e.enqueue(u),t()}}))}()}});return new Response(u)}throw new Bv('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(u){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){Lv.add(e,t);var n=jv[e];delete jv[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=jv[e];if(void 0===n)throw i.manager.itemError(e),t;delete jv[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else jv[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(Fv),Vv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){return(0,p.Z)(this,n),t.call(this,e)}return(0,m.Z)(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Lv.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=Wl("img");function s(){l(),Lv.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){l(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function l(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(Fv),Hv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){return(0,p.Z)(this,n),t.call(this,e)}return(0,m.Z)(n,[{key:"load",value:function(e,t,n,r){var i=new uc,a=new Vv(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(Fv),Gv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,p.Z)(this,n),(r=t.call(this)).isLight=!0,r.type="Light",r.color=new If(e),r.intensity=i,r}return(0,m.Z)(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=nu((0,Ys.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(gf),Zv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a;return(0,p.Z)(this,n),(a=t.call(this,e,i)).isHemisphereLight=!0,a.type="HemisphereLight",a.position.copy(gf.DEFAULT_UP),a.updateMatrix(),a.groundColor=new If(r),a}return(0,m.Z)(n,[{key:"copy",value:function(e,t){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e,t),this.groundColor.copy(e.groundColor),this}}]),n}(Gv),Wv=new Zc,qv=new mc,Xv=new mc,Kv=function(){function e(t){(0,p.Z)(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vl(512,512),this.map=null,this.mapPass=null,this.matrix=new Zc,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Dd,this._frameExtents=new Vl(1,1),this._viewportCount=1,this._viewports=[new lc(0,0,1,1)]}return(0,m.Z)(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;qv.setFromMatrixPosition(e.matrixWorld),t.position.copy(qv),Xv.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Xv),t.updateMatrixWorld(),Wv.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Wv),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Wv)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),Yv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this,new Ad(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return(0,m.Z)(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*Nl*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),nu((0,Ys.Z)(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(Kv),Qv=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;return(0,p.Z)(this,n),(i=t.call(this,e,r)).isSpotLight=!0,i.type="SpotLight",i.position.copy(gf.DEFAULT_UP),i.updateMatrix(),i.target=new gf,i.distance=a,i.angle=o,i.penumbra=s,i.decay=u,i.map=null,i.shadow=new Yv,i}return(0,m.Z)(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Gv),Jv=new Zc,$v=new mc,eg=new mc,tg=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this,new Ad(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new Vl(4,2),e._viewportCount=6,e._viewports=[new lc(2,1,1,1),new lc(0,1,1,1),new lc(3,1,1,1),new lc(1,1,1,1),new lc(3,0,1,1),new lc(1,0,1,1)],e._cubeDirections=[new mc(1,0,0),new mc(-1,0,0),new mc(0,0,1),new mc(0,0,-1),new mc(0,1,0),new mc(0,-1,0)],e._cubeUps=[new mc(0,1,0),new mc(0,1,0),new mc(0,1,0),new mc(0,1,0),new mc(0,0,1),new mc(0,0,-1)],e}return(0,m.Z)(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),$v.setFromMatrixPosition(e.matrixWorld),n.position.copy($v),eg.copy(n.position),eg.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(eg),n.updateMatrixWorld(),r.makeTranslation(-$v.x,-$v.y,-$v.z),Jv.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Jv)}}]),n}(Kv),ng=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return(0,p.Z)(this,n),(i=t.call(this,e,r)).isPointLight=!0,i.type="PointLight",i.distance=a,i.decay=o,i.shadow=new tg,i}return(0,m.Z)(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(Gv),rg=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this,new Yd(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return(0,m.Z)(n)}(Kv),ig=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,p.Z)(this,n),(i=t.call(this,e,r)).isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(gf.DEFAULT_UP),i.updateMatrix(),i.target=new gf,i.shadow=new rg,i}return(0,m.Z)(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return nu((0,Ys.Z)(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Gv),ag=function(){function e(){(0,p.Z)(this,e)}return(0,m.Z)(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(Pn){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),og=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,e)).isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return(0,m.Z)(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Lv.get(e);if(void 0!==a)return i.manager.itemStart(e),a.then?void a.then((function(n){t&&t(n),i.manager.itemEnd(e)})).catch((function(e){r&&r(e)})):(setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a);var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader;var s=fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){return Lv.add(e,n),t&&t(n),i.manager.itemEnd(e),n})).catch((function(t){r&&r(t),Lv.remove(e),i.manager.itemError(e),i.manager.itemEnd(e)}));Lv.add(e,s),i.manager.itemStart(e)}}]),n}(Fv);var sg="\\[\\]\\.:\\/",ug=new RegExp("["+sg+"]","g"),lg="[^"+sg+"]",cg="[^"+sg.replace("\\.","")+"]",fg=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",lg)+/(WCOD+)?/.source.replace("WCOD",cg)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",lg)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",lg)+"$"),dg=["material","materials","bones","map"],hg=function(){function e(t,n,r){(0,p.Z)(this,e);var i=r||pg.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return(0,m.Z)(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),pg=function(){function e(t,n,r){(0,p.Z)(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return(0,m.Z)(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var u=t[i];if(void 0!==u){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=a}else void 0!==u.fromArray&&void 0!==u.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(c=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var f=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+i+" but it wasn't found.",t)}}else console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(ug,"")}},{key:"parseTrackName",value:function(e){var t=fg.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==dg.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();pg.Composite=hg,pg.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},pg.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},pg.prototype.GetterByBindingType=[pg.prototype._getValue_direct,pg.prototype._getValue_array,pg.prototype._getValue_arrayElement,pg.prototype._getValue_toArray],pg.prototype.SetterByBindingTypeAndVersioning=[[pg.prototype._setValue_direct,pg.prototype._setValue_direct_setNeedsUpdate,pg.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[pg.prototype._setValue_array,pg.prototype._setValue_array_setNeedsUpdate,pg.prototype._setValue_array_setMatrixWorldNeedsUpdate],[pg.prototype._setValue_arrayElement,pg.prototype._setValue_arrayElement_setNeedsUpdate,pg.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[pg.prototype._setValue_fromArray,pg.prototype._setValue_fromArray_setNeedsUpdate,pg.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);var mg=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,p.Z)(this,e),this.radius=t,this.phi=n,this.theta=r,this}return(0,m.Z)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Il(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),vg=new mc,gg=new Zc,yg=new Zc,_g=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;(0,p.Z)(this,n);for(var i=bg(e),a=new Jf,o=[],s=[],u=new If(0,0,1),l=new If(0,1,0),c=0;c<i.length;c++){var f=i[c];f.parent&&f.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(u.r,u.g,u.b),s.push(l.r,l.g,l.b))}a.setAttribute("position",new Gf(o,3)),a.setAttribute("color",new Gf(s,3));var d=new Km({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,d)).isSkeletonHelper=!0,r.type="SkeletonHelper",r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return(0,m.Z)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");yg.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(gg.multiplyMatrices(yg,s.matrixWorld),vg.setFromMatrixPosition(gg),i.setXYZ(o,vg.x,vg.y,vg.z),gg.multiplyMatrices(yg,s.parent.matrixWorld),vg.setFromMatrixPosition(gg),i.setXYZ(o+1,vg.x,vg.y,vg.z),o+=2)}r.getAttribute("position").needsUpdate=!0,nu((0,Ys.Z)(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(iv);function bg(e){var t=[];!0===e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,bg(e.children[n]));return t}var xg=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;(0,p.Z)(this,n),a=new If(a),o=new If(o);for(var s=i/2,u=r/i,l=r/2,c=[],f=[],d=0,h=0,m=-l;d<=i;d++,m+=u){c.push(-l,0,m,l,0,m),c.push(m,0,-l,m,0,l);var v=d===s?a:o;v.toArray(f,h),h+=3,v.toArray(f,h),h+=3,v.toArray(f,h),h+=3,v.toArray(f,h),h+=3}var g=new Jf;g.setAttribute("position",new Gf(c,3)),g.setAttribute("color",new Gf(f,3));var y=new Km({vertexColors:!0,toneMapped:!1});return(e=t.call(this,g,y)).type="GridHelper",e}return(0,m.Z)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(iv);function wg(e,t){if(0===t)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(2===t||1===t){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(2===t)for(var u=1;u<=o;u++)s.push(n.getX(0)),s.push(n.getX(u)),s.push(n.getX(u+1));else for(var l=0;l<o;l++)l%2===0?(s.push(n.getX(l)),s.push(n.getX(l+1)),s.push(n.getX(l+2))):(s.push(n.getX(l+2)),s.push(n.getX(l+1)),s.push(n.getX(l)));s.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(s),c.clearGroups(),c}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:au}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=au);var Sg=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new Cg(e)})),r.register((function(e){return new Fg(e)})),r.register((function(e){return new jg(e)})),r.register((function(e){return new Bg(e)})),r.register((function(e){return new Rg(e)})),r.register((function(e){return new Ng(e)})),r.register((function(e){return new Og(e)})),r.register((function(e){return new Ig(e)})),r.register((function(e){return new kg(e)})),r.register((function(e){return new Lg(e)})),r.register((function(e){return new Pg(e)})),r.register((function(e){return new Ug(e)})),r.register((function(e){return new Dg(e)})),r.register((function(e){return new Mg(e)})),r.register((function(e){return new zg(e)})),r.register((function(e){return new Vg(e)})),r}return(0,m.Z)(n,[{key:"load",value:function(e,t,n,r){var i,a=this;if(""!==this.resourcePath)i=this.resourcePath;else if(""!==this.path){var o=ag.extractUrlBase(e);i=ag.resolveURL(o,this.path)}else i=ag.extractUrlBase(e);this.manager.itemStart(e);var s=function(t){r?r(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},u=new zv(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,(function(n){try{a.parse(n,i,(function(n){t(n),a.manager.itemEnd(e)}),s)}catch(Pn){s(Pn)}}),n,s)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var i,a={},o={},s=new TextDecoder;if("string"===typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer){if(s.decode(new Uint8Array(e,0,4))===Hg){try{a[Ag.KHR_BINARY_GLTF]=new Wg(e)}catch(p){return void(r&&r(p))}i=JSON.parse(a[Ag.KHR_BINARY_GLTF].content)}else i=JSON.parse(s.decode(e))}else i=e;if(void 0===i.asset||i.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var u=new yy(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(var l=0;l<this.pluginCallbacks.length;l++){var c=this.pluginCallbacks[l](u);c.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[c.name]=c,a[c.name]=!0}if(i.extensionsUsed)for(var f=0;f<i.extensionsUsed.length;++f){var d=i.extensionsUsed[f],h=i.extensionsRequired||[];switch(d){case Ag.KHR_MATERIALS_UNLIT:a[d]=new Tg;break;case Ag.KHR_DRACO_MESH_COMPRESSION:a[d]=new qg(i,this.dracoLoader);break;case Ag.KHR_TEXTURE_TRANSFORM:a[d]=new Xg;break;case Ag.KHR_MESH_QUANTIZATION:a[d]=new Kg;break;default:h.indexOf(d)>=0&&void 0===o[d]&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}u.setExtensions(a),u.setPlugins(o),u.parse(n,r)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}]),n}(Fv);function Eg(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var Ag={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"},Mg=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=Ag.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return(0,m.Z)(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var i,a=t.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],s=new If(16777215);void 0!==o.color&&s.setRGB(o.color[0],o.color[1],o.color[2],ml);var u=void 0!==o.range?o.range:0;switch(o.type){case"directional":(i=new ig(s)).target.position.set(0,0,-1),i.add(i.target);break;case"point":(i=new ng(s)).distance=u;break;case"spot":(i=new Qv(s)).distance=u,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,i.angle=o.spot.outerConeAngle,i.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return i.position.set(0,0,0),i.decay=2,dy(i,o),void 0!==o.intensity&&(i.intensity=o.intensity),i.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(i),t.cache.add(n,r),r}},{key:"getDependency",value:function(e,t){if("light"===e)return this._loadLight(t)}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}]),e}(),Tg=function(){function e(){(0,p.Z)(this,e),this.name=Ag.KHR_MATERIALS_UNLIT}return(0,m.Z)(e,[{key:"getMaterialType",value:function(){return Ff}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new If(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],ml),e.opacity=a[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,pl))}return Promise.all(r)}}]),e}(),kg=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=Ag.KHR_MATERIALS_EMISSIVE_STRENGTH}return(0,m.Z)(e,[{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}]),e}(),Cg=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=Ag.KHR_MATERIALS_CLEARCOAT}return(0,m.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?pv:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Vl(o,o)}return Promise.all(i)}}]),e}(),Pg=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=Ag.KHR_MATERIALS_IRIDESCENCE}return(0,m.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?pv:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}]),e}(),Rg=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=Ag.KHR_MATERIALS_SHEEN}return(0,m.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?pv:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[];t.sheenColor=new If(0,0,0),t.sheenRoughness=0,t.sheen=1;var a=r.extensions[this.name];if(void 0!==a.sheenColorFactor){var o=a.sheenColorFactor;t.sheenColor.setRGB(o[0],o[1],o[2],ml)}return void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,pl)),void 0!==a.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}]),e}(),Ng=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=Ag.KHR_MATERIALS_TRANSMISSION}return(0,m.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?pv:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}]),e}(),Og=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=Ag.KHR_MATERIALS_VOLUME}return(0,m.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?pv:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;var o=a.attenuationColor||[1,1,1];return t.attenuationColor=(new If).setRGB(o[0],o[1],o[2],ml),Promise.all(i)}}]),e}(),Ig=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=Ag.KHR_MATERIALS_IOR}return(0,m.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?pv:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),Lg=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=Ag.KHR_MATERIALS_SPECULAR}return(0,m.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?pv:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));var o=a.specularColorFactor||[1,1,1];return t.specularColor=(new If).setRGB(o[0],o[1],o[2],ml),void 0!==a.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,pl)),Promise.all(i)}}]),e}(),Dg=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=Ag.EXT_MATERIALS_BUMP}return(0,m.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?pv:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return t.bumpScale=void 0!==a.bumpFactor?a.bumpFactor:1,void 0!==a.bumpTexture&&i.push(n.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(i)}}]),e}(),Ug=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=Ag.KHR_MATERIALS_ANISOTROPY}return(0,m.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?pv:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.anisotropyStrength&&(t.anisotropy=a.anisotropyStrength),void 0!==a.anisotropyRotation&&(t.anisotropyRotation=a.anisotropyRotation),void 0!==a.anisotropyTexture&&i.push(n.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(i)}}]),e}(),Fg=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=Ag.KHR_TEXTURE_BASISU}return(0,m.Z)(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}]),e}(),jg=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=Ag.EXT_TEXTURE_WEBP,this.isSupported=null}return(0,m.Z)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var u=n.options.manager.getHandler(o.uri);null!==u&&(s=u)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),Bg=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=Ag.EXT_TEXTURE_AVIF,this.isSupported=null}return(0,m.Z)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var u=n.options.manager.getHandler(o.uri);null!==u&&(s=u)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),zg=function(){function e(t){(0,p.Z)(this,e),this.name=Ag.EXT_MESHOPT_COMPRESSION,this.parser=t}return(0,m.Z)(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,i=r.count,o=r.byteStride,s=new Uint8Array(e,t,n);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(i,o,s,r.mode,r.filter).then((function(e){return e.buffer})):a.ready.then((function(){var e=new ArrayBuffer(i*o);return a.decodeGltfBuffer(new Uint8Array(e),i,o,s,r.mode,r.filter),e}))}))}return null}}]),e}(),Vg=function(){function e(t){(0,p.Z)(this,e),this.name=Ag.EXT_MESH_GPU_INSTANCING,this.parser=t}return(0,m.Z)(e,[{key:"createNodeMesh",value:function(e){var t=this,n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||void 0===r.mesh)return null;var i,a=n.meshes[r.mesh],o=(0,tu.Z)(a.primitives);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s.mode!==$g.TRIANGLES&&s.mode!==$g.TRIANGLE_STRIP&&s.mode!==$g.TRIANGLE_FAN&&void 0!==s.mode)return null}}catch(h){o.e(h)}finally{o.f()}var u=r.extensions[this.name].attributes,l=[],c={},f=function(e){l.push(t.parser.getDependency("accessor",u[e]).then((function(t){return c[e]=t,c[e]})))};for(var d in u)f(d);return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then((function(e){var n,r=e.pop(),i=r.isGroup?r.children:[r],a=e[0].count,o=[],s=(0,tu.Z)(i);try{for(s.s();!(n=s.n()).done;){for(var u=n.value,l=new Zc,f=new mc,d=new pc,p=new mc(1,1,1),m=new Xm(u.geometry,u.material,a),v=0;v<a;v++)c.TRANSLATION&&f.fromBufferAttribute(c.TRANSLATION,v),c.ROTATION&&d.fromBufferAttribute(c.ROTATION,v),c.SCALE&&p.fromBufferAttribute(c.SCALE,v),m.setMatrixAt(v,l.compose(f,d,p));for(var g in c)if("_COLOR_0"===g){var y=c[g];m.instanceColor=new Bm(y.array,y.itemSize,y.normalized)}else"TRANSLATION"!==g&&"ROTATION"!==g&&"SCALE"!==g&&u.geometry.setAttribute(g,c[g]);gf.prototype.copy.call(m,u),t.parser.assignFinalMaterial(m),o.push(m)}}catch(h){s.e(h)}finally{s.f()}return r.isGroup?(r.clear(),r.add.apply(r,o),r):o[0]})))}}]),e}(),Hg="glTF",Gg=1313821514,Zg=5130562,Wg=(0,m.Z)((function e(t){(0,p.Z)(this,e),this.name=Ag.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==Hg)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var i=this.header.length-12,a=new DataView(t,12),o=0;o<i;){var s=a.getUint32(o,!0);o+=4;var u=a.getUint32(o,!0);if(o+=4,u===Gg){var l=new Uint8Array(t,12+o,s);this.content=r.decode(l)}else if(u===Zg){var c=12+o;this.body=t.slice(c,c+s)}o+=s}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),qg=function(){function e(t,n){if((0,p.Z)(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ag.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return(0,m.Z)(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},u={};for(var l in a){var c=iy[l]||l.toLowerCase();o[c]=a[l]}for(var f in e.attributes){var d=iy[f]||f.toLowerCase();if(void 0!==a[f]){var h=n.accessors[e.attributes[f]],p=ey[h.componentType];u[d]=p.name,s[d]=!0===h.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t,n){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),o,u,ml,n)}))}))}}]),e}(),Xg=function(){function e(){(0,p.Z)(this,e),this.name=Ag.KHR_TEXTURE_TRANSFORM}return(0,m.Z)(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale?(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e):e}}]),e}(),Kg=(0,m.Z)((function e(){(0,p.Z)(this,e),this.name=Ag.KHR_MESH_QUANTIZATION})),Yg=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i,a){return(0,p.Z)(this,n),t.call(this,e,r,i,a)}return(0,m.Z)(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,a=0;a!==r;a++)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,u=3*o,l=r-t,c=(n-t)/l,f=c*c,d=f*c,h=e*u,p=h-u,m=-2*d+3*f,v=d-f,g=1-m,y=v-f+c,_=0;_!==o;_++){var b=a[p+_+o],x=a[p+_+s]*l,w=a[h+_+o],S=a[h+_]*l;i[_]=g*b+y*x+m*w+v*S}return i}}]),n}(xv),Qg=new pc,Jg=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n,[{key:"interpolate_",value:function(e,t,r,i){var a=nu((0,Ys.Z)(n.prototype),"interpolate_",this).call(this,e,t,r,i);return Qg.fromArray(a).normalize().toArray(a),a}}]),n}(Yg),$g={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},ey={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ty={9728:Fu,9729:zu,9984:ju,9985:Vu,9986:Bu,9987:Hu},ny={33071:Du,33648:Uu,10497:Lu},ry={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},iy={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ay={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},oy={CUBICSPLINE:void 0,LINEAR:ol,STEP:al},sy="OPAQUE",uy="MASK",ly="BLEND";function cy(e){return void 0===e.DefaultMaterial&&(e.DefaultMaterial=new hv({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:vu})),e.DefaultMaterial}function fy(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function dy(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function hy(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(var a=0,o=i.length;a<o;a++)e.morphTargetDictionary[i[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function py(e){var t,n=e.extensions&&e.extensions[Ag.KHR_DRACO_MESH_COMPRESSION];if(t=n?"draco:"+n.bufferView+":"+n.indices+":"+my(n.attributes):e.indices+":"+my(e.attributes)+":"+e.mode,void 0!==e.targets)for(var r=0,i=e.targets.length;r<i;r++)t+=":"+my(e.targets[r]);return t}function my(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function vy(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var gy=new Zc,yy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,p.Z)(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new Eg,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};var r=!1,i=!1,a=-1;"undefined"!==typeof navigator&&(r=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a=(i=navigator.userAgent.indexOf("Firefox")>-1)?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"===typeof createImageBitmap||r||i&&a<98?this.textureLoader=new Hv(this.options.manager):this.textureLoader=new og(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new zv(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return(0,m.Z)(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};return fy(i,a,r),dy(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var a=t[r].joints,o=0,s=a.length;o<s;o++)e[a[o]].isBone=!0;for(var u=0,l=e.length;u<l;u++){var c=e[u];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var a=n.clone();return function e(t,n){var a=r.associations.get(t);null!=a&&r.associations.set(n,a);var o,s=(0,tu.Z)(t.children.entries());try{for(s.s();!(o=s.n()).done;){var u=(0,i.Z)(o.value,2),l=u[0];e(u[1],n.children[l])}}catch(c){s.e(c)}finally{s.f()}}(n,a),a.name+="_instance_"+e.uses[t]++,a}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(!(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)}))))throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[Ag.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,i){n.load(ag.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){var i=ry[r.type],a=ey[r.componentType],o=!0===r.normalized,s=new a(r.count*i);return Promise.resolve(new zf(s,i,o))}var u=[];return void 0!==r.bufferView?u.push(this.getDependency("bufferView",r.bufferView)):u.push(null),void 0!==r.sparse&&(u.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),u.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(u).then((function(e){var i,a,o=e[0],s=ry[r.type],u=ey[r.componentType],l=u.BYTES_PER_ELEMENT,c=l*s,f=r.byteOffset||0,d=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,h=!0===r.normalized;if(d&&d!==c){var p=Math.floor(f/d),m="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+p+":"+r.count,v=t.cache.get(m);v||(i=new u(o,p*d,r.count*d/l),v=new wm(i,d/l),t.cache.add(m,v)),a=new Em(v,s,f%d/l,h)}else i=null===o?new u(r.count*s):new u(o,f,r.count*s),a=new zf(i,s,h);if(void 0!==r.sparse){var g=ry.SCALAR,y=ey[r.sparse.indices.componentType],_=r.sparse.indices.byteOffset||0,b=r.sparse.values.byteOffset||0,x=new y(e[1],_,r.sparse.count*g),w=new u(e[2],b,r.sparse.count*s);null!==o&&(a=new zf(a.array.slice(),a.itemSize,a.normalized));for(var S=0,E=x.length;S<E;S++){var A=x[S];if(a.setX(A,w[S*s]),s>=2&&a.setY(A,w[S*s+1]),s>=3&&a.setZ(A,w[S*s+2]),s>=4&&a.setW(A,w[S*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r],a=this.textureLoader;if(i.uri){var o=n.manager.getHandler(i.uri);null!==o&&(a=o)}return this.loadTextureImage(e,r,a)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,i=this.json,a=i.textures[e],o=i.images[t],s=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];var u=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=a.name||o.name||"",""===t.name&&"string"===typeof o.uri&&!1===o.uri.startsWith("data:image/")&&(t.name=o.uri);var n=(i.samplers||{})[a.sampler]||{};return t.magFilter=ty[n.magFilter]||zu,t.minFilter=ty[n.minFilter]||Hu,t.wrapS=ny[n.wrapS]||Lu,t.wrapT=ny[n.wrapT]||Lu,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=u,u}},{key:"loadImageSource",value:function(e,t){var n=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var i=n.images[e],a=self.URL||self.webkitURL,o=i.uri||"",s=!1;if(void 0!==i.bufferView)o=this.getDependency("bufferView",i.bufferView).then((function(e){s=!0;var t=new Blob([e],{type:i.mimeType});return o=a.createObjectURL(t)}));else if(void 0===i.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var u=Promise.resolve(o).then((function(e){return new Promise((function(n,i){var a=n;!0===t.isImageBitmapLoader&&(a=function(e){var t=new uc(e);t.needsUpdate=!0,n(t)}),t.load(ag.resolveURL(e,r.path),a,void 0,i)}))})).then((function(e){var t;return!0===s&&a.revokeObjectURL(o),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=u,u}},{key:"assignTexture",value:function(e,t,n,r){var i=this;return this.getDependency("texture",n.index).then((function(a){if(!a)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((a=a.clone()).channel=n.texCoord),i.extensions[Ag.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[Ag.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=i.associations.get(a);a=i.extensions[Ag.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,s)}}return void 0!==r&&(a.colorSpace=r),e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+n.uuid,s=this.cache.get(o);s||(s=new ov,Uf.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,s.sizeAttenuation=!1,this.cache.add(o,s)),n=s}else if(e.isLine){var u="LineBasicMaterial:"+n.uuid,l=this.cache.get(u);l||(l=new Km,Uf.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,this.cache.add(u,l)),n=l}if(r||i||a){var c="ClonedMaterial:"+n.uuid+":";r&&(c+="derivative-tangents:"),i&&(c+="vertex-colors:"),a&&(c+="flat-shading:");var f=this.cache.get(c);f||(f=n.clone(),i&&(f.vertexColors=!0),a&&(f.flatShading=!0),r&&(f.normalScale&&(f.normalScale.y*=-1),f.clearcoatNormalScale&&(f.clearcoatNormalScale.y*=-1)),this.cache.add(c,f),this.associations.set(f,this.associations.get(n))),n=f}e.material=n}},{key:"getMaterialType",value:function(){return hv}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,i=this.extensions,a=r.materials[e],o={},s=[];if((a.extensions||{})[Ag.KHR_MATERIALS_UNLIT]){var u=i[Ag.KHR_MATERIALS_UNLIT];t=u.getMaterialType(),s.push(u.extendParams(o,a,n))}else{var l=a.pbrMetallicRoughness||{};if(o.color=new If(1,1,1),o.opacity=1,Array.isArray(l.baseColorFactor)){var c=l.baseColorFactor;o.color.setRGB(c[0],c[1],c[2],ml),o.opacity=c[3]}void 0!==l.baseColorTexture&&s.push(n.assignTexture(o,"map",l.baseColorTexture,pl)),o.metalness=void 0!==l.metallicFactor?l.metallicFactor:1,o.roughness=void 0!==l.roughnessFactor?l.roughnessFactor:1,void 0!==l.metallicRoughnessTexture&&(s.push(n.assignTexture(o,"metalnessMap",l.metallicRoughnessTexture)),s.push(n.assignTexture(o,"roughnessMap",l.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),s.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===a.doubleSided&&(o.side=2);var f=a.alphaMode||sy;if(f===ly?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,f===uy&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==Ff&&(s.push(n.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new Vl(1,1),void 0!==a.normalTexture.scale)){var d=a.normalTexture.scale;o.normalScale.set(d,d)}if(void 0!==a.occlusionTexture&&t!==Ff&&(s.push(n.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==Ff){var h=a.emissiveFactor;o.emissive=(new If).setRGB(h[0],h[1],h[2],ml)}return void 0!==a.emissiveTexture&&t!==Ff&&s.push(n.assignTexture(o,"emissiveMap",a.emissiveTexture,pl)),Promise.all(s).then((function(){var r=new t(o);return a.name&&(r.name=a.name),dy(r,a),n.associations.set(r,{materials:e}),a.extensions&&fy(i,r,a),r}))}},{key:"createUniqueName",value:function(e){var t=pg.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[Ag.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return _y(n,e,t)}))}for(var a=[],o=0,s=e.length;o<s;o++){var u=e[o],l=py(u),c=r[l];if(c)a.push(c.promise);else{var f=void 0;f=u.extensions&&u.extensions[Ag.KHR_DRACO_MESH_COMPRESSION]?i(u):_y(new Jf,u,t),r[l]={primitive:u,promise:f},a.push(f)}}return Promise.all(a)}},{key:"loadMesh",value:function(e){for(var t=this,n=this.json,r=this.extensions,i=n.meshes[e],a=i.primitives,o=[],s=0,u=a.length;s<u;s++){var l=void 0===a[s].material?cy(this.cache):this.getDependency("material",a[s].material);o.push(l)}return o.push(t.loadGeometries(a)),Promise.all(o).then((function(n){for(var o=n.slice(0,n.length-1),s=n[n.length-1],u=[],l=0,c=s.length;l<c;l++){var f=s[l],d=a[l],h=void 0,p=o[l];if(d.mode===$g.TRIANGLES||d.mode===$g.TRIANGLE_STRIP||d.mode===$g.TRIANGLE_FAN||void 0===d.mode)!0===(h=!0===i.isSkinnedMesh?new Im(f,p):new vd(f,p)).isSkinnedMesh&&h.normalizeSkinWeights(),d.mode===$g.TRIANGLE_STRIP?h.geometry=wg(h.geometry,1):d.mode===$g.TRIANGLE_FAN&&(h.geometry=wg(h.geometry,2));else if(d.mode===$g.LINES)h=new iv(f,p);else if(d.mode===$g.LINE_STRIP)h=new tv(f,p);else if(d.mode===$g.LINE_LOOP)h=new av(f,p);else{if(d.mode!==$g.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+d.mode);h=new fv(f,p)}Object.keys(h.geometry.morphAttributes).length>0&&hy(h,i),h.name=t.createUniqueName(i.name||"mesh_"+e),dy(h,i),d.extensions&&fy(r,h,d),t.assignFinalMaterial(h),u.push(h)}for(var m=0,v=u.length;m<v;m++)t.associations.set(u[m],{meshes:e,primitives:m});if(1===u.length)return i.extensions&&fy(r,u[0],i),u[0];var g=new hm;i.extensions&&fy(r,g,i),t.associations.set(g,{meshes:e});for(var y=0,_=u.length;y<_;y++)g.add(u[y]);return g}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new Ad(zl.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new Yd(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),dy(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){for(var t=this.json.skins[e],n=[],r=0,i=t.joints.length;r<i;r++)n.push(this._loadNodeShallow(t.joints[r]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){for(var n=e.pop(),r=e,i=[],a=[],o=0,s=r.length;o<s;o++){var u=r[o];if(u){i.push(u);var l=new Zc;null!==n&&l.fromArray(n.array,16*o),a.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}return new jm(i,a)}))}},{key:"loadAnimation",value:function(e){for(var t=this.json,n=this,r=t.animations[e],i=r.name?r.name:"animation_"+e,a=[],o=[],s=[],u=[],l=[],c=0,f=r.channels.length;c<f;c++){var d=r.channels[c],h=r.samplers[d.sampler],p=d.target,m=p.node,v=void 0!==r.parameters?r.parameters[h.input]:h.input,g=void 0!==r.parameters?r.parameters[h.output]:h.output;void 0!==p.node&&(a.push(this.getDependency("node",m)),o.push(this.getDependency("accessor",v)),s.push(this.getDependency("accessor",g)),u.push(h),l.push(p))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(s),Promise.all(u),Promise.all(l)]).then((function(e){for(var t=e[0],r=e[1],a=e[2],o=e[3],s=e[4],u=[],l=0,c=t.length;l<c;l++){var f=t[l],d=r[l],h=a[l],p=o[l],m=s[l];if(void 0!==f){f.updateMatrix&&f.updateMatrix();var v=n._createAnimationTracks(f,d,h,p,m);if(v)for(var g=0;g<v.length;g++)u.push(v[g])}}return new Ov(i,void 0,u)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){for(var t=this,n=this.json.nodes[e],r=t._loadNodeShallow(e),i=[],a=n.children||[],o=0,s=a.length;o<s;o++)i.push(t.getDependency("node",a[o]));var u=void 0===n.skin?Promise.resolve(null):t.getDependency("skin",n.skin);return Promise.all([r,Promise.all(i),u]).then((function(e){var t=e[0],n=e[1],r=e[2];null!==r&&t.traverse((function(e){e.isSkinnedMesh&&e.bind(r,gy)}));for(var i=0,a=n.length;i<a;i++)t.add(n[i]);return t}))}},{key:"_loadNodeShallow",value:function(e){var t=this.json,n=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];var i=t.nodes[e],a=i.name?r.createUniqueName(i.name):"",o=[],s=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return s&&o.push(s),void 0!==i.camera&&o.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){o.push(e)})),this.nodeCache[e]=Promise.all(o).then((function(t){var o;if((o=!0===i.isBone?new Lm:t.length>1?new hm:1===t.length?t[0]:new gf)!==t[0])for(var s=0,u=t.length;s<u;s++)o.add(t[s]);if(i.name&&(o.userData.name=i.name,o.name=a),dy(o,i),i.extensions&&fy(n,o,i),void 0!==i.matrix){var l=new Zc;l.fromArray(i.matrix),o.applyMatrix4(l)}else void 0!==i.translation&&o.position.fromArray(i.translation),void 0!==i.rotation&&o.quaternion.fromArray(i.rotation),void 0!==i.scale&&o.scale.fromArray(i.scale);return r.associations.has(o)||r.associations.set(o,{}),r.associations.get(o).nodes=e,o})),this.nodeCache[e]}},{key:"loadScene",value:function(e){var t=this.extensions,n=this.json.scenes[e],r=this,a=new hm;n.name&&(a.name=r.createUniqueName(n.name)),dy(a,n),n.extensions&&fy(t,a,n);for(var o=n.nodes||[],s=[],u=0,l=o.length;u<l;u++)s.push(r.getDependency("node",o[u]));return Promise.all(s).then((function(e){for(var t=0,n=e.length;t<n;t++)a.add(e[t]);return r.associations=function(e){var t,n=new Map,a=(0,tu.Z)(r.associations);try{for(a.s();!(t=a.n()).done;){var o=(0,i.Z)(t.value,2),s=o[0],u=o[1];(s instanceof Uf||s instanceof uc)&&n.set(s,u)}}catch(l){a.e(l)}finally{a.f()}return e.traverse((function(e){var t=r.associations.get(e);null!=t&&n.set(e,t)})),n}(a),a}))}},{key:"_createAnimationTracks",value:function(e,t,n,r,i){var a,o=[],s=e.name?e.name:e.uuid,u=[];switch(ay[i.path]===ay.weights?e.traverse((function(e){e.morphTargetInfluences&&u.push(e.name?e.name:e.uuid)})):u.push(s),ay[i.path]){case ay.weights:a=kv;break;case ay.rotation:a=Pv;break;case ay.position:case ay.scale:a=Nv;break;default:if(1===n.itemSize)a=kv;else a=Nv}for(var l=void 0!==r.interpolation?oy[r.interpolation]:ol,c=this._getArrayFromAccessor(n),f=0,d=u.length;f<d;f++){var h=new a(u[f]+"."+ay[i.path],t.array,c,l);"CUBICSPLINE"===r.interpolation&&this._createCubicSplineTrackInterpolant(h),o.push(h)}return o}},{key:"_getArrayFromAccessor",value:function(e){var t=e.array;if(e.normalized){for(var n=vy(t.constructor),r=new Float32Array(t.length),i=0,a=t.length;i<a;i++)r[i]=t[i]*n;t=r}return t}},{key:"_createCubicSplineTrackInterpolant",value:function(e){e.createInterpolant=function(e){return new(this instanceof Pv?Jg:Yg)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}]),e}();function _y(e,t,n){var r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=iy[o]||o.toLowerCase();s in e.attributes||i.push(a(r[o],s))}if(void 0!==t.indices&&!e.index){var u=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(u)}return ec.workingColorSpace!==ml&&"COLOR_0"in r&&console.warn('THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "'.concat(ec.workingColorSpace,'" not supported.')),dy(e,t),function(e,t,n){var r=t.attributes,i=new yc;if(void 0!==r.POSITION){var a=n.json.accessors[r.POSITION],o=a.min,s=a.max;if(void 0!==o&&void 0!==s){if(i.set(new mc(o[0],o[1],o[2]),new mc(s[0],s[1],s[2])),a.normalized){var u=vy(ey[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}var l=t.targets;if(void 0!==l){for(var c=new mc,f=new mc,d=0,h=l.length;d<h;d++){var p=l[d];if(void 0!==p.POSITION){var m=n.json.accessors[p.POSITION],v=m.min,g=m.max;if(void 0!==v&&void 0!==g){if(f.setX(Math.max(Math.abs(v[0]),Math.abs(g[0]))),f.setY(Math.max(Math.abs(v[1]),Math.abs(g[1]))),f.setZ(Math.max(Math.abs(v[2]),Math.abs(g[2]))),m.normalized){var y=vy(ey[m.componentType]);f.multiplyScalar(y)}c.max(f)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(c)}e.boundingBox=i;var _=new Dc;i.getCenter(_.center),_.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=_}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,a=!1,o=0,s=t.length;o<s;o++){var u=t[o];if(void 0!==u.POSITION&&(r=!0),void 0!==u.NORMAL&&(i=!0),void 0!==u.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);for(var l=[],c=[],f=[],d=0,h=t.length;d<h;d++){var p=t[d];if(r){var m=void 0!==p.POSITION?n.getDependency("accessor",p.POSITION):e.attributes.position;l.push(m)}if(i){var v=void 0!==p.NORMAL?n.getDependency("accessor",p.NORMAL):e.attributes.normal;c.push(v)}if(a){var g=void 0!==p.COLOR_0?n.getDependency("accessor",p.COLOR_0):e.attributes.color;f.push(g)}}return Promise.all([Promise.all(l),Promise.all(c),Promise.all(f)]).then((function(t){var n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}var by={type:"change"},xy={type:"start"},wy={type:"end"},Sy=new Gc,Ey=new Od,Ay=Math.cos(70*zl.DEG2RAD),My=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;(0,p.Z)(this,n),(i=t.call(this)).object=e,i.domElement=r,i.domElement.style.touchAction="none",i.enabled=!0,i.target=new mc,i.cursor=new mc,i.minDistance=0,i.maxDistance=1/0,i.minZoom=0,i.maxZoom=1/0,i.minTargetRadius=0,i.maxTargetRadius=1/0,i.minPolarAngle=0,i.maxPolarAngle=Math.PI,i.minAzimuthAngle=-1/0,i.maxAzimuthAngle=1/0,i.enableDamping=!1,i.dampingFactor=.05,i.enableZoom=!0,i.zoomSpeed=1,i.enableRotate=!0,i.rotateSpeed=1,i.enablePan=!0,i.panSpeed=1,i.screenSpacePanning=!0,i.keyPanSpeed=7,i.zoomToCursor=!1,i.autoRotate=!1,i.autoRotateSpeed=2,i.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},i.mouseButtons={LEFT:ou,MIDDLE:su,RIGHT:uu},i.touches={ONE:lu,TWO:fu},i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object.zoom,i._domElementKeyEvents=null,i.getPolarAngle=function(){return l.phi},i.getAzimuthalAngle=function(){return l.theta},i.getDistance=function(){return this.object.position.distanceTo(this.target)},i.listenToKeyEvents=function(e){e.addEventListener("keydown",Y),this._domElementKeyEvents=e},i.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Y),this._domElementKeyEvents=null},i.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object.zoom},i.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(by),a.update(),s=o.NONE},i.update=function(){var t=new mc,n=(new pc).setFromUnitVectors(e.up,new mc(0,1,0)),r=n.clone().invert(),i=new mc,h=new pc,p=new mc,m=2*Math.PI;return function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,g=a.object.position;t.copy(g).sub(a.target),t.applyQuaternion(n),l.setFromVector3(t),a.autoRotate&&s===o.NONE&&C(function(e){return null!==e?2*Math.PI/60*a.autoRotateSpeed*e:2*Math.PI/60/60*a.autoRotateSpeed}(v)),a.enableDamping?(l.theta+=c.theta*a.dampingFactor,l.phi+=c.phi*a.dampingFactor):(l.theta+=c.theta,l.phi+=c.phi);var y=a.minAzimuthAngle,_=a.maxAzimuthAngle;isFinite(y)&&isFinite(_)&&(y<-Math.PI?y+=m:y>Math.PI&&(y-=m),_<-Math.PI?_+=m:_>Math.PI&&(_-=m),l.theta=y<=_?Math.max(y,Math.min(_,l.theta)):l.theta>(y+_)/2?Math.max(y,l.theta):Math.min(_,l.theta)),l.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,l.phi)),l.makeSafe(),!0===a.enableDamping?a.target.addScaledVector(d,a.dampingFactor):a.target.add(d),a.target.sub(a.cursor),a.target.clampLength(a.minTargetRadius,a.maxTargetRadius),a.target.add(a.cursor),a.zoomToCursor&&A||a.object.isOrthographicCamera?l.radius=U(l.radius):l.radius=U(l.radius*f),t.setFromSpherical(l),t.applyQuaternion(r),g.copy(a.target).add(t),a.object.lookAt(a.target),!0===a.enableDamping?(c.theta*=1-a.dampingFactor,c.phi*=1-a.dampingFactor,d.multiplyScalar(1-a.dampingFactor)):(c.set(0,0,0),d.set(0,0,0));var b=!1;if(a.zoomToCursor&&A){var x=null;if(a.object.isPerspectiveCamera){var w=t.length(),M=w-(x=U(w*f));a.object.position.addScaledVector(S,M),a.object.updateMatrixWorld()}else if(a.object.isOrthographicCamera){var T=new mc(E.x,E.y,0);T.unproject(a.object),a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/f)),a.object.updateProjectionMatrix(),b=!0;var k=new mc(E.x,E.y,0);k.unproject(a.object),a.object.position.sub(k).add(T),a.object.updateMatrixWorld(),x=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),a.zoomToCursor=!1;null!==x&&(this.screenSpacePanning?a.target.set(0,0,-1).transformDirection(a.object.matrix).multiplyScalar(x).add(a.object.position):(Sy.origin.copy(a.object.position),Sy.direction.set(0,0,-1).transformDirection(a.object.matrix),Math.abs(a.object.up.dot(Sy.direction))<Ay?e.lookAt(a.target):(Ey.setFromNormalAndCoplanarPoint(a.object.up,a.target),Sy.intersectPlane(Ey,a.target))))}else a.object.isOrthographicCamera&&(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/f)),a.object.updateProjectionMatrix(),b=!0);return f=1,A=!1,!!(b||i.distanceToSquared(a.object.position)>u||8*(1-h.dot(a.object.quaternion))>u||p.distanceToSquared(a.target)>0)&&(a.dispatchEvent(by),i.copy(a.object.position),h.copy(a.object.quaternion),p.copy(a.target),!0)}}(),i.dispose=function(){a.domElement.removeEventListener("contextmenu",Q),a.domElement.removeEventListener("pointerdown",W),a.domElement.removeEventListener("pointercancel",X),a.domElement.removeEventListener("wheel",K),a.domElement.removeEventListener("pointermove",q),a.domElement.removeEventListener("pointerup",X),null!==a._domElementKeyEvents&&(a._domElementKeyEvents.removeEventListener("keydown",Y),a._domElementKeyEvents=null)};var a=(0,iu.Z)(i),o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=o.NONE,u=1e-6,l=new mg,c=new mg,f=1,d=new mc,h=new Vl,m=new Vl,v=new Vl,g=new Vl,y=new Vl,_=new Vl,b=new Vl,x=new Vl,w=new Vl,S=new mc,E=new Vl,A=!1,M=[],T={};function k(e){var t=Math.abs(e)/(100*(0|window.devicePixelRatio));return Math.pow(.95,a.zoomSpeed*t)}function C(e){c.theta-=e}function P(e){c.phi-=e}var R=function(){var e=new mc;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),d.add(e)}}(),N=function(){var e=new mc;return function(t,n){!0===a.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(a.object.up,e)),e.multiplyScalar(t),d.add(e)}}(),O=function(){var e=new mc;return function(t,n){var r=a.domElement;if(a.object.isPerspectiveCamera){var i=a.object.position;e.copy(i).sub(a.target);var o=e.length();o*=Math.tan(a.object.fov/2*Math.PI/180),R(2*t*o/r.clientHeight,a.object.matrix),N(2*n*o/r.clientHeight,a.object.matrix)}else a.object.isOrthographicCamera?(R(t*(a.object.right-a.object.left)/a.object.zoom/r.clientWidth,a.object.matrix),N(n*(a.object.top-a.object.bottom)/a.object.zoom/r.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function I(e){a.object.isPerspectiveCamera||a.object.isOrthographicCamera?f/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function L(e){a.object.isPerspectiveCamera||a.object.isOrthographicCamera?f*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function D(e,t){if(a.zoomToCursor){A=!0;var n=a.domElement.getBoundingClientRect(),r=e-n.left,i=t-n.top,o=n.width,s=n.height;E.x=r/o*2-1,E.y=-i/s*2+1,S.set(E.x,E.y,1).unproject(a.object).sub(a.object.position).normalize()}}function U(e){return Math.max(a.minDistance,Math.min(a.maxDistance,e))}function F(e){h.set(e.clientX,e.clientY)}function j(e){g.set(e.clientX,e.clientY)}function B(e){if(1===M.length)h.set(e.pageX,e.pageY);else{var t=$(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);h.set(n,r)}}function z(e){if(1===M.length)g.set(e.pageX,e.pageY);else{var t=$(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);g.set(n,r)}}function V(e){var t=$(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);b.set(0,i)}function H(e){if(1==M.length)m.set(e.pageX,e.pageY);else{var t=$(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);m.set(n,r)}v.subVectors(m,h).multiplyScalar(a.rotateSpeed);var i=a.domElement;C(2*Math.PI*v.x/i.clientHeight),P(2*Math.PI*v.y/i.clientHeight),h.copy(m)}function G(e){if(1===M.length)y.set(e.pageX,e.pageY);else{var t=$(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);y.set(n,r)}_.subVectors(y,g).multiplyScalar(a.panSpeed),O(_.x,_.y),g.copy(y)}function Z(e){var t=$(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);x.set(0,i),w.set(0,Math.pow(x.y/b.y,a.zoomSpeed)),I(w.y),b.copy(x),D(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}function W(e){!1!==a.enabled&&(0===M.length&&(a.domElement.setPointerCapture(e.pointerId),a.domElement.addEventListener("pointermove",q),a.domElement.addEventListener("pointerup",X)),function(e){M.push(e.pointerId)}(e),"touch"===e.pointerType?function(e){switch(J(e),M.length){case 1:switch(a.touches.ONE){case lu:if(!1===a.enableRotate)return;B(e),s=o.TOUCH_ROTATE;break;case cu:if(!1===a.enablePan)return;z(e),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(a.touches.TWO){case fu:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){a.enableZoom&&V(e),a.enablePan&&z(e)}(e),s=o.TOUCH_DOLLY_PAN;break;case du:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(e){a.enableZoom&&V(e),a.enableRotate&&B(e)}(e),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&a.dispatchEvent(xy)}(e):function(e){var t;switch(e.button){case 0:t=a.mouseButtons.LEFT;break;case 1:t=a.mouseButtons.MIDDLE;break;case 2:t=a.mouseButtons.RIGHT;break;default:t=-1}switch(t){case su:if(!1===a.enableZoom)return;!function(e){D(e.clientX,e.clientX),b.set(e.clientX,e.clientY)}(e),s=o.DOLLY;break;case ou:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enablePan)return;j(e),s=o.PAN}else{if(!1===a.enableRotate)return;F(e),s=o.ROTATE}break;case uu:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enableRotate)return;F(e),s=o.ROTATE}else{if(!1===a.enablePan)return;j(e),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&a.dispatchEvent(xy)}(e))}function q(e){!1!==a.enabled&&("touch"===e.pointerType?function(e){switch(J(e),s){case o.TOUCH_ROTATE:if(!1===a.enableRotate)return;H(e),a.update();break;case o.TOUCH_PAN:if(!1===a.enablePan)return;G(e),a.update();break;case o.TOUCH_DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){a.enableZoom&&Z(e),a.enablePan&&G(e)}(e),a.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(e){a.enableZoom&&Z(e),a.enableRotate&&H(e)}(e),a.update();break;default:s=o.NONE}}(e):function(e){switch(s){case o.ROTATE:if(!1===a.enableRotate)return;!function(e){m.set(e.clientX,e.clientY),v.subVectors(m,h).multiplyScalar(a.rotateSpeed);var t=a.domElement;C(2*Math.PI*v.x/t.clientHeight),P(2*Math.PI*v.y/t.clientHeight),h.copy(m),a.update()}(e);break;case o.DOLLY:if(!1===a.enableZoom)return;!function(e){x.set(e.clientX,e.clientY),w.subVectors(x,b),w.y>0?I(k(w.y)):w.y<0&&L(k(w.y)),b.copy(x),a.update()}(e);break;case o.PAN:if(!1===a.enablePan)return;!function(e){y.set(e.clientX,e.clientY),_.subVectors(y,g).multiplyScalar(a.panSpeed),O(_.x,_.y),g.copy(y),a.update()}(e)}}(e))}function X(e){!function(e){delete T[e.pointerId];for(var t=0;t<M.length;t++)if(M[t]==e.pointerId)return void M.splice(t,1)}(e),0===M.length&&(a.domElement.releasePointerCapture(e.pointerId),a.domElement.removeEventListener("pointermove",q),a.domElement.removeEventListener("pointerup",X)),a.dispatchEvent(wy),s=o.NONE}function K(e){!1!==a.enabled&&!1!==a.enableZoom&&s===o.NONE&&(e.preventDefault(),a.dispatchEvent(xy),function(e){D(e.clientX,e.clientY),e.deltaY<0?L(k(e.deltaY)):e.deltaY>0&&I(k(e.deltaY)),a.update()}(e),a.dispatchEvent(wy))}function Y(e){!1!==a.enabled&&!1!==a.enablePan&&function(e){var t=!1;switch(e.code){case a.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?P(2*Math.PI*a.rotateSpeed/a.domElement.clientHeight):O(0,a.keyPanSpeed),t=!0;break;case a.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?P(-2*Math.PI*a.rotateSpeed/a.domElement.clientHeight):O(0,-a.keyPanSpeed),t=!0;break;case a.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?C(2*Math.PI*a.rotateSpeed/a.domElement.clientHeight):O(a.keyPanSpeed,0),t=!0;break;case a.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?C(-2*Math.PI*a.rotateSpeed/a.domElement.clientHeight):O(-a.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),a.update())}(e)}function Q(e){!1!==a.enabled&&e.preventDefault()}function J(e){var t=T[e.pointerId];void 0===t&&(t=new Vl,T[e.pointerId]=t),t.set(e.pageX,e.pageY)}function $(e){var t=e.pointerId===M[0]?M[1]:M[0];return T[t]}return a.domElement.addEventListener("contextmenu",Q),a.domElement.addEventListener("pointerdown",W),a.domElement.addEventListener("pointercancel",X),a.domElement.addEventListener("wheel",K,{passive:!1}),i.update(),i}return(0,m.Z)(n)}(kl),Ty=function(){return(0,t.useEffect)((function(){var e,t,n,r,i;function o(){e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}return function(){(e=new Ad(40,window.innerWidth/window.innerHeight,.01,10)).position.set(3,3,1),e.lookAt(0,0,0),(t=new xm).background=new If(3816252);var u=new Zv(16777215,4473890);u.position.set(0,1,0),t.add(u);var l=new vd(new jd(6,6),new mv({color:10066329,depthWrite:!1}));l.rotation.x=-Math.PI/2,l.receiveShadow=!0,t.add(l);var c=new xg(6,20,0,0);c.material.opacity=.1,c.material.transparent=!0,t.add(c);Math.min(1e3/window.innerWidth,1e3/window.innerHeight);(new Sg).load("https://raw.githubusercontent.com/K13T/3Dtest/master/mohinh.glb",(function(e){var n=e.scene;console.log(n),n.traverse((function(e){e.isMesh&&(e.material.metalness=!1,e.material.wireframe=!1,e.castShadow=!0,e.receiveShadow=!0)}));var o=n.children[0].children[1];t.add(n);var u=o.skeleton,l=new _g(u.bones[0]);l.skeleton=u,l.visible=!0,t.add(l);var c=o.skeleton.bones;function f(){return d.apply(this,arguments)}function d(){return d=s((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://ap-southeast-1.aws.data.mongodb-api.com/app/application-0-khcpn/endpoint/Get_motion").then((function(e){if(!e.ok)throw new Error("Cannot Connect");return e.json()})).then((function(e){var t,n,a,o,s,u,l,c,f,d,h,p,m=null===(t=e[0])||void 0===t||null===(n=t.public)||void 0===n||null===(a=n.input)||void 0===a||null===(o=a.jsonData)||void 0===o?void 0:o.Roll,v=null===(s=e[0])||void 0===s||null===(u=s.public)||void 0===u||null===(l=u.input)||void 0===l||null===(c=l.jsonData)||void 0===c?void 0:c.Pitch,g=null===(f=e[0])||void 0===f||null===(d=f.public)||void 0===d||null===(h=d.input)||void 0===h||null===(p=h.jsonData)||void 0===p?void 0:p.Yaw;r.rotation.z=v,r.rotation.x=m,i.rotation.y=g})).catch((function(e){console.error("There was a problem with the fetch operation:",e)}));case 1:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}r=c.find((function(e){return"mixamorigHead"===e.name})),i=c.find((function(e){return"mixamorigNeck"===e.name})),f(),setInterval(f,100)})),(n=new _m({antialias:!0})).setPixelRatio(window.devicePixelRatio),n.setSize(window.innerWidth,window.innerHeight),n.outputEncoding=dl,document.getElementById("three-container").appendChild(n.domElement),window.addEventListener("resize",o,!1);var f=new My(e,n.domElement);f.target.set(0,1,0),f.update()}(),function r(){requestAnimationFrame(r),n.render(t,e)}(),function(){document.getElementById("three-container").removeChild(n.domElement)}}),[]),(0,y.jsx)("div",{id:"three-container",className:"three-scene-wrapper"})},ky=n(399),Cy=n(4021),Py=n.n(Cy),Ry=n.p+"static/media/led_on.2a9778f54184a1de383f.png",Ny=n.p+"static/media/water.6ac26fd53a29e1fedaa0.png",Oy=n.p+"static/media/fun.3b0432aff450f4d6f910.png",Iy=n.p+"static/media/sad.019f4368dc1025d1ef2c.png",Ly=function(e){var t,n,r=e.value,i=e.title,a=(n=r)>=0&&n<=37.5?"green":n>37.5&&n<=40?"orange":"red";return(0,y.jsxs)("div",{style:{display:"inline-block",textAlign:"center",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",margin:"5px",background:a},children:[(0,y.jsx)(Py(),{theme:"light",value:r,max:"100",steps:"1",format:"\xb0C",size:"normal",height:"180"}),(0,y.jsxs)("div",{style:(t={fontSize:"1em",color:"#333",marginTop:"15px"},(0,u.Z)(t,"color","yellow"),(0,u.Z)(t,"fontWeight","bold"),t),children:[i,": ",r,"\xb0C"]})]})},Dy=function(){var e=(0,t.useState)({Roll:0,Pitch:0,Yaw:0,Acc_X:0,Acc_Y:0,Acc_Z:0,Nhiet_Do_Phong:0,Nhiet_Do_Dau:0}),n=(0,i.Z)(e,2),r=n[0],o=n[1],u=function(){var e=s((0,a.Z)().mark((function e(){var t,n,r,i,s,u,l,c,f,d,h,p,m,v,g,y,_,b,x,w,S,E,A,M,T,k,C,P,R,N,O,I,L,D;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://ap-southeast-1.aws.data.mongodb-api.com/app/application-0-khcpn/endpoint/Get_Gauge");case 3:if((L=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok");case 6:return e.next=8,L.json();case 8:D=e.sent,o({Roll:null===(t=D[0])||void 0===t||null===(n=t.public)||void 0===n||null===(r=n.output)||void 0===r||null===(i=r.jsonData)||void 0===i?void 0:i.Roll,Pitch:null===(s=D[0])||void 0===s||null===(u=s.public)||void 0===u||null===(l=u.output)||void 0===l||null===(c=l.jsonData)||void 0===c?void 0:c.Pitch,Yaw:null===(f=D[0])||void 0===f||null===(d=f.public)||void 0===d||null===(h=d.output)||void 0===h||null===(p=h.jsonData)||void 0===p?void 0:p.Yaw,Acc_X:null===(m=D[0])||void 0===m||null===(v=m.public)||void 0===v||null===(g=v.output)||void 0===g||null===(y=g.jsonData)||void 0===y?void 0:y.Acc_X,Acc_Y:null===(_=D[0])||void 0===_||null===(b=_.public)||void 0===b||null===(x=b.output)||void 0===x||null===(w=x.jsonData)||void 0===w?void 0:w.Acc_Y,Acc_Z:null===(S=D[0])||void 0===S||null===(E=S.public)||void 0===E||null===(A=E.output)||void 0===A||null===(M=A.jsonData)||void 0===M?void 0:M.Acc_Z,Nhiet_Do_Phong:null===(T=D[0])||void 0===T||null===(k=T.public)||void 0===k||null===(C=k.output)||void 0===C||null===(P=C.jsonData)||void 0===P?void 0:P.Nhiet_phong_C,Nhiet_Do_Dau:null===(R=D[0])||void 0===R||null===(N=R.public)||void 0===N||null===(O=N.output)||void 0===O||null===(I=O.jsonData)||void 0===I?void 0:I.Nhiet_nguoi_C}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("There was a problem with the fetch operation:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){u();var e=setInterval((function(){u()}),1e3);return function(){return clearInterval(e)}}),[]),(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:"20px",width:"100%"},children:[(0,y.jsxs)("div",{style:{textAlign:"center",border:"1px solid #ddd",padding:"8px",marginTop:"25px",width:"40%",height:"340px",position:"relative",marginRight:"16px"},children:[(0,y.jsx)("h2",{children:"Acc_X"}),(0,y.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",marginTop:"68px"},children:(0,y.jsx)(ky.ZP,{maxValue:100,minValue:-100,value:parseFloat(r.Acc_X.toFixed(2)),needleTransition:"easeQuadIn",needleTransitionDuration:1e3,needleColor:"black",startColor:"green",segments:10,endColor:"blue"})}),(0,y.jsxs)("p",{style:{fontWeight:"bold",fontSize:"24px",position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)"},children:[parseFloat(r.Acc_X.toFixed(2)),"m/s\xb2"]})]}),(0,y.jsxs)("div",{style:{textAlign:"center",border:"1px solid #ddd",padding:"8px",width:"40%",marginTop:"25px",height:"340px",position:"relative",marginLeft:"9px",marginRight:"62px"},children:[(0,y.jsx)("h2",{children:"Acc_Y"}),(0,y.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",marginTop:"68px"},children:(0,y.jsx)(ky.ZP,{maxValue:100,minValue:-100,value:parseFloat(r.Acc_Y.toFixed(2)),needleTransition:"easeQuadIn",needleTransitionDuration:1e3,needleColor:"black",startColor:"green",segments:10,endColor:"blue"})}),(0,y.jsxs)("p",{style:{fontWeight:"bold",fontSize:"24px",position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)"},children:[parseFloat(r.Acc_Y.toFixed(2)),"m/s\xb2"]})]}),(0,y.jsxs)("div",{style:{textAlign:"center",border:"1px solid #ddd",padding:"8px",width:"100%",height:"340px",position:"relative",marginTop:"25px",marginRight:"241px",marginLeft:"34px"},children:[(0,y.jsx)("h2",{children:"Nhi\u1ec7t \u0110\u1ed9"}),(0,y.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",marginTop:"16px"},children:[(0,y.jsx)(Ly,{value:r.Nhiet_Do_Dau,title:(0,y.jsx)("span",{style:{color:"yellow"},children:"Nhiet_Do_Dau"})}),r.Nhiet_Do_Dau<37.5?(0,y.jsx)("p",{style:{color:"green"},children:"KH\u1eceE M\u1ea0NH"}):r.Nhiet_Do_Dau>37.5?(0,y.jsx)("p",{style:{color:"red"},children:"B\u1eca \u1ed0M"}):(0,y.jsx)("p",{})]}),(0,y.jsxs)("p",{style:{fontWeight:"bold",fontSize:"24px",position:"absolute",bottom:"-16px",left:"50%",transform:"translateX(-50%)"},children:[parseFloat(r.Nhiet_Do_Dau.toFixed(2)),"\xb0"]})]})]}),(0,y.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:"20px",width:"100%",alignItems:"center"},children:[(0,y.jsxs)("div",{style:{textAlign:"center",border:"1px solid #ddd",padding:"8px",width:"80%",height:"340px",position:"relative",marginRight:"25px"},children:[(0,y.jsx)("h2",{children:"C\xfai \u0110\u1ea7u"}),(0,y.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",marginTop:"68px"},children:(0,y.jsx)(ky.ZP,{value:parseFloat(r.Roll.toFixed(2)),needleTransition:"easeQuadIn",needleTransitionDuration:1e3,needleColor:"blue",startColor:"red",maxValue:180,minValue:-180,segments:10,endColor:"green"})}),(0,y.jsxs)("p",{style:{fontWeight:"bold",fontSize:"24px",position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)"},children:[parseFloat(r.Roll.toFixed(2)),"\xb0"]})]}),(0,y.jsxs)("div",{style:{textAlign:"center",border:"1px solid #ddd",padding:"8px",width:"80%",height:"340px",position:"relative",marginRight:"25px"},children:[(0,y.jsx)("h2",{children:"Nghi\xeang \u0110\u1ea7u"}),(0,y.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",marginTop:"68px"},children:(0,y.jsx)(ky.ZP,{value:parseFloat(r.Pitch.toFixed(2)),needleTransition:"easeQuadIn",needleTransitionDuration:1e3,needleColor:"blue",startColor:"red",maxValue:180,minValue:-180,segments:10,endColor:"green"})}),(0,y.jsxs)("p",{style:{fontWeight:"bold",fontSize:"24px",position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)"},children:[parseFloat(r.Pitch.toFixed(2)),"\xb0"]})]}),(0,y.jsxs)("div",{style:{textAlign:"center",border:"1px solid #ddd",padding:"8px",width:"80%",height:"340px",position:"relative",marginRight:"25px"},children:[(0,y.jsx)("h2",{children:"Xoay \u0110\u1ea7u"}),(0,y.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",marginTop:"68px"},children:(0,y.jsx)(ky.ZP,{value:parseFloat(r.Yaw.toFixed(2)),needleTransition:"easeQuadIn",needleTransitionDuration:1e3,needleColor:"blue",startColor:"red",maxValue:180,minValue:-180,segments:10,endColor:"green"})}),(0,y.jsxs)("p",{style:{fontWeight:"bold",fontSize:"24px",position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)"},children:[parseFloat(r.Yaw.toFixed(2)),"\xb0"]})]}),(0,y.jsxs)("div",{style:{textAlign:"center",border:"1px solid #ddd",padding:"8px",width:"80%",height:"340px",position:"relative",marginTop:"20px",marginRight:"34px",marginBottom:"20px"},children:[(0,y.jsx)("h2",{style:{display:"inline-block",marginBottom:"0px"},children:"QUY \u01af\u1edaC T\xcdN HI\u1ec6U"}),(0,y.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",height:"200px",marginTop:"8px"},children:[r.Roll>=25&&r.Roll<=34&&(0,y.jsxs)("p",{style:{color:"green",fontSize:"27px",fontWeight:"bold"},children:["\u0110I V\u1ec0 TR\u01af\u1edaC ",(0,y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACNUExURf///wAAAB0dHaWlpYGBgfLy8vn5+aysrO7u7ubm5s3NzX19ffT09M7Ozl1dXfz8/Nra2uDg4Lq6uhYWFsfHx3d3d29vbwoKCjExMWVlZSwsLNTU1OLi4unp6dvb28HBwYeHh5eXl42NjZ2dnaenp0FBQVFRUSQkJDo6OrOzs2BgYC8vLxsbG0BAQElJScsy4oYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAZ2SURBVHhe7Z3rWtQ8FIVblJOigKicBgREwe9T7v/yTGcW4xyaZO0c2p0+ef/ITBPo606TNJ3saSqVSqVSqQzPLv6dLPftPX6aKF/atv2KnyfJVyPYth/xaoL8nAu27U+8nhyvgm37coy3psUP6HX8v4c3J8TeBeQWXE1O8egJaq88TUzxaAdi/5hWFA/OobXKzhGOToDdM0it83syijcw2uL3RCapVsG2PZ+E4iFsejk/QKmCcQoailf0CRYfxVN4uLhB2SJhBItuqJxgwVGcQcBPoYpsBDtmqFMUtzh5jkPUKogTnDpLcYrXOHGewhSlEewoSjFEsG1PUbsAwgQL6lHl1+ArhUQxXLCQKH7AyYZRQBRjItihPopxEexQHsV3OM0YVCumEFStmEZQsWIqQbXdTTpBpXPU+F50FYWKKSPYoU4xbQQ7lK3dpI5gh6oo5hBUFcU8goqimEtQjWLs3YQLFYrpe9FVFCjmFVTQ3XzGieRjZMX8giM/fBtCcNQo5hsm1hktikMJjvasfzBBwyiKOQf6Lc5G+GjRoIJjfHpqYEETxYE/5pd7JtPD2aDX4pCdzJIhG+oogkN2NyM00QVDKY4mONQHp0dqoguGiOKIEezIrzhqBDtyz1FHF8w9aCgQzBtFseDDYsOhm+v+3Rh28kVRfEf/trnETy5uenfUuMi1TyNAkDI87N805CLPbpsQQdJQrphj6A8SxMZfN92i7+74DVXcycwFacPxG2qgIG9o299mJ+2gIZ6qQbD5D69d4NGEXDFhQw0WlBj27TN1ky6K4jWZpSDbly7YFSsmimKEIDfio2xAFNPcacQICg0DFBP0qFGCUsPtTe0+4of+OEGxYbMnVYxtqJGCckN5FOOG/ljBAMNhoyjeN7EpGGLY7F3hAEu4YrwgNWvbNBxOUba9zrAtGGYYoBh0LSaIIGfYM/cSK4YMGpIdoHP6BEMNh1BMIxhsKFeUJoNJJBhu2BznVfRmQtjEIhhhKI/ihSC9VjLBGMPmeD2zlB9e0ZFupR+rYJThZvIsPxeo6COh4DyLoA+roTyKz1QUD1CaxiEYaShX/IGKLsTLei5BytA15Tp+RiGWF1S0kzSC8YbyKPoUxcsIbsF4Q3kU3WknUwsmMGwaqaIreaj45vMLKlpJYShuqJeouI14FuHPJvseJV3458zSKFoVpb+ISJebxrB5QVGW96i3wUccZvE2UUMiw7XcpwwPqLcGs6SyCiOYzLD5g8Is31FvhQccYqEEm7co7YK7d5U21G+ot0T6gJATTGi4koWYY3P55xPeJ7FcylskNJQqnqDaElE/4xvolzCG9L256BS3Y7CHIwy0YHOHGi741QeB4h9UWYW/LbxDDYK0hrziTu8vZVeA+QgmN6SemndY7jm5x/VsJzMntSE5ai8fnG/CDBmSCGYwpBQdaTX8H3wSXIMd6Q2JxS1napRvKGRDKEjNlKTfIuCL4i3KWXCP/L0TWhc5DD2K1yhl5RcK9iH/ApUshs4e1SvoimLPfN1HHkNHFAlB+7UYIEgZoqgIW3fzAcc99Cu+wVERuQwtip9x1EtfQ93HMRn3qO0CRYX0KdKCfYq/cERIPsOeZTyB4HaPGiiY03BrheQT3idZVwwVzGq4oSg+x31U7BD+76yQ1XBtThgQhDeo2rOow5PXcEUxqJV9R+UIwdyGy9HoEa+FLE5P1ENt8vq/5AJFw1j8gZDJyJxuHYmaBlnJbjj/CxFfOHi5vSYnI79h8yi8Kd/A8YydYgDDJq6VxTKE4bj8G3LsoGihVMMOFC2Uamg4R9FCIQzPULRQCMMdFC2UamiohsqphoZqqJxqaKiGyqmGhmqonGpoqIbKqYaGwg0foeGgGipn9UmyhWqonGpoqIbKqYaGJxQtFMLwCkULhTBkEyEohTB8RtFCIQyZNAiKIQzd++fVQxi6ts8XQDU0FG5I3B9WQ+VMv5W6dlGBwg2JTfDVUDnV0FD4vLTG0EDk8dEMYSja36+PamiohsrxZTAwFG5IZNqYviGZcUorhKE9B2AREIZRO8/GhzCUpktRBvH1EYUbzqDhoBoqpxoaIrYpa4DIX18NlUOkKgzOFqADIgF6WGofNRAZNcMTp+gAGg6i8m4owP89BGR6LrX4k7IL0yaqw5syvvTL0LDvSBz7fOdIxFkURzez25MFt3NOZ4c3bA7oSqVSqVQqkTTNX62ObHkiqznWAAAAAElFTkSuQmCC",alt:"forward",style:{width:"72px",height:"72px"}})]}),r.Roll<=-25&&r.Roll>=-34&&(0,y.jsxs)("p",{style:{color:"red",fontSize:"27px",fontWeight:"bold"},children:["\u0110I V\u1ec0 SAU ",(0,y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACNUExURf///wAAAB0dHaWlpYGBgfLy8vn5+aysrO7u7ubm5s3NzX19ffT09M7Ozl1dXfz8/Nra2uDg4Lq6uhYWFsfHx3d3d29vbwoKCjExMWVlZSwsLNTU1OLi4unp6dvb28HBwYeHh5eXl42NjZ2dnaenp0FBQVFRUSQkJDo6OrOzs2BgYC8vLxsbG0BAQElJScsy4oYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAaTSURBVHhe7Z1rW9s8DIYbBgy2jsIOwFhhsBNs77v9/583hz5dmzZWJPkQK5fvT4zKae/JjR0nFrNKpVKpVCq5mN+eLi/unjlfcbe8neNF6yzvnxovZy8RZZi3cPFxvUCgVY4h4ucDIq3yBh5+rhBplffwIECkVYa+ho5jhBrlJTQIThBqlK/QILhFqFEeoEFwilCjVEPHEqFGuYcGQTUsnGro+IRQozAMXyHUKIfQIDBu+BEaBMYNP0CDwLjha2gQTN/wM0KNwjB8i1CjVENHNSycS2gQGDc8gwaBccPv0CCoOSycauiYvuFPhBqFYWj8FiLD8BtCjVINHdPvpdWwcH5Ag8C4IWNeatyQeJZmjXHDa2gQGDe8gQaBccNHaBAYNzyABkE1LJxq6KiGhVMNHcavD6uh4wVCjVINHdWwcKqhoxoWTjV0VMPCqYaOalg41dBRDQunGjqMG76DBoFxwytoEBg3hAVFNSwcWFBUw8KBBcVXhI5D8M45WFCEGgbtdj8MXnKHBUWg4XnzET8paLcpB77/SoIk7B0+uSMc4mcxq2oBYR/g+RA0QW+wqrvxgH8J+fbcuGm+4N8qcAwK5cd75jOOofpf+onGTXOP32jAISgCDNeCqiFnIxikiCNQ6A23C6eI7yRvCzbNa/xWDg5AoTbsfkbhA/G7ZWXUimhPoTXsCgoV9ysDaas5oTmF0nBXULRxo6/00SVeE4LWFDrDvtI+bMX+2k46RTSmUI1GL9C4C3NLsa88l0oRbSk0hr7SRSzFdhrUj2L+t0BTCoWhvzYTo6P6BZvmF2L4pDGkyvoMnlEpQUUWkxh+QcN+BrJ4hzAfUsUUhkPlUsjv4gWC/AhPN8NlE8VzwuF6MO8R2cMSIRSyLMY3ZJSD8VfaOEUAjUgxuiFjf7/jDaJ3OMHLQ0jOqLENORlsuUN8h2PGTZQVZ2jBILIhoyYT6CtV+BuvMeArxjXkZrBlv6Imr4MDtiLHkL2OJBHc/4jneIHJDzQbYo54Cq6hKAf7I/8tfs+FqRjRkFFxqsPekLFZ1OHxB+1o4hlKBXtmSoxaqh1+ox0Jx5C1QiIV7B216QntPt/RjiKWoVTQcyoUfpU5HTWSIaOOT4cntNuDUSCvg/dA/4hjKBW88ZeXlioOlow/QiDF4DKetIs+UvWzGdvnOwxlMYahaKB3HNB/c4Gxf77DE53FCIaRBWezPwjkQnfUcEOpIKMAulSRzGKwoVTwinPPm1EGoQOVRc41J2WYIIOOBaMOQgdCMdBQLMitYM8ohNDh2nt65hj6F7eSCc4WYkVfFoMMxYKC+vViRd8sIsQwpaC7NmfUs+hw05/FAEOx4AUaMpEr9mZRb5ha0M2Z2UtvoFdRbZheMJKi1lAseI6GIuaMZ7Q79Chyln96DMWCvSvAwxyFK+oM82SwJVyRY7i3pJJPUKG4e/GpMRQLBj0EO/8fR+Hy2L06UxjmFQzOotwwt6Bi0OhkUWyYX1AxaGwvI0gNxxBUdNQtRaHhOIJOkbF5qcPBEVqybpxvDMcSdHMvseI6ixzDf3fNxYKe2/UaxFl8hyxKDMcUVGQRihxDzNrEgpH/eot46F8t6/ENxxZ0HVWs2GaRbSgWJB580iIe+tsscgzbc2kJgrqOyjQsQ1DTUU94I34pgppBg35cdcWl9PZ6yr+BJR40kpBQUJHFBCQVLCGLiQVdFqVXGpGJOlXrZ1zF5BlsEQ/9EcmQwZbxsphJcDzFLF10xTiDRkZBN2iMkMVsXXSFeAUumGhrMlxyd9TsgrlPNyMIuu8i3jwHWU8yG/LNUUcSzJfF0QR5i/bhJLui55Aji6MK5sjiyILpFTPPZPrgLBjqKUAwreIoA/0+6RRHHCa6pFIsRjDV6aYgwTRZLEowRRaLOItuEzuLhWWwJa5icRlsialYYAZbOGU1eBQqyCmNwqNYwViKBQvGUSxaMIZikWfRbUJPN4VcTVCEZbH4DLaEZNFABlv0WTQiqM9iwL6J3OiyaEhQN0c1JahRNPMdXCNVNJbBFpmicnvduEjOqIodoCXAX7tZooU5uIpGM9jCu/lmWJCXRdOCnHv9okoIJTLUUc0LDmVxAoL001Pscitl49+nMRFB726b9Ra+KdD74DSraJUZeorBDNZVM8bxI8TW7JQmmAA7WfQXz7LL8X+Qa+HUPrXHYlPNj1to2RzrspOTFVwXD+0pKjQd2mqyA9U8rfMQ8EfIjDChmVqlUqlUKlaYzf4CQmdseaBp0T8AAAAASUVORK5CYII=",alt:"backward",style:{width:"72px",height:"72px"}})]}),r.Roll>34&&(0,y.jsxs)("p",{style:{color:"green",fontSize:"27px",fontWeight:"bold"},children:["B\u1eacT \u0110\xc8N ",(0,y.jsx)("img",{src:Ry,alt:"led_on",style:{width:"72px",height:"72px",display:"block",margin:"0 auto"}})]}),r.Roll<-34&&(0,y.jsxs)("p",{style:{color:"red",fontSize:"27px",fontWeight:"bold"},children:["T\u1eaeT \u0110\xc8N ",(0,y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHkAAADJCAIAAACIUgprAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAB4RSURBVHhe7d39l11Vfcfx/kvW8tQqrVCgVKu22tYHSpUqWrWtDxWVRi2K+oMuHxdLYC2WP6C/NP3BtQJK1CgCLZZnEtIACUmIhIFMJpPMZCiISN93f75ns+/e5+yzz7nnnpkJ816LrEkyT/d1v/d79p1Mwu/931aj9PLLL29Zj9SW9XhtWY/XlvV4bVmP15b1eG1Zj9fGtX7uuedOnz598uTJxcXFo0ePHj58+Iknnti/f//jjz/+mIsX+OnBgwd//etfP/vssydOnFhdXV1bW+MN7V1ssDaKNUCE7LFjx7wsmo+69rn+t2qv65GqPXv27HbxAr/LW/HmTz/9NPobin79rRne5eVlaA4cOAATaWxVCk1N1urhhx9+KIh3yyNjZWVl3dHXzZpbDjEP/0OHDrEKVGRdONQZ6weq+EXeFauGSbfPYPTWwZqtyqJ48skn2RIMHZl0s7Uxu0JoiqwxTa3vr7rvvvt4HTYMd/P4Yz6qNeuCXcHVDOVWaCq0lrIKrR988MHU+t57773HxXseebGMZI3yM888w0B5aMpbe+jQ2u2PxgUSQpOsjdkVWhMv8yFGm/G5W6PMpQll9nIITa3WETSVW9cONRnzPff8j+tXv/oVL/O5nTp1yj7juTVHaz57Yi9zSwRdPtTUOtQUQlNqbcyuaKi9teK3FhYWGPD5zfhcrLnWc8VnljXOqpP1ZH0MukCioaYQmu6++25+1AfimG+3ZNCGt2aWOcmFyiqEphCa0qGexbp8gfiwpv928QpcXQYf8IGtWc1HjhyJJpryQ02tQ00hNIXQlBlqAjqzQARN/1WFOJ/SsIfxway1N9jONJS1GbtmGWoKh5pqh5pMuooPMeA+GcYaaA7OTdDUBM0Lx48f582N2ZVaR9DUyTo/1CRoZtmMXXfdddedd97Ja3IotNs5WwNY8zzw6NGjgqZa6NSaQebZ429+8xs+g9/97neIR9AZ6ww0dbUWNNVa33HHHbwO69tu7QzNas1TL66Extw81JE1O51Z5mP7fvvb3/I6g1hH0FR4VTTjKkErXoENabe5b9zM/tZMNNDAmXTZpmaEGWQRh7EZa6EphKbU2pjnMNRhPBDtlveK29jTGmh2dAhNeWtegXGuhaaXXnqJe26WoQZa1sbsSq+KtdZmXIW1Abt+6eLXZ1km3MY+1jzzfuqpp4BOrc24ykNzx7AoxFob9wH3RK21Mbvy1ulQh9YRNJn0tHU61LK+/fbbGf/eJxNuY2drDvncvdoeoXU01JpoApq9wdjKNB9PlENoSq2N2eWhqau1MbctEA+t+K1+3Ny6btZAc5UAutbamF0mffAgZ6amvZHG7HMWNOaOV8XaBRIta2N2mXSyQJqGmn7xi1/8/Oc/5wPxEDSR4rh1HayBPnHiRC00RdaKbSPE8ngQmHTHZZ0faqq1Doeaia5dIIImWe/atYvPquuTeG5aB2seO4KmFDqyRrkHNLFteDS0QlM61JF11xNIap0Otaz5kSuQuZTFTSu15lHDezfpOmszPnSIlzl3C65f3EkzDjWFQx1Bk0lPLxCU06Gutf7Zz37GT3mUm05B3K4iax4vnC6Nue2qiFT5gq6NN+f9jGAdXRUj6xCa/AIBWvFxyzcJt6vI+tSpUxzyTDprzV09I7R68cUXeRppzK4Qmjw0ydqMXf0WSMY6Gmr66U9/yo/cZDNqixvVbh1tDwqhyVsz+4NA0/PPP8/WNuYhroq11sbsCpVVq/VPfvITXoFBNKls3KgWax4jS0tLZuxqGmp+zD9bKYx7S0cRY3alQ11uHUGToNOhNmNXCE1+gUTWxKdqWNm4aS3WDHW4PajWmhdeeOEFYfUOZcaZ91a+qalkgZixS9BkzK68de1Qe2sq+coUNzBnHV0SVQhN0GhNy6t3QPNgZEaok3U01BQONbUONU32dGItaKod6tCa+9vImuM25qz1lbywaKgJa56yz7imeXP/7DyCpox17QLpd1U0Y1c01JF1BL1z505+ZO+ZWkPczEZrhnpxcdGMqyLryfo4fJgHvsj6xZbn2quJpsg6gqYQWtbG7EqHutbamF1Ym3FVZO32R+MCuc3FR8mf/7iljdaFm3rG7cFE8z6jL+xlrFuHOrSOoEnQ6QIxY1cITSXWP/7xj3mBQ4TZ1cWNbbTmQWHGVan10aNHC7+AVxsTzTvJQFPTUFOt9bALhPLQLBBZE5+t2dXF7W20js7UlFrP8lwcaB43QM9obcyuQmtjdk2uiTOcQLz1j370I36aOWtzk+utS66KSPW+JPKG3Jdz/ZMBCqFJ0JmhljIJmmqtpUyC9ta0f/9+E0ziVtdb608DwiJrhrrfl/EIaK66rX+0GEFTOtSR9YwLxKS7D7W35gOZYBI3vMYaRAMOioaan/be1Lx/oGuHOmMdDjWVLBApqxSa3P6IrQVNhScQb33rrbeiz0owx+m44TXW4deplZvpqaHmdQTXtRdffPFx95eO8tCUse66QARNna6Ksga61VpDjTUdOHDAHKfjttdYtx6rebn3puboou8DKbE2Zlerdder4uALBOhbbrmFd1V70Oa2x9a8Hhxm7IqgGWrujH7WbI/Zv+EGaFkbc6+rIqVDLWVVvkA8tKz5sfbb0rj5sXXrCaT3VZHtwWW6dqgptTZml4em2qEOrZuGuvWqaMyuCJpC66ahljVHLNMMQiC2jr6CSpE1L/f72imPhsKhpqahpmioCehBFogxdxlqWU9GurImbma6RhCIrf23JKgImng+KbtO6c9ZQmtjdqXQGetoqCkcaiqxnsdV0aRvuYUPappBIExZc2+kfwQTWrNAeDXxladnLp2sjdkVWtcukMxQk6DLF0g61BRCZxaI4nVYsyL14TBlvba2ll4YjdnFT/WNvJ1iqDkJeWu3P0qvihQOdckCMWOXoCm0BrqTdaehJn6afh0Khylr7o30a3vG7IaaX+lxAtGmroWmvHV+qCldIMbcAE0hNIXQ5KF7W+/YsQM3M63CYcpaf7PIxxtE1seOHRNfeX5TU5O1MbtmHOpW68wCYaJbh7p2gUTWxC010yoopqz9t5BRBE39TnsrKysmPcoCqbU2ZteM1tFQUwpNfKpmWgXFlHX4jDGyBpoYUgkWxsJZWFjw0LI2ZldqbcYutz9yV0Uy5oGuit5a0JRatw418ZmYaRUaU9bhl/dSa37adVlzEg+vipF1BE2tQx1ZD7hASMpUuECaoImPFR2x0ZiyDg98qTW/29WaZ6H4lg91aB0ONUXQVGgtZQV0k3W4PWa35p23WPtDSApNTL0Ey1v3YzUZc5djdWhtzBW0rN3+yFnzDlusBU211p2+5PSS66D7212yBjq0zg81zWJtzF1OIIKm1qEWNGWseT8drI25gu76DTdsar+s/VCXW0fQsjZmV9erIoXQVDvUJGiKrMuHmng/Rda1Q4318vKyHEt6weWHWtbG3HBVjKwFTbVDnbEWNHW9KkbbI4SuXSDmWtes1p3+LIanRdRvqCm0jqAJ6GGP1YXWQA9mzbWxCZqwk2NJXEip3NqMXW5/5DZ1ONQUQpOgM0NNXa3Toc5b827NtAqTKeujR4/2s+aaSSxo3gmvdvz4cTa1X9YRNIXQNIt101CXLxBZe2XVOtR5az5Ky1wziam1oCnc1zpm8DTy+eefZ7fw5FCyUSVDTaF1CE211tECMWaXSU9bA91kHQ61MTcPtaxboYl7t8WaU10ITaE1v7u2tra0tIQsa53f5UgH8eSfp3A97jJml7c2ZlcK3WRdAt1kbcwNC0TQ5Ic6sjbmjsdqH5+VmVbF1pzqRKzc/njFGln9hWfllkTunxKirkNNqbUxu/LWxly8QID21sbccFXsas2nbaZVsTWr1phdITRhHXJH1tFQa6Ipb50f6n7WQEcLxJhdkbXbH0ULRNDUCr1jxw5uqZlWxdarq6t+h6RDHUJTam3MLpOuWyDl1pP1MdtVkZqGmvxQl1uXDDXWAJppVWzNOtYiLrQ2ZletdTTUFEJTai1oqrUecIFQNNRSJmPufqxWvE761wxiay6dHPtKrNOhLrHOQ1P5UFOTtTG7sDZmV2idLpAImqKhphJr3rD9z3aJM0YKTa1DHVoLmroOdbl1E3T5UHtrQVNk3e+qSHwaphlUY83wzzjUXlkZs6twU9O8F0jJVbHfAiFufnS4phrrlZWVCJrSoS60NmMX0OXWETSl1sbsMunkTwaM2ZUO9eSa2Lys+w01r8MeNs2gGmvuEC6PmaGmEJpCaJrdeoSrYq21GVelQ11izWvyNMU0g+qteaaesc4PNXloMuY2aEqtjdkVbmoqtDZmV2g9v6si8f7TBUI11rS8vGzMrnSoM9bhUJNJzzzUqbUxu1Joal0gnawLh5owMcfp6q15RmPMvRZIpKxCaEqHWtA02gnEQ1METYIOrc0yG5dTLnjmOF29NT311FO11tFQU9NQm7ErGmrKWEfQBHTJsjZmV6cTSDrUvU8g3N+1C4QarU+dOuWtjdkVWbv90dna7Y+eCySCJkHPeFWMrFPoQms0TDCp0Vqnkcg6D03e2oyrMtDUaj3CsdqMXbVDXWLN659s/qf7Gq3p2WefHXmoKYKm1NqYXSadHKsja0HTXK+K3JymBUI5a10hjdkVQlNqnUJTufUgJ5BoqCm1dvtjYGtec3Fx0ezqylkTB21jbrsqUslQU6u1MbvSoQ6tBU3G7Jrlqsj26L1A+KBr2X+MssWaK6RfI5F1OtQl1nnoyDoa6giaTLrj8/KMtSaaegx167/Y3GLN9uGpvbc2Zlc61E3WxuwKoSmydvujs/VQJxBNtKC7WvPgy2xq1WJNPC7Y2tFQU+tQa6LJmF1NQ03RUBPQcz2BhNCUWhdC79ixY4B/W0vxjlLoWmtjdpn0oFfFWmtjdtBkzK5O1oKmrkPNbWkdaiqyPn369OHDh43ZVW5tzK6u1uFQUwhNgi4falm7/fGKtTFPn6mp3Jr3w1XNpLIVWdPy8rIxz+GqSK3WtdA07ALpCs324EpmRm2VWutpZLm1oMmk26wjaAoXiFse9dbG7Jr9BNLVms8tf84LK7UmXSRlbcyupqE246rU2pgbrooZa2PucgKJoCkd6tTaRBviNdM/LM/UwZpOnDhRYh1NNEXQ1GptzK5Ca2N2hdblQy1llbfmFXigl1wSfd2sedc8kyxcIMbsiqzd/njlqhhZR0NNITSZ9PQJJDPUtVfFvLXbHzlrPudO0NTNmvgAbBIR+0JoiqCpdagz1hpqn+fusUBCa2N2Cdpbt0LzEbtCU2dr4gjoub2yZpk8rs/7+ozZFUGTrDmEKHGLmDTRJGWKoCkdall76NqhLrTmbWv/6La1PtbEiZJN4jbHxNqYXRE0ydoXcUfWHlpDTeE4k6AZaoh9qbXnDheIiqy5MPoDn6xJ3GncVfl/yDNTT2viQXTs2LEUutZaviRft6InRRNNmmUVWitvbSPtwtqMq2RNsg65w9Gm0NoXoocxXnbje9XfmuA+cuSIMbvy0BRaa6LJmF0MtYjJ+/oEndnUyqR/+csImmTtE3cq7jbKVHzQ8qN0bTNZ0+rqqoh98g0zZlc01ILW3qBwnCmyDqHd5ngluJVhu7AO14gycldqrVJr3rDwiXimWa1pcXExJDbUKg2yzxOTH2RfCE211gS3z4+28soemry1J1Zui9RbR/Gswm7tDA1gzSY5cOBAui6UGbuicY4StzE7aP3ok7h8fSE0hdbkrZXnVt4aX/1otNPxDtNv8O3RANbEU1UNtc+kA2tB+1rnOvT1RUPt9keHBULGXC0QWSs303H8eu03QvZoGGtGm0dZIbGUTTc4R5MnVgbsat0e5JU9NGmiKbUWt6AJWZvkIN4t1yS7nbM1jDUx2hlikrLy1mbsCqENuErQJGKf9w2TNYXQFFmjHFmTZtmH9WH3b+QN0mDWbDSukObqMtcqtzCsPDRFxCqE1vYgN9CTTNol6MxQk+aaJnvEZd5BvNtBNrUazJo4a4dDbcZVxtwATfIlow1yOyO+JIbQ5JU9NJl0kuduUlY8U7PbNkRDWjMCgo5wlYjJ44b5WfYZc5W4feI25ipxkxc3WpdGW4VzrYQehvUzzwzwv0X3DWlN+/btyyirJmufYVd5a0200lz7QmtBU5O1hlqF0JplH28+1FVRDWzNlcSAg8y4yq2NKe4mX+UH2Rf6+iLlMMN2YS1fn6DThl0gNLD1sWPHUlySL5lukKDNtUq+PjOuErSm2GfMbctac23MzRdGfqvkWz46NbD1ysoK1uYaZK4utydeqWmQwzTIvgw01UK75TEpXB0+8w7iPTT99YDeDWzNkxqerBtqkLm2XQDJdF02xtX3+CrTDTJjl9E6XP9CWKE1H3TA054a2JqeeOIJAw6KoM21ymir5Ktskqe3sxm7zNiliSYp+4y5KuQ22iT2HnNjN2mghrdeWFiQrDLdqhTXUF3mGpTiktEmmXSQYVeFyj7TnW7wCyMNb720tJQSk5TJjJPMO8hzm3GSGVfV+obJmozZZbrT8bzMbs9wDW994sQJloYBu8y4YVcINE0THWXGVXliWxnTGbbjNtckziFDfW0vbC7W8jXR6cC1l9zL5hpkqFWGGiTftJA71Y+UfaabtJms3cjWZKJVJuoyy+YEGmWWDVMcJWjjzLZprBlqo53OgKvMuMpEg/zAtmbe0/MbpUH2GWpDm8a6ltX8gkTZlCkGec3aTLShyFdPDjM9Xfc/PpqxeVlrVH2mW2Wc05lokHBbM+w2bhWhN7U55pozH4NsqEEm2iUjrzLauvLWhb5hm8Y6HWQyv4aMM8gUq6RZmBlXybo8rDfHDsE6kjW8IPMLMqQg+w2XfsXkmjOqJI0q6eXwV2rbNPsa6xJf8WUyv4KcZ3sGWXBhpE1jjayBNWRIZRlVWwbZkBGWtXPnzk1j3Tq2ptic+RVnogMF92ayNrPpDKYtu8Vd0jwWpu/9yLdprJncfmQlGdg822TWBjNWhlSQxjYfr7ZprBlq3bBNGnfe5rDmOTrW+sbDTRqjnf8Xbvo1vPXKygrnaz0YN2l8/sN+F44a3vq555578MEH7bPenD300EN2YwZteGs6fvw4l0f7xDdV2tfzWNY0F2tGe+/evfbpb6r0XZ+Df7eCmos1sbX1PQt2IzZ8XBLvvvtuPm2y2zB087KmU6777ruPR6XdoA3cPffcwwnKPvX5NEdrxeNx//79rO8NK75r1659+/YN/h1laXO3JrhPnjx55MgRZuf73//+9u3b/7MgXm32/qO5m2++mcfc4cOHl5eX7ROdc2NY+x599NFLLrnkoun+1HXhhRdeUPWGN7zhT6r+2HW+6/Wvf/3rXve6P6r6Q9d55513btU5rrPPPvusqj9wvfa1r/396V7zmtfw6/P4g65Mo1ofPHjwiiuueO9073nPe/7e9Xeuy1zvfve73/Wud73zne98xzve8beuv3G9/e1vf9vb3vZXrr90vfWtb32L681vfvNfuN70pjf9edWll176Zy7u44svvji8d/nFYf+KRmujWi8sLHzuc5/7TNKnP/3pT33qU1ddddUnP/nJf3V9/OMf/9jHPvbRj370X6r+yfXhD3/4Qx/60D+6PvjBD37gAx+48sor3/e+9/2DS3ek7rzLXdx54d3m7znitzL/fvI8GtV6bW3txhtv/PfpPv/5z3MHfPazn/0319VXX53qf+ITnwj1/9n1kY98xNPj7unf//73p/TuMTN50ECvvvSlL83pHN3UqNa0uLj4ve9975oguGW9bdu2jDVF1hpz0pgT3LJOJ92POdz8yMc6dOiQfU5jNbb1tddey8JlvWrnEj+NYinTX7t4sLOm9SPxK/pdvSZv3rSy3/jGN4Yrm33Nj/yU3/ra177GIYSj3pk819w2plWXJl2mCAUPARZ8Ivbr1SuTJyaIpcxbNSnzMr/Iq/FWvBPem+I9f+tb3zrDrdnOPIrZA9xyliabdHIWee97ebDrIU961EcPfOL1o6uc7gPGXPo6mRAvg6tHgO4kmtxjjpv3wIe44YYbzvx9zTM0diXXOh0tKHOVY/Nq+aKDO9xI4SVfP9pm7JQF7a0JaL2gX7/tttuefvrp+X3do6mxrRXP1rj6udPdJNzDYwZxB+AOMbjY6cjMj1oUWhpuRb9F3ErWmPr5pegRwI8PP/ywfR7jtg7WPHKx5vihcx7WTDSrA1ZEwEJQuIqdy08V0PoRWdSgZLewiFg4WkRaQcQvkl9Bfv/w4549e+xTGbexrffu3ctD+LrrruM2o8a1keskz+j8UYG4ppGUmV9YeeAzm5BByYZh6v2Zr/B8He7922+/fffu3Y/W/S8W59rY10aOz8iG5xB+SkDzI9AMNTMIGZpsFa0X1eO5jC6wvENtEsWvIP6d73znDLdmTTOz7Ap2K7efiYMGMhx55sI9wVYpf95IsoYYWd4biDxieM9+QWtHE79C4maZfPvb3z6TrWn//v0LCwucQ3iKzPmv8Dk6YQ20iPEFl/0AGZTuuji5MOraSDpvRNBe+aabbrr//vtH/sITrcO1kY4cOYL15KshiTXQCm7GmZFnYHXZhA9Nlkx6DhG0XsAaXEabt2JHa1P7Zc0LjzzyiH0e47b+1ijDytgysCxcppUlACuHDX8O8UeRyYnPhTWsvBr3gVgx5W1Z0/5IHl4bPferyHp1dfWE+wuQnCIwZTC5HuoKmZ5DlKyJV2YJAMcCYd79k6CSc0hozfmaJzLz+G6bfGNfG6+99lp/1HPHEDuHKLjBZWBlynjiiCZrmmXd4xyCtaAZfDY1jwB+5J3whtdff/0Zfg7hiocvY8v8gs6G5fLFgEPDnHINZJ9oWZecQ0JrlLlvPC6m3GEs7vDySJPro/va05l/DuGJzK5du9ghX/jCF7gk6sIYXhtL/qyAuGPw9ZdNroeTi2Pz10O8Ncpf/OIXt2/fztY+w61V5hzirQno8JrJtkUKOzTdGWSSO4bYOUTxu/JlfpluHjTcHzQ5hVTXxpGV1YawBhpiBpkRZnIZWPYAWFBySdTl0R1D4q89oawp5pW5G6DkDbWs6dV+DmGg1tbWHnvssW3btrEH4OBxjRqCYs2cQ7BmbHl9vKCcXA2nKzyHaK7HH+2xrW+88UYUmEeukDqK+BOIP/PBij57gA3AqZnXB5FNwpr210Z/4Gs9h+hLIiizTNSXv/xlHlU/+MEPRuYe1ZrbxqKA2CvLl6FmCYCCHTt68qzxM5/hNXmZCs8h5KEhZn5hZWXznrW+3aXxlXPIGf5nYHTTTTddd911N998M3w64XE9ZJ+wsvN/jp5aA40vwwsrjwAcMSUdQkg/JaBDa96Ko8jOnTvPcGtuHrWeQ4BWWKOMrP96E9sALx1F/BVSJxDi1xXW8tUU+wMJd8yePXv0adjnNFZjW6v8157wZT+wUhhJroe6PLpjSP2fgXlucLXiuUuYd7+vX73nEMKaJ+ssCgaWDYsOo8ckogZreg4RtF6A1ZviyHbmPTDyXBibro2vUutbb72VKeYGc3m84IILas8hQMPK/ELPHcAe4LGPHWtERxHuoU7nkFejNRPNCvbnkDCgGVgsIIOSHa2Lp6/kHLJlPRVnW0YScQhAwQtElgn7Wit7ctwrOIdszXV7q6urTPfS0tL111+va6OPiyT5F2rL/25TbC3SyzfccMPs/7epfo1t7Tt+/Ph3v/tdhzxe3/jGN0b+uwRh62bNdB88eJAbbwzz7+tf/zrnH/vw69G6WRPcTz755Fe+8hXDmGdcJ2b8vy/O3npaE9y7d++eN/c111zzwAMP2Idcv9bZmuC+6667dPyYR9u2bbvjjjv4KPbx1q/1t6aFhQWe15w9n3juPv63/9a2IaxPnz7NOVp/F3HwOJXP+P9uHaoNYU1cJHl2bjzDdeGFF87pHwPp0UaxZp9y+eLxbkhDdPHFF997770bYVOrjWKtDhw4wLPwc845x7T6dtZZZ/E8nvO7vd+N0cayJnbrN7/5zfPOO8/YunfuuefyHjbIjg7bcNa0urq6a9cuVq3hdenSSy/lbcf/Xr2SNqK1YgNceeWV/t9KaI3XvOKKK/TnW/YuNlgb15pOnTr11a9+lTOycTYHNM8PR/uXQPq1oa2JpyE//OEPL7nkEkOt6/zzz9++ffvG3BthG92a2Am7d+++7LLL0gsmv3L55ZeP/ze6+rUJrJX+9x5Xu79GxqHwoosuuuqqq+68886lpSV7jQ3fprE+A9qyHq8t6/Hash6vLevxmljz31Zj9PLL/w+vHv2SkD/j1AAAAABJRU5ErkJggg==",alt:"led_off",style:{width:"72px",height:"72px",display:"block",margin:"0 auto"}})]}),r.Pitch>=25&&r.Pitch<=34&&(0,y.jsxs)("p",{style:{color:"green",fontSize:"27px",fontWeight:"bold"},children:[" \u0110I V\u1ec0 PH\u1ea2I ",(0,y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACNUExURf///wAAAB0dHaWlpYGBgfLy8vn5+aysrO7u7ubm5s3NzX19ffT09M7Ozl1dXfz8/Nra2uDg4Lq6uhYWFsfHx3d3d29vbwoKCjExMWVlZSwsLNTU1OLi4unp6dvb28HBwYeHh5eXl42NjZ2dnaenp0FBQVFRUSQkJDo6OrOzs2BgYC8vLxsbG0BAQElJScsy4oYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAATYSURBVHhe7Z3rVuowEIUpKoIgXgAFFS9cFD0e3//xjrUbhV7SmfPH7Ol8vwDDWvOtiQlpm0nLcRzHcWLj8gQvjNIZJskCr00yT1JmeGeQ+y/BJBnivTlOIZgkmw4+ssUJ9FJuLCqOIZfxMsDHdniA2pa2NcVLiP3Q7uJPNniF1h6WFIsZTLm2o5j/H/xmjgbsVApaUSzvoqCHRswEBS0olo6iu1ygISu1guyKx7AIwqx4AIcaztGcjyUMarnHF9h4QvwCOLN4iOhFMCrOELuQW3yNhy4iF8OneI7IxfAp3iJyMXyK+1dmBPApBpZN5bhihNQsnYqc4os8CNYW+zRAke/uWwMURWvEXcb4Ig/CVeIPfIrideIWV4wQxWI4g2+4WSByMXyKj4hcjCtGiOq6TQrfD7g+IhfjWYwQ9f8in6I6iw3oqHyK6uGGr6NOELkYvms3rlikAYp8w80VIhfjihGi7qh8q3711O+KEdKAlYYrFuGb+tWKvpiKEFcs0gBFv3YTIZ7FIj7cRIgrFnHFCFEr+kojQjyLRRqQxQYo8u3TcMUiDVD0/8UIUSvybe5TK/LtQlUr3uGLPDQgi+rnUeWKne6817v75PYk5eHym9fj1ep4n9XqoIJlylPG4ovHLw4/6X8yybjaMgNvb9kb9U1imeLZ5BrNGZFUZ5iiLSn1iuqtH7FRqzhEQ17qisGgGTM1imhFzRFcShmgETWjUO2prGwjO9eBOnB3aENOoNTdtjIlOy+VNRnVRRBiZQqhAmYMkzWM8tgxTJ6hlMOQYYWiJcPkClJ7mDJMJrDaxZZh8gStHazMh1uKP1GNGZrPYdlQY8qwtCi6JcPy+dCQ4QeUclzgz/z8OYNSDiPrw0BJ+x4asFO9PrRxFSN0KIGJK1FJO3TqAtpQ8x48kACNmAkLtjZoxst18ILwf9R0iI06Qf4Jsf6sBXWVw6gQHSbROR1fHqc3p7M70rNJekO6378aroffPK8305uXdiWj37qP/KunZZx90skYZByldLfMt/TAXF3Alu0gie4IcYshO++kq+7pbBm0LnikFiR76EufQbJzTvQZZBNUj6JkggPrgkdtxC2G7LHLgVqQbBTVC3oG46LzgrjFsGVQLegZjAv7gjeIW4wLxoVekG2QUQuS/RY1L3jmGcxDdk3GfgbVG5HYMqgWZBtkXDAPm6D6nrP5DJINMvqnBthGUbUg2e0z/YZc611UdI8+Jj4QuBg2wTXilhLcNhkjfxG4lNoHgWJD20VHbILPCFzKKPwwXnxoBelGUW1VA7ou6oI52myCbwhcCt0gM0PgUui6qFaQbqLX1kWimybMZ1AtyJZB7Sj6bj2DdILaQSZQgCVOtII1W3viQy3I1kW1J6yFyiBFifbcUbppQi3I1kW12+HoMqgVpFtNaMus0gkuEbgUuoleK0i3ol8hcCl0E712AyFdBrUFq+kGmZQnBC+BUlAz1JAKygcbumnih1cohCEWlCneMAtKFAP1ZDioq9MwZRdstcZQKWdaUbSKipCiCcGQ4gYt6DmFUJ61jQymlP8Mr6iMx0mZoinBMsWKes285OtOlpbf5Ga/8OQMn5pit9CWScHd0pN9fGKOLjbcL/DeIJ2vR0uXeGeTfpI84KVVztkeunccx3GaQKv1Dzc6bHnozswqAAAAAElFTkSuQmCC",alt:"rightward",style:{width:"72px",height:"72px"}})]}),r.Pitch<=-25&&r.Pitch>=-34&&(0,y.jsxs)("p",{style:{color:"red",fontSize:"27px",fontWeight:"bold"},children:["\u0110I V\u1ec0 TR\xc1I ",(0,y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACNUExURf///wAAAB0dHaWlpYGBgfLy8vn5+aysrO7u7ubm5s3NzX19ffT09M7Ozl1dXfz8/Nra2uDg4Lq6uhYWFsfHx3d3d29vbwoKCjExMWVlZSwsLNTU1OLi4unp6dvb28HBwYeHh5eXl42NjZ2dnaenp0FBQVFRUSQkJDo6OrOzs2BgYC8vLxsbG0BAQElJScsy4oYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAATgSURBVHhe7Z1rV9pAFEUdKgiK0KqgiFQRH2gf///nNYFDqyaTzOnqWp1zuftLJeGuzl53mMnkcXPgOI7jOBmy+Iw/rHIbwgn+tMkqFPzo4ZNB7kvBEDp9fDbHyVawYIAtxphBr+QG20zxVjCEL9hqiBHUdnzFdjM8QewPc+wxwk9ovcWUYp2gJcXxI5Q+coovyLOGUJULfEOb8RV06rCg2ChoQbHXLBjCGb6oSu8aInFe8FVNhu2C2orDDiSa0VVMFAzhAQFqdM8h0M4KIVoQgiEsEaQEJRjCIcJ0GHKCeofh3e9oeCpqgw2dQbWhJnma2KEmSA4yIdwjUAVa8A6BKvQv0fBU1AS7rKDalRo6g2qCQ1ZwgkAV6Il+ikAVhuYF2YleTZDuojMEqkALviJQBXqakMugdUE6g3KDjPkuyq4m1ATpFb3aKNplJ/oRAlWgu6gLZgY9TTwhUAV6kFETpLvoTwSqQE/0PxCoQp/N4CMCVeij3cmodVF6FF0jUIUF2p3MFQJVoLvoeoxIEegM2u+iYhkcoN3JqHVRWtB8Bl0wM/hBRuwxJzqD19YzeO0ZzAte0HwGxQRv0O5k1AS/oN3JuGBm0ILPLpgX9CDzPESkCJ7Bj3SsZ1BN0DP4kU4XkSLQx6LnYhnkBa1n8NK8oFhdFnoUVcsgfU5GLYPmBenLZ+fWMxjmiwFY7Ojv6JYMt/S2jAvwf/0X6Az+Iy7PO1Ger6/Wj0+j3zyOpicbJrPDu5Llcrk6Ors4TVnY0Nfo86K9TsP/yuA/o63QFn0jUHa0PA6nL9hy1wD9aE+OwKUWE4JNhj32luY8iS9SE+rJSLCAT4XeM76hTqz0pJUMRifE8Tfs1ydSeLK+Mp4k9XUnq8Ubdak1/Fh+U5o6wyn22aDGcIldRqgadrHHCvZzWFf5fYJ9NqitbW9qqKmv3m9pPoy8n8CQYuwNDLF6v3rEDA/ayqnKEDU0sz6sPS7dQBdgyZSGE6Z0GaQ8iZ7FKKAfm8ySxtslTByiwiUCf2EtP6ASQ1+xtaoBfQ9GbhxBJI64YsoDucqKl5Oky+f0DXthOpvNptPp62vx74biw5bJlvKC9GHB5or03f2G5ZZVyacIDw9H7yk2vJz95va4ZH5TMBgs+un37tKKamVW/0JRr2A1fdOXnuIeZPErWp6MnuJntDwZPcU5Wp6MZzFDXLGK/xYzZA8UT9HyZDyLGbIHWTxGy5NxxQxxxSqumCE+olbxLGaIDzdVXDFD9kDRVxpVXDFDLtDyZFwxQ2hFtTes/cWkofbyHFesQ6+j0lO/K2bIHijSRzdq7x31xVQde3AYrvaKYz89VYfecONZrKL3W3TFKnr3o9KKSwTqQK/6VwjUwRWrfEKgDrRi+6MfuUEPNy8I1GEPFOkDuD1QbK9ymBv0uZtbBOrgilUuEKgDrThHoA60YrQIQrbQimJ1lgtIxRnClKCe09A7b1NCKOothrckP9ynt07ckZhFvVXiH5KeQtVbI74lQVFvbfGeVkV1wdbqDHpLpyqNihYEG4vB6C2b6okqWhGMvkzCRhfdUvs6Cf1R9C39ah04SxksqZS6s/Mb3DF8X7BQ78xMO+9K2h9joy16a+iFcIpN5tgVRY9XppRnthFsKtsoz30II7E36bIcW5sGHcdxHHkODn4BuLtseU3y3vEAAAAASUVORK5CYII=",alt:"leftward",style:{width:"72px",height:"72px"}})]}),r.Pitch>34&&(0,y.jsxs)("p",{style:{color:"green",fontSize:"27px",fontWeight:"bold"},children:["\u0110\xd3I B\u1ee4NG ",(0,y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAA51BMVEX///8zMzMrpfchl9jm5uby8vLMzMwaGholJSXs7OwzKR4tiskXFxekpKQwMDAiIiIueq8zKyPb29srKysmf7K0tLQpcZskJCTx8fGTk5P4+PjLy8sgm95oaGgTExPS0tJVVVXBwcE+Pj51dXVCQkK7u7uMjIxdXV0zLys/Pz81NTWbm5tMTEwUoPd6enpra2urq6syPkcmnujn9P6Ojo6RzPpuvfml1fvB4vwwX4EpovEsl+Aji8TP6P1CrfgwRVJguPguVG0vT2SDx/orZ4svbp3c7/6z2/sij8ozJxYwa5csXXowY4nKUmh7AAAQ0klEQVR4nN1dDXvathPHqY3tDOTGGgNMCe+QQCBkSdOu/TdN17Xd1n3/z/P3m07yi4xljF/y29M9DXVAP+50dzqdTo1GjaD0x9ezQdmjOCFkqYskfNkvexynwxhLDowXK8VJyyUo4VnZIzkVxshjiMZW2UM5DUxD8mU4LHsoJ8IO+wy1F2pqdIyIDOWyx3IabLrSyzY01pSIUB2VPZbTYKH6BNG87KGcCDdEhMai7KGcBqNLIsL1C3WGM3AVm7KHchrIhOCLdRV9jRDc8R9S5Pqyp67C4LuK/vryclxXM9QhISkac5+ZGfa3gFud4kaVJ8BVqFwZbTx/iVCvyIHlhVGLiBDxHoGFRz3d5S2xpF2uqxiTR4x9kSPLCTIJ2KSuznlkQ0QoqZNCx5YPHg66CpOosYSmNQx5lDWxM12T88gcgQjraEv3kL1YcZ7og45yH6k06KqCM8VGQBBpvIlaZQxgYTiNf8CCr0Ay6qijjSG4inb8A4yO3hY7tHwgk4WhpCqxDzB2FNdRRxtLIkK8jH8ALK3UqmU4o0AO0Yh3FUviLGuqo4095BDjE91NakelWuroIVdhMb6+ljramICruIn99yURcW3zxNRVxC4ZmmBoEYq3tFWHCauKVlxATZMb0mUdlxQNdrsp1lVQO6olJKiqDIt6+7gs2oDa0WktcxeNRhtcRZyrY3SUF5NXHuAK1LjahF3tdbSxSMwhThg7WvTI8sIKsksxiyKF6mishOsASBAiFOMqXoCOJlcmQLAjoesa5p5c9IDDZTSkpkuOGldIbSCHGBNxwnYiJxaoBSQipVZ0u4nR0fpuCXcScoi6RO1ofQszxrAwjLoKqqPdhxKGlg8gBxqTpl9QHZ3XVkcZVxHZblK6NPdUXx2VYdlgRFzF8CXoKFOZEHEVHbpmis9s1AMaUcTLcA6RsaMJVQuVR4KrYHS0zmWm/Bxih9rROusopHkj3kCHSRjV3zphxq1MoDpq1FlHZZKeQSjkKvago3hcytByArcyQaZrJq3OOmohnqtYUR2tdQ3mnpeA2r8MO8pseYaKf2gkF58gLhWWbDabpmzxX6AY8LabGB3l7OiXBWUxu0aGqqp4fjtxOFmT2zm2fzbQ9WwR2TIChxDisacFCeOCRp4OVt8wiAlE2MCb3gazLxj9oCBNYkiRFNiLkJmimUrZ0T2GvKY/vBZE1b7dx4GtQdhPClUm3FRIR81Ju7/pNN0veqcG6cQBqa7bM5udzaYzmcZXJrQro6PmcqoZXU0z1O582Rx2OayC6A6by3lXNexfM+D4VmBVYVJNKNeOmqtLGnY4sy4VQZuOgcOyDm5GjKmOlloh+9BKS+kggqebaIFsqacr9ZWRNGYxaKyo6Ha+pJWoo71rvgCRpmGsMZqIsPOCxjdD6IZxIrT4UC1RR60bPkE830xGo8nDFGrUpg/OC5u5xv8damnKLZA197vb1Wq428/4gzWWsq7L9h9z56mbujPtF3TF6j3wFVvb7XdD+62XG8Z2Fa2jVvvGDlgwQo4KBnQMMfqntm16HvS2Ztj/eS/0FEWx2qrEg6PI7lvTdypaR9taN24iIQ1N52ugjG97MkA39w97EwgqCs1Y4O6aS9Z/omA7Ko/j45XuuDPSe/Lk1nPeaGrKLHTdk6hHUFF0b3IiYzbZ8xXdfaTgAtnROt6yqG1Z95h01l1sC2aiyzHQfYKK1Vzbim6sFxZjMmNRcBG3GaugTlhMJ525GQ43JkNQ9wTX06kIbYpye3jb1i2r2Yp9R/rWhS4pZE5EjWesxHSikkGxObrJ/F2xbNj/vz0QEBWrpSvOaPAgViep/Pgw4S0RR1uL9IZt1o1hG/6Y8C2X4AF+isVsN+04319xUTfN99muAQ+Xy6HkBmAYjTgE5UMEbZsKp5sGMsauVkb0tICyhN6g3d/taG4dSRtvtjm+XxuPeCI8pKKKRXOIN5Zlju3V4rg9D6srHu52/fbgdKWWiyFSu3akQQleE066PFg05cw6qli0MmFvKZYyGoysZVRZ7c/WuioanqZqvTOPrFM1Vmg8eqlECDlESfNfsSZ0soc+1l5bz/N3jr1V1EF0NwmsxEQ4pEVslveSTg/D4GF0SqqrnHXVjM77SEB2BEO6xtV8o2TR4kPbyU6jDgSjXCOAUZyPwsNkEep6z4GeQknp6aadJ0JGR+01U2w0gFCO+/hybIyGl0kMDwuOAd3WHngMGampC4s6ywDFbn7Lxfj1u7FIYCjCTzFpDtGK6KgtVdbqsF9xbltQG/b9EYlg8DgnASqKTKyK0XEZWkxh19T9svx0Iny4/3hO24g6MwmxOh8Or1XbKRrzBDsjRtD2hj6Btfcz84m2jrrfge2qsNa6Ht7OmZRlaG8jM/qQuUZ4aTohTLM/nLUT5qAgQcUatRxK6NKjYzEFsrOG94Syn91uTGcZIi+pHPlNFkRggWNCc7J0CK6LjtRRh8BiqmoG2nsEmcKuKV0qu2ss7/uAcC6fBgMjWgDRTOfhhQk66+DJpiN7FGT2MIwV97AJUsylghYKrvMLYWI5gojo2kzbxRFkHzm+bZTcHkN1yzodwcMO/gBViNHQNe/LojOnO24f4xXNmUp9Pd4Vw1CBBEIrVkddhnTdgbrqLHP89hDI82oplfRoGZLR83TUeabNBjk4YzfM3jgYSGjtghiOvFUMnvMntLUP7r0a4wyOUcahUC0VQ8eNHEfQ9RYY4e50xBVhhKG9NBaejfo8HIuqSWGoR+/YGUjGP9qtVg8yn6AdqIb3O2yJCzKM5AvR/MTayRKwekoCPxt6NIcjmGvchIJ5O+SNT89T5MYvDayBhlFw0SoWhveYDDvqdtfr6fBQPFMoQUeTb6frtdFlVK0lYm3oOXDJWLVHo5GZFIfmq6JpKVr2p5r7FbPHL3CMzaLZLW2v68lxtoujDWgmjg46IAwkpQrD3V9lgvuObKbBgS/ghNAXtNbGWz8n8tvfGJc2GDOjqanQKg+MZ/QGf5OwvTFLUYZWfSCV2+ekwy8bqBe4PT55u4K1A7emIVI+V1cgzGGYXAtRJ2gchusXI8M1h+H1i2F4zWEIuwdXFwI4rw6uCENeup/sw159+VUAv1QHP32K3JbRK8Lw55tXafHmzVl18B9hyFsrkl26qz/TM3z1qmxaDL74DLkNBkmSC30WIFglhn8Shrx1FKTo7kQYfiiX1Xa7hb/f+dNM4x06oYum2jDcPn199/WJcCTD55Yxwk7r+d8CDH8vk+Bbd+BfPYof/iEMed3NoCLi4td6MNw++iN/dCn+cu6PX+Wl+SH/dPGbgDEtk+G9P/J798fXF/74uTkp2NG5+kuAYYkO8QmG/uT8+M1nmFDhBy7/Sz0cYojhz0MOn3GIdyIMyzOmWzJwT0uJs+C6Q6YV44UAwTIZvvMH/s6xNB+IoeF1/m4wp4zrYkzPPrnjfu+ZUmJoEtoMyiSoqYsxPdt+/fT9ve8OwZQmHHBTrrOYmlJXF9sthG1/EENznZAUHmYyNWUyZPCZGJqk00NQWSL9T4BhybG3j49k6IkVKND7pjYTkQJiNqOZwFAhOeFaTMSt/8cDmYYSTtybIckoJLRELInhj3vr+zvywwcyDQ80PnkgQryo/kT0wu7vvhQ/EiXFyX3qoMah8hNx+94f8o+QNzx04xMcXflccX8BUbcXk559JtPQSCZIT60KrfOLV9PtDxiyu674nazvD16S0KmLv4AloOUyBCU9eNRU17KoaeH+wk/QOPBMDSjp4SufoLrzqtLW9B4G7MbdH4kIUxz4hvJboVRGwWoKKShbSd0X/gUlPdyfh17bKuL0C1bT7XcYr7f4Jcv7VHfNwhmji18FhFiomjIi9CwpxKSprkSCvLDQBk2harqls9Bb3n8BZ5jqpgtYQQlFbkUS/EoH++y8ABEbdwM/COjMKLKPWKgQqQg9VwHLCi1d72R6V5tQXFMYP8YXeiKE/QqplbJqn7rESgrxiWa0P7ki/A9Whmm7n9Bjx5KAEItyGLCoaPiG9AOMNv1tJXB0/ELE6xfjMFgz4xlS8PYJd1qHsTAqLERm18VbVcBYRe5zhtNjQjOxCCGyOuqtff8DEXIuKo0FPT52LuATCxAiG814S1/qC8VaRkKhf8UCmydmjI/BcEbw2idaTCsUnZ6aIBNxk+0YEKHodc5Q4yaUVzyxEJnURaPhvvLh7mAtGw/0BLyQxzgtQcZR+PUX4Cky3C5HS6JFFvunFOL2mRmep6OwtM/SYokecL4Sydic0GMw0Vrj3nWFNDuT6cgzbdxQET29Zwb37IrwG101Zbl8jTkaJGJPT6anLMG3ITua8kBQGMzNWCL29ER6yvgJfxJSO3owk88Dbd4gVFN7Cn7bT8y4/Dz+H9TMZL0MmGnAcS6QAT+FnrIEvYD77DWseyP3YKQHbaJix6fpKeaup0+sivpW5iMQPOrCauoU0Z3AOipfftsn1sj4rv73O9oK4ZhugzptqXAlUBqd61TcPgXspGdGoeDZOcV7VMdIpn3RhcDWfo5TkV0vUYLUyhx9GTBzqFvE8edGEUrXPLzzCH6jk/D4TkpMNziRLcV8rM32KWBEYUcbXH0ezYUt5ryXCMVcCD4HQ5V3EYK5tMM0mWOJ5+nDt+OtzfYsqKFkDv5CVRThXBrvMZk3kQj1WIrbx/vgOPwSRBqNimXXkrBkKF4VRHF79iM0ikef4AVDMLercmesFNPPxSMM6vYxNL/unyNzUDKyhqNxFJlD7wIhamaK7OaLi0/+P9BgVJK6ORJsWEPmjPB5er+YleJz6PN9I8r6QUkb5tpV2BozJ9kFoptsFNnEtoNHUgXMqCge5902me1/efH577QcM5mbbWAt8d0vsfzwmTEy+fW9BPRYild3qRdTWSgGGL4lxYd0Se8QPEFD6EDnKCSltjcZKDLB6Cdy9O61xBIU7gqVCtaYbUlw8SUlwywxKiyYvpIa4J/MFJS03OcgAesXRTRV2N5sn9145v0ZaCgzBXP1g2EsA91or/5KK8UMJvXx3dtnIsBvV1cswdwimTi0L5mPsm1qWjFmmYyE38fPrIZKlye+WW4S6PBydfHXqzfpkHnB+O85K0AJH7mkD0EfdUJYhK5muLj7LSVeZ0NgBjodOBfhIY2OsKttTTXCiPTiE+mhkQGR3nqREancw+kHsWnVo9kJamXM1cgHrrapEDJeitjhXxlWNWS8KSm2mX01kbFh8stnuHnxDNvp7kmtAhJObyeBWpqoDwp5pJIASpbR0kAjEM3pYJoEvRz0FkTLuK0+kqHTKwxHzSQMymrsSS9PzBi4kUJatB4kMyyrfSnZUhEonQ2C3m/zkCxE7mVkJ4UOXZ8SGmEkA052o+kBIZbC0IQegYmntxMBTbPxLlGIgzKEqEM75+AF0EKgUU23nUyxBILUmWW8OMCBQnMWuJNEsXgh6gN6I/RlcnPkRNC+3gjvEykWbE71Cd23FenjHRUird5DaDlK4Fionur6hrmlfn2ECIPNk7VxJ4ljcfx6gxUTMovWd4fB3reNjPFm0OTGbnIhoZpsdlYqkyzSjk0PW4F7LpCGV7PdQz8e7dPjYbfSDDZ7hOdHJ/jlUIdohHnQCgCOjCaH+/NMrboZN6TlUm1iTqvayRxPc7rHUl9VM+tmrPLbRey3qidGnDUPHA9zFUnnlwtsrPK7o9PDYGVUxuQgzVilPhArALM/bxlaydcLIKwZrXk/15tyWeiLzexmvi6N33p+M9ssxOzL/wHnwFn9uUD+5QAAAABJRU5ErkJggg==",alt:"rice",style:{width:"72px",height:"72px",display:"block",margin:"0 auto"}})]}),r.Pitch<-34&&(0,y.jsxs)("p",{style:{color:"red",fontSize:"27px",fontWeight:"bold"},children:["KH\xc1T N\u01af\u1edaC ",(0,y.jsx)("img",{src:Ny,alt:"water",style:{width:"72px",height:"72px",display:"block",margin:"0 auto"}})]}),r.Yaw>=25&&r.Yaw<=34&&(0,y.jsxs)("p",{style:{color:"green",fontSize:"27px",fontWeight:"bold"},children:[" VUI ",(0,y.jsx)("img",{src:Oy,alt:"fun",style:{width:"72px",height:"72px"}})]}),r.Yaw<=-25&&r.Yaw>=-34&&(0,y.jsxs)("p",{style:{color:"red",fontSize:"27px",fontWeight:"bold"},children:["BU\u1ed2N ",(0,y.jsx)("img",{src:Iy,alt:"sad",style:{width:"72px",height:"72px"}})]}),r.Yaw>34&&(0,y.jsxs)("p",{style:{color:"green",fontSize:"27px",fontWeight:"bold"},children:["BU\u1ed2N NG\u1ee6 ",(0,y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAACAASURBVHic7d190GZ1fd/x93cFIR3I4BOURZk6JYBjNSmula06PmV8QM2CoOgExMw4EzOz6UCCnRZqZUkgNtko02Gmse2MJZJReXBZMRAdUZxIobJqom0i1IwdUpcuMeBkSbv4sN/+cZ3Fm2V3ufe6r3N9zzm/92vmnlXB+/e57gvO93P/zrnOicxEkvoQEeuAjcAmYAOwvvs6tjJXgb8F7l/xdS/whfQArELhP3+SFi0ijgY2A5cCJxTHGapvAr8D3JiZP6kOo/ZYACQtVEScA1wDnFydZSS+A1yamdurg6gt66oDSJqGmLkCuBmH/+E4Bfh0RGyuDqK2uAMgac0iIoDrgAurs4zc1Zl5eXUItcEdAEmL8EEc/otwWUT8fnUItcEdAElr0p3zvxmI6iwTsRd4WWbuqA6iabMASJpbd7X/fXjOf9G+CpzpxwTVJ08BSFqLzTj8+/DPgPdWh9C0uQMgaS7dTX524uf8+/K9zHxudQhNlzsAkua1EYd/n06KiBdUh9B0WQAkzWtTdYAGvKY6gKbLAiBpXhuqAzTAAqDeWAAkzWt9dYAGbKwOoOmyAEialwVAGjELgCQN1+7qAJouC4Ckee2sDtAAC4B6YwGQNC8LQP8sAOqNBUDSvLxXff/urg6g6bIASJrX9uoADbi+OoCmy1sBS5qLtwLu3dcy03stqDfuAEiaS2buBbZW55gwf/tXr9wBkDQ3Hwfcm/uBl2Tmo9VBNF3uAEiaW2buAS4G/E1icfYA73D4q28WAElrkpnbgCurc0zIJZn559UhNH2eApC0ZhERwHXAhdVZRu6PMvOC6hBqgzsAktYsZ79JXARswdMB87oJeE91CLXDHQBJCxUR5wDX4IWBh+Mm4F2Z+ePqIGqHBUDSwnWfDtgMXIr3CXgqNwPvdPhr2SwAknrT3SxoI7AJ2MDsEcLrgWMrcw2Iw19lLACSJiMing7cCPxSdZZVcPirlBcBSpoEh790eCwAkkYvIo7E4S8dFguApFHrhv9NjGP4fxqHvwbCAiBptEY4/M93+GsoLACSRmlk2/4Ofw2OBUDS6KwY/puqs6yCw1+DZAGQNCojHP6e89cgWQAkjcZIh/+PqoNIB2IBkDQKIxv+23D4a+AsAJIGrxv+NzCe4X++w19DZwGQNGgrhv/Z1VlWweGv0bAASBosh7/UHwuApEFy+Ev9sgBIGpyRDf9bcPhrhCwAkgZlhMP/HQ5/jZEFQNJgdMP/Uzj8pd5ZACQNworhf051llVw+Gv0LACSyjn8peWzAEgq5fCXalgAJJUZ2fDfjsNfE2IBkFSiG/6fZDzD/+0Of02JBUDS0q0Y/m+rzrIKDn9NkgVA0lJFxBE4/KVyFgBJS9MN/0/h8JfKWQAkLcXIhv9ncPhr4iwAkno3wuF/nsNfU2cBkNSrkZ3zd/irGRYASb1ZMfzPrc6yCm77qykWAEm9GOnw/2F1EGlZIjOrM0iamJEN/2XYDezsvnYw+4TB3Zm5tzSVmmYBkLRQDv9V2wVsBa7NzD3VYdQeC4CkhemG/yeA86qzjMgDwMWZua06iNriNQCSFsLhP7eTgZsj4oqIiOowaoc7AJIWIiKuB365OsfIfRy4KD0wawncAZC0ZhHxPhz+i3Ah8MHqEGqDOwCS1iQifh64Bzi6OstEJHCu1wSobxYASXOLiGOArwGnVmeZmAeA0/x0gPrkKQBJa/FeHP59OBnYXB1C0+YOgKS5RcQO4CXVOSZqF7DemwWpL+4ASJpLRJyOw79PJwAbq0NouiwAkuZ1QXWABmyqDqDpsgBImpe/nfZvQ3UATZcFQNK8jq0O0ID11QE0XRYASfOyAPTPAqDeWAAkzeuY6gCS5mcBkDQvH1zTv53VATRdFgBJ87qnOkADLADqjQVA0ry+XB2gATuqA2i6LACS5mUB6N/26gCaLm8FLGkuERHAQ8Czq7NMlLcCVq/cAZA0l5z99nBFdY4J2+rwV5/cAZA0t4hYB9wLnFGdZWJ8HLB65w6ApLl1v6H+GuBvEouTwMUOf/XNAiBpTTLzq8BHqnNMyJWZua06hKbPUwCSFiIirgIuq84xch8HLkoPzFoCdwAkLURmXg78OuCFa4cvgS04/LVE7gBIWqiI2ARsBU6pzjISDzA75++2v5bKAiBp4SLiacDbgX8NvLg4zlDtYlaUrvWCP1WwAEjqTXezoF8EXgqcuuLrWZW5Cuxmdl//ncxu77sduNvP+auSBUClus+RbwQ2ARuYPf98Pe09a/5vgftXfN0LfMHzwZL6YgFQiYg4GtgMXAqcUBxnqL4J/A5wY2b+pDqMpGmxAGjpIuIc4Brg5OosI/Ed4NLM9MEwkhbGjwFqaWLmCuBmHP6H4xTg0xGxuTqIpOlwB0BL0V0Mdh1wYXWWkbu6+7y9JK2JOwBalg/i8F+EyyLi96tDSBo/dwDUu+6c/81AVGeZiATO7O7BL0lzsQCoV93V/vfhOf9F+zrwUj9HLmlengJQ3zbj8O/DGcwewytJc3EHQL3pbvKzEz/n35fvA8d7syBJ83AHQH3aiMO/T88GXlQdQtI4WQDUp03VARrwquoAksbJAqA+bagO0AALgKS5WADUp/XVARpwZnUASeNkAVCfLACSNFAWAGncdlcHkDROFgD1aWd1gAZYACTNxQKgPlkA+mcBkDQXC4D6tKM6QAPurg4gaZwsAOrT9uoADbi+OoCkcfJWwOqNtwLu3dcy03stSJqLOwDqTfekuq3VOSbM3/4lzc0dAPXKxwH35n7gJZn5aHUQSePkDoB6lZl7gIsBm+bi7AHe4fCXtBYWAPUuM7cBV1bnmJBLMvPPq0NIGjdPAWgpIiKA64ALq7OM3B9l5gXVISSNnzsAWoqcNc2LgC14OmBeNwHvqQ4haRrcAdDSRcQ5wDV4YeDhuAl4V2b+uDqIpGmwAKhE9+mAzcCleJ+Ap3Iz8E6Hv6RFsgCoVHezoI3AJmADs0cIrweOrcw1IA5/Sb2wAKgpEfF04Ebgl6qzrILDX1JvvAhQzXD4S9JPWQDUhIg4Eoe/JD3OAqDJ64b/TYxj+H8ah7+kJbAAaNJGOPzPd/hLWgYLgCZrZNv+Dn9JS2UB0CStGP6bqrOsgsNf0tJZADQ5Ixz+nvOXtHQWAE3KSIf/j6qDSGqPBUCTMbLhvw2Hv6RCFgBNQjf8b2A8w/98h7+kShYAjd6K4X92dZZVcPhLGgQLgEbN4S9J87EAaLQc/pI0PwuARmlkw/8WHP6SBsYCoNEZ4fB/h8Nf0tBYADQq3fD/FA5/SVoTC4BGY8XwP6c6yyo4/CUNmgVAo+Dwl6TFsgBo8Bz+krR4FgAN2siG/3Yc/pJGwgKgweqG/ycZz/B/u8Nf0lhYADRIK4b/26qzrILDX9LoWAA0OBFxBA5/SeqVBUCD0g3/T+Hwl6ReWQA0GCMb/p/B4S9pxCwAGoQRDv/zHP6SxswCoHIjO+fv8Jc0CRYAlVox/M+tzrIKbvtLmgwLgMqMdPj/sDqIJC1CZGZ1BjVoZMN/GXYDO7uvHcw+YXB3Zu4tTSVpslZVACJiHbAR2ARsANZ3X+BBS4fJ4b9qu4CtwLWZuac6jKRpOWQBiIijgc3ApcAJq/yeHrR0UN3w/wRwXnWWEXkAuDgzt1UHkTQdBy0AEXEOcA1w8pzf24OWnsDhvyYJXAlsSc/bSVqAJxWAiAjgg8C/BWKN39+Dlh4XEdcDv1ydY+Q+Dlzkv0+S1uoJBaAb/tcBFy54HQ9ajYuI9wH/oTrHRGzJzCuqQ0gat/0LwBXMfvvvgwetRkXEzwP3AEdXZ5mIBM719JqktXi8AHTn/G9m7dv+B+NBq0ERcQzwNeDU6iwT8wBwmhfaSprXOnj8av9r6G/4033va7q11I734vDvw8nMPqEjSXPZdyfAzcx/tf/h8KDVnguqA0zYpd09OiTpsAWzErCT1X/Of612Aeu9WdD0RcTpwF9W55i4V2TmXdUhJI3Pvjv8LWv40621cYnrqY6//fdvU3UASeO0jpoDiAetNlj0+rehOoCkcVpHzQHEg1Ybjq0O0ID1T/23SNKTraPmAOJBqw0WgP7575KkuVgA1KdjqgNIkg5sHTW/pfmbYRv6vK+EZnZWB5A0Tn6GWH26pzpAAywAkuZiAVCfvlwdoAE7qgNIGicLgPpkAejf9uoAksYpmD2kZ+ky0/PDE9c9Xvoh4NnVWSbKu2pKmps7AOpNzh41eUV1jgnb6vCXNC93ANSr7mE19wJnVGeZGB8HLGlN3AFQr7rfUH+NoqI5UQlc7PCXtBYWAPUuM78KfKQ6x4RcmZnbqkNIGjdPAWhpIuIq4LLqHCP3ceCi7voKSZqbOwBamsy8HPh1wAvXDl8CW3D4S1oQdwC0dBGxCdgKnFKdZSQeYHbO321/SQvjDoCWLjO3A6cD7wK+WRxnyHYB72d2tb/DX9JCuQOgUt3Ngn4ReClw6oqvZ1XmKrCb2X39dzK7ve924G4/5y+pLxYASZIa5CkASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQUdUB9B8IuIo4OeA01Z8nQAce4AvgN0H+NoF3Lfi639m5mPLexWSpCoBZMXCmRkV645VRJwOvAZ4LXAG8I9Y/A7OXuB/AV8HvgR8MTO/veA1JEkDYAEYqIh4NrCJ2cB/DXBiUZQH6coAsD0zv1+UQ5K0QBaAAem29d8CvBt4E3BkbaIn+RFwO/CHwGc9XSBJ42UBGICIeAnwXuB84BnFcVbrEeBTwH/OzK9Vh5EkHR4LQKGIeAXwb4A3VGdZo88Bv52ZX6kOIklaHQtAgYh4HfAB4FXVWRbsy8BvZeYd1UEkSYdmAViiiDgD+PfAy6uz9Owu4F9k5terg0iSDswbAS1BRBwXEdcC9zL94Q+z13hvRFwbEcdVh5EkPZk7AD2KiGB2Rf/vAscXx6nyEPAvgT/MzJJ/1iRJT2YB6ElEnARcD7y6OMpQ3AlckJnfqw4iSfIUQC8i4g3AN3D4r/Rq4Bvdz0aSVMwCsEAR8bSIuIrZzXKeU51ngJ4D3B4RV0XE06rDSFLLPAWwIBHxD4EbgFdWZxmJPwXekZn/pzqIJLXIArAAEXEK8Hng+dVZRua7wOsz8zvVQSSpNZ4CWKPus/134fCfx/OBu7qfoSRpiSwAaxARr2V2dXurH/FbhOOBO7ufpSRpSSwAc4qIs4HbgGOrs0zAscBt3c9UkrQEXgMwh+631duAo6qzTMxjwFmZ+cXqIJI0dRaAw9Sdr74Tf/Pvy27g1T5HQJL6ZQE4DN3V/nfhOf++PQS83E8HSFJ/vAZglbrP+X8eh/8yHA98vvuZS5J6YAFYhe6udTfgR/2W6fnADd4xUJL6YQFYnd/CO/xVeCWzn70kacG8BuApdA+vuZ3Zz0rLl8CbMvNz1UEkaUosAIfQPdL3G/hgn2p/A/xTHyUsSYvjKYCDiIgArsfhPwTPAa7v3hNJ0gJYAA7u3cyeYa9heDWz90SStACeAjiAiDgOuA8/8jc0DwGnZeYPqoNI0ti5A3Bgv43Df4iOZ/beSJLWyB2A/XS3+r2XcZWjvcA9wA5gJ/C9/f4EWA+ctN+fG4AzGd9rfelYbhUcEUcyu6fBicx+5utX/OeV/9sxVRklLcSjzI63D3Z/rvzP+/78bmb+qCzhfiwA+4mIrwAvr86xCnuAO4BbgFszc9c83yQiTgDeCpwNvA44emEJ+3NXZr6iOsTBRMSxwBuZ/UzPAo6rTSRpIH7A7EFytwB/kpm7K8NYAFaIiNcBX6jO8RS+BVwF/HFmPrrIbxwRxwBvBi4HXrTI792DX8zMO6pD7BMRJ/LTIvVafFKkpEN7DPgiP/0l7sFlB7AArBARdwKvqs5xEA8AHwCuz8y9fS4UEeuAC5jdhe/kPtdagy9n5qsrA0TEzwC/CpwPvAxvFiVpPgn8N+BTwEcz8/8tY1ELQCciXgH8aXWOA3gYuBq4NjMfW+bCEXEUsBm4DHjmMtdepVdm5leWvWhXkN4DbAGeu+z1JU3a/wY+CPyX3n/ZwwIAQET8CfCG6hz7+Tzwrsx8uDJERDwT+ATw+socB/C5zHzjMheMiLcAHwJeuMx1JTXnfwD/KjM/29cCY7r6uzcR8RKGN/w/ApxVPfwBugxnMcs0JG/o3rveRcTLulNEt+Lwl9S/FwK3RsSdEfGyPhawAMy8tzrACo8Bv5KZv5GZP6kOs09m/iQzfwP4FWYZh6LX9y4inhcRNzL7mOVQrw+RNF2vAu6JiBsj4nmL/MbNnwLoznM/CDyjOguzO91tysx7qoMcSkScCWxnGDdLegQ4sY/rIyLinwPbGMbrlKSHgHMy878u4pu5AwBvYRjD/zFGMPwBuoybGMZOwDOYvYcLFRHvAb6Ew1/ScBwPfKk7Pq2ZBWA4D5h53xiG/z5d1vdV5+gs7D2MiHURsRX4GPD0RX1fSVqQpwMfi4it3SeS5tb0KYCIeDaz2zMeWRzlI9359dGJiA8DlxTH+BGwPjO/v5ZvEhE/C3wSeNNCUklSv24H3pmZfzfP/7n1HYBN1A//zwPvL86wFu9n9hoqHcnsvZxbRJzC7EI/h7+ksXgTswsET5nn/9x6AXht8foPM/uc/2Cu9j9cXfZ3MXstleZ+L1cM/xcsLo4kLcULmLMEtF4AXlO8/tVD+Jz/WnWv4eriGHO9l922/2eAZy02jiQtzbOAz3THs1Vr9hqAiDgd+MvCCA8Apy779r596T5OeT+1zw54QWZ+e7V/c3cBzWdx21/SNNwOvGW1txBueQeg+rf/D0xl+AN0r+UDxTEO9zTA7+LwlzQdb2J2XFuVlgtA5fn/bwHXF67fl+uZvbYqqy513edof7O/KJJU4jdXe5+AlgvAGYVrX9X3U54qdK/pqsIIq3pPuzv8fbTnLJJU5aPdce6QmrwGoDtf/X+pKUB7gOdk5qMFa/cuIo4B/gY4umD5vcA/ONSple5e2jvwDn+Spu0hYENm/vXB/oZWdwB+jrrXfsdUhz9A99ruKFp+HbP39lA+jMNf0vQdz+x4d1CtFoDTCte+pXDtZal8jQd9b7tHap63xCySVOm8Qz1K2AKwXHuZPU9+6m5l9lorHOq9/XdLSyFJw3DQ454FYLnuycxdRWsvTfcaqx5sdMD3NiLewuy52pLUkld1x78nabUAnFC07o6idStUvdYnvbfdDX8+VJBFkobgQwd6cmCrBeDYonV3Fq1boeq1Hui9fQ/wwiXnkKSheCGz4+ATWACW63tF61aoeq1PeG8j4meALUVZJGkotnTHw8dZAJbLHYD+7f/e/irw3IogkjQgz2V2PHycBWC53AHo3/7v7fklKSRpeJ5wPGz1ToCPAU8vWPpnM3N3wbpLFxHHAn9XsPQPM/OoLsOJzIpI6ZMnJWkgEjgpMx8EOKI4TJXJ3Ydfj1v53r6V4Q3/vcDdwHZmn5TYCexspRhKU9X90rO++9oAbAI2Mqyd9mB2XPyP+/5LizsAO4ETC5Y+PTPvK1h36SLiNODbBUs/mJnruwy3MZzH/e4BrgW2tnAvCEkQEScAlwKbqXk+yoHcnplnwbCayTI9UrTuSUXrVqh6rY/A42288pHPK20DTsvM9zv8pXZk5q7MfD+zG5Rtq87TeW13fLQALNn6onUrVL3Wfe/tG4GjijLsk8AVwLmZ+UBxFklFun//z2V2PCjZdV/hKGbHx2YLwA+K1nUHoH/73tuzi9bfJ4GLMnNLZlb/Cy+pWM5sAS6ivgScDe0WAHcA+le2AxARRwJnFa2/z5bM/HhxBkkD0x0Xqm9OdlZEHGkBWK4NRetWqHqtjwDPB44rWh9m5/quLFxf0rBdSe01AccBz7cALNeZ3VWhk9a9xjOLln+E2p2WPcDFbvtLOpju+HAxs+NFlfWtFoDvFq27jtlnMKfurdSdXvouNR/x3OdaL/iT9FS648S1hRFObLUAVD6Wt/ritGWofI07qNsB2AtsLVpb0vhspe7GdM3uAPwF8PdFa78uIo4pWrt33Wt7XdHyf8/sva3aAbjbz/lLWq3ueHF30fJt7gBk5l7g60XLHw28uWjtZXgzdXe8+nr33lbtAGwvWlfSeFUdN5rdAQC4t3DtyyNicj/77jVdXhhh33taVQAqTy1JGqeq44YFoMiLgAsK1+/LBcxeW5V972nVKYCdRetKGq+q48aJTT4MCCAi/jHwncIIDwCnZuZjhRkWJiKOAu4HTi6McUpm/lVE7AYqrrNo5nHPkhaj8NHpjza7A5CZfwU8XBjhZGZPiJqKzdQO/4e79xRqhj8Of0mHq/C4cUyzBaBza/H6l0XEM4szrFn3Gi4rjlH9XkrSqLReAD5ZvP4zgU9ExNOKc8yty/4JZq+lUvV7KUmj0noB+ALw/eIMrwd+rzjDWvwes9dQ6fvM3ktJ0io1XQAy88fATdU5gEsi4j3VIQ5Xl/mS6hzATd17KUlapaYLQGcoW8d/EBFVD9A5bF3WP6jO0RnKeyhJo9HsxwD36W5e89fUPkFun4eATZl5T3WQQ+mG/3bg+OoszD5D+7zuDoAARETT/0xLGpeqY1bzOwDd4LihOkfneODOIZ8O6LLdyTCGP8ANK4e/JGl1mi8Anf9E3ROZ9ncU8LGI+PCQPh0QEU+LiA8DH2OWcQj2MnvvJEmHyQIAZOZfMIyLAVe6BLhtCPcJ6DLcxjAu+Fvppu69kyQdpuavAdgnIv4J8E1mP5MheRi4Grh22bcN7m7vu5nZTX7Ki8h+EnhxZv73/f+C1wBIGhOvASjWDZKbq3McwDOBrcD9EfHuZTxFMCLWRcS7md3bfyvDG/4ANx9o+EuSVscdgBUi4sXAnzG8XYCVvgVcBfxxZj66yG8cEccAb2b2SN/Kp/o9lQR+ITO/eaC/6A6ApDGpOmZZAPYTEZ8GzqnOsQp7gDuAW4BbM3PXPN8kIk4A3gqcDbwOOHphCfuzLTPfdrC/aAGQNCYWgIGIiF8Avs6wdwH2txe4B9jB7HPx39vvT5jd5+Ck/f7cAJzJuE4FJXBGZv7Zwf4GC4CkMWmuAEhTYwGQNA8vApQkSUtjAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIadETVwpkZVWtr2iIiqzNI0tC5AyBJUoMsAJIkNcgCIElSgywAkiQ1yAIgSVKDLACSJDXIAiBJUoMsAJIkNcgCIElSgywAkiQ1yAIgSVKDLACSJDXIAiBJUoMsAJIkNcgCIElSgywAkiQ1yAIgSVKDLACSJDXIAiBJUoMsAJIkNcgCIElSgywAkiQ1yAIgSVKDLACSJDXIAiBJUoMsAJIkNcgCIElSgywAkiQ1yAIgSVKDjqgOIE1FRGR1BklaLXcAJElqkAVAkqQGWQAkSWqQBUCSpAZZACRJapAFQJKkBlkAJElqkAVAkqQGWQAkSWqQBUCSpAZZACRJapAFQJKkBlkAJElqkAVAkqQGWQA0RburA0jS0FkANEU7qwNI0tBZADRFFgBJegoWAE3RjuoAkjR0FgBN0fbqAJI0dAFkxcKZGRXravoiYh2z0wAnVGeRpKFyB0CTk5l7ga3VOSRpyNwB0CRFxNHAfcDJ1VkkaYjcAdAkZeYe4GKKCq4kDZ0FQJOVmduAK6tzSNIQeQpAkxYRAVwHXFidRZKGxB0ATVpmJnARsAVPB0jS49wBUDMi4hzgGrwwUJIsAGpL9+mAzcCleJ8ASQ2zAKhJ3c2CNgKbgA3A+u7r2MpckrQsFgBJkgpFRMkc9iJASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGhRAVoeQJEnL5Q6AJEkNsgBIktQgC4AkSQ2yAEiS1CALgCRJDbIASJLUIAuAJEkNsgBIktQgC4AkSQ2yAEiS1CALgCRJDbIASJLUIAuAJEkNsgBIktQgC4AkSQ2yAEiS1CALgCRJDbIASJLUIAuAJEkNsgBIktQgC4AkSQ2yAEiS1CALgCRJDbIASJLUIAuAJEkNsgBIktQgC4AkSQ2yAEiS1CALgCRJDTqiauHMjKq1JUkaiojIinXdAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQRYASZIaZAGQJKlBFgBJkhpkAZAkqUEWAEmSGmQBkCSpQeuA3QXrVqwpSdIQlczhdcDOgoUr1pQkaYhK5rAFQJKkWmUFqXycOwAAAR1JREFUYEfBwhVrSpI0RCVzeB2wvWDhijUlSRqikjkczC4E3AmcsKRFdwHrM3PvktaTJGmwIqJkDq/rBvHWJS0KsNXhL0nSTNUcjswkIo4G7gNO7nnRB4DTMnNPz+tIkjQaFXN4HUA3kC8GssdFE7jY4S9J0hNVzOHH7wSYmduAK3tc+MpuDUmStJ9lz+HI/GnZiIgArgMuXPCiHwcuypWLSZKkJ1jmHH7CswC6v3ARsIXFbENk970c/pIkPYVlzuE42FyOiHOAa5j/goQHmJ1rcNtfkqTD1PccPmgB6BY/GtgMXMrqP5+4i9nHGa71gj9JkubX5xw+ZAFYEWAdsBHYBGwA1ndfMLt5wU5mtzLcDtzt5/wlSVqcPubw/weA2XH6YA9q5wAAAABJRU5ErkJggg==",alt:"sleep",style:{width:"72px",height:"72px",display:"block",margin:"0 auto"}})]}),r.Yaw<-34&&(0,y.jsxs)("p",{style:{color:"red",fontSize:"27px",fontWeight:"bold"},children:["\u0110I V\u1ec6 SINH ",(0,y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAflBMVEX///8AAADExMSgoKDS0tLy8vLZ2dmkpKTDw8P39/fMzMxra2vr6+v8/PzAwMC8vLxgYGDn5+ezs7N0dHQ5OTlVVVVlZWWPj4/W1tZLS0t6enpaWlqrq6syMjKFhYWampoiIiIqKipERESMjIwaGho/Pz8REREeHh5/f38tLS1O6OqMAAAPz0lEQVR4nO1d51YqOxSWNsiAIKNIESm263n/F7yKk2S3lJlMcy2+X+c4IXX37CQ3N1dcccUVV1zRGYyWybA/X2RZtpj3h8ly1HaHKsOyPz7cP/YkPN4fxrfLtjsYgUk6mJ7FoWGcpoN00nZnC2OW7U4BgzN432Wztjsdjv7XZ6HRaXzN79ruux+j7Lnc6HKs9p0WQXfZNmp4v9hmXeXKdFrB8H7xlLY9GI7JoCTv2XDs1kIuH6od3gXTpO1haQxXNYzvB9tuEGv6UdP4fvDY/hg3BcZ3etyunu+fV9uPc4ExDlsd3zKEPre7wWK4pIJjshwuBrsQ7bJtz3S92/k6Nx2nPgU+SsdTnxh+aEmu7p29+u9rEW6djOYHtxk7rnEcNixfHB163hc3o2fZvaPGc+Oq42DvzFN5+3nuMIu+quy+F8m7rR+vWaR74DBtN9V0PgRrWx/eqhB7M2v1hwpqD+qBhQPPWWVNZP8sTTTiJS8s5Fmt9ZFaiLW6WbRC1oGv1VseG3mMD5U3hDERo2Yv9VhWQ9Ei/FdrECARp3VRW3tz0dqpUaaKLHisr71vDKQma2PGo9DYqu7A0UiydNb1tCXJmHk9TSH0hXandTQkzOVTQ+FNwZZbVd+KILvrkzAUt7zx16rbeGVNfDQZup3wCX6stgWumd6qbcALLuZeqqyer2C/yuqDkNa5ioxE3tvYJxqda+NFJkW3VdVcEGzTpyKJyvRg3cavHV+0K5XoRcbi9ZppbjAjrgKBx2zRfXydEchod6JtVOZNNKfmZTAbLtLTmND6bqvpZwSY1oizPKjD2/4A+RD/xVRGxWjbJPoLSqgRApVKmXaFjAHtV2lpMyMVtakmMKjSKBumJXHR9hQ9B9lUOJWrhYSe2zLVZBADrlQ0nGjC96r7GIkz7l6ZeCbZfOla1tmIsGLxGt5wBc37gz4McQd3RX+/xL9v2qMPAXEJim6hYjn6UUsXY4Ed81OxH5M9+m7mCxKjeVDkt3f4t90w1jiI+VYkYwPbo0+1dTEWOJ2ugH1KxEyHE3fLChuc6dTE3kRZYE8qOPa2QT+rYYegQjyhvobutOMAdzflqAKWp4FhcLzy3XGZZIxRb8NML7yENXcwHsh+DlpEbO91VRUaYKUYwomrwnPSMtC2UYA4xbqw3QTdMGBH1q8THwrOSAeAqM5rgGHp+xeWkC6iT7uhKNbfWEKyiL5MFJSE1P5RgDBg8e8ui7T9uZn+VQC0+eDeeUCZKw1kOobgbpku9oPjcbDP+hs5IIaC4M/OyqzLPe/ncFPu5jYv5s71HubFbn2iLD2yLfbzdMw31FAJlyeM9h9R9MmoVWePjAnl3NYLEguTzH5e5YnYWigq5dpeQbEdtBlgZKxr2kEQ0xU1MeLdrp+H2C/iQAuAoqeOuBkqh1WF6ZSr64AfXNxg/AFbiVtLore1f2i57dFrRKREzgR1HRpEjmJ608Gy2ZPI5/cx8DGahf2T2PIP7mzfHF2Hv3cYiLqM7LmEHddcWursuTaRYClq341tVQMgq93O7yZKIkk9OdOa4T/XtNikKfK0aPzJNGzvOooj22N7WvBJIgH77D/4fFrv5+lwOEwX44MmJbrPgDpv82pRxhHTZ/qLfacUiz9rMS2xhQgJpdDdnFrSo/klmstEOvyVrYvQJuXyxKhea9dx56zUrEtwVsX6fWszwIZT3glkjsk/Q9v2nBQN+diEMeEgm9FnbF/3ALcuZ5ZzGlIE8uyiInwUpv82Ks+tArVtZSMVvTPJCqDNhKKpO0iZy7IC1k8l1Q/0R9umec5f6u6BT0sxvXFHZwoKmefiWwlwQ1AWc/CcqnScUcsRWxJS/rmv7AuZmk0UgcgQSORlDlSgXWt3y8L0/sDoAlndKP6afTkq+fZSVC00iRk0Xyo1CekLKZaR+goYfS57UCo7RVObfK5V6ySiKwCTlDvXjJZICn6jCI1Yhf4q01DOB696MuUYgXawsH8FaLTsiV/IZtJmBNQnMqPqEqLdp6bwYNSORM1GJ+G/G2O7dAo+FJX3wvcz+C6TiWFE6avir4VZbIlUtE7CswhOxZTO3IFGoyTIwWcLoxlGlBx4xV9LExCQclS0WYYNAiPqy292oX1Prm2QX2CJqjrXWNl8NyavTrKs5TZAPLD4yBSQqOEGEZK1lio0IwpUPgOfNCU6JhLv+RibPSbAB4fAVRU0KGwepLHr7N9+ghxaLnJq17yC5DGY/TIjU4AePCd2mLFpyxEzlMwtW7W+Fxa1N6MXC3k/ZuqiToe6xwDNemuwyUFLaA2UqOHEIK+ViSNFXcoA6ZAnWMDgj3XjVwtC5hYkqGJtItqKkSCJbjluIwEexDyxr+CjPSSqqYmpGzV9v3SpI19UrWjDCRGBMRjjjjAjB5V9hR+tpGIMEqpPFJNvcDlK75ockVo3Eeu43S7kw1M5jvxHe+BfBzpooIrMnPovVSvq75gajQyMTDCDg6CmEVL49iq06Ue8YKWxVXhnKlelFTu2dnTDpxKjEivqcZXvJmENzWAkSUPRmTJ29nI7Ov0fUaPRhrFZkDC3hgoTuI16sldhKB3Tk1IPioP1hGFfVicjob+a2Y29KwEqBGr2Q6PN5b7oWUKroPcd9V/UH6ZiMcyepu3YY0dw74xKijn45jo7Invoqo/GkNDCQxwKHomxaGITPaHZRo0SuHfjyrfU5dA0HFgPteJbCsWInDOmSGxqBAy60xHCYKlr/8xoFfjXc/43w5wbqSFVjMQqjTqMvXkGxilcI5QiABo6GAKkpBo23LRUxXa8GFU15oBV7LVzcISUp0PX0DAi8IIV6ULeVEz/yYtRYmxmhKF8aEQS0F3KDoBEpknP2Hd6ckiVhkpjs8xcfBgqS0VGlHqurWkjfRSBUxqpyix1y1KoD91ngM6qmJaSyuKTPSLNdHpuKP2YGFlsvq5LH0Kbxu2kaZGvJ2lP/3CBsl+0/aAZgbouhkNiL/F02TSBdukNcDO1lFTUj7Wclh9KhSg2ZL6lmd3YixFddmmgb3ED7OST+kv+f3LKtE+bUmzIhmHajj3bAQdB5XKgf/iDF1JMLT/puZ6JI2mBR8ID59YPOAgWOocf3eEgHYTJuzrG/9VQM5GLTi2teY1mSyXuLK7Txw+L01ygyS/3de4tVWqRhP8rUKJR1HHC1C1MgmJtF2jyy/ua/4+lTOtF+yUJlakmyEtjesed+Ycq78S+BsVLf6En4/I/NXEs+qsZ7zJhel4EFgBzX3xYAO54aUjMO8cb6qyqltuUSHjq+ZVqNE1HnRl3jyFk3yKHNsguKl4tPi+nFODFRlLqUdzgNZlQTqvfB/e+Bbq4z12RDkZcepv/W9g2XsDqVCRHXCTQeExYHw6By5KQ/UMFZZC9gN8Ju2JaeCegdTkiapqOuGwGZakLjhj87LHxtUF2YxxLSZOpYpnx+S0MADio/CKiPWDBaoGZDB4LWDPiRvuGUhKVZq+DYXNLzUBXl78rECV/Ct/9uRgGqtxeT4xoM6v13ZrabSsEfNfSG/m+XAyYT2NLSVNQYuNBqzlRgGjelp1ksWivfDzqDOqQYsvenCgAxYhn7fm4BchMaX+7poULUM46RYkKUmYjKuAJzerZUPxlESCKNoept14kCEudH0dLJE4SdB99rqgqp55Bsth52vtXLODYPUPnCcoIVHTrk1gC0snJU5sKiCxyG9USBlQG59vUudS/QGnMJZwM6DvIotKTI4ygwmNqVmzl8s+rk3Opc5xhB6ZFN0sRl8lbPMh/9CTukCuMrNqFnDxzR3zJ1U9OpczHH0LlsIgzsk/KOuaDnJ7wVEruVOkdbRJnueZjCMjVx+ctPJ3BB+esNI3T973+LR1ibztmIxn1307SpIY0BOPePn2BDvyd7OVQf/3iYyQ8irQ6jOfDJEk26MwMZYw0pCGkkjyGG7JyHboFrXXINUe+Y4ca5HdB555wdzw9gUUdrghc67Abw9g9uhY4zq7ZT9kj49wjTeFsOIpBoRtoUk/ClhGL2rn9EwQS155QxiCwJKgxeHcwCXlwDoea0NFJhzLfBpa7QYzo1OOgytABfiPxnrLcIm8GrY3Lw0Q84EluCVwbYy0Wi0/cOU5y91ZjMv1ItLtMBXzvh7sL2SCHm72WR1Ws+BZ2uuajfHwQjuNjpeT0TBCTd+JOhVFymw2O6/VxsF+kiaXzSM64N7CQ3oy6RrpRoKutPLYKWu6/crcJvmDOUxixbLeuDrYDqQpf9h+WNQ2+OBgBbK97gzzICfkbi4icUJ/bR/2dv3BRFO5xANkhu6ab1+tiFO4wvjaxy1d7/gL3N2j/EV0s4ot+tw/kM4edSMGTUuj+4RaA73QOJDl8O8xfur809FARDhX6xW+bwM/qBWcBbMv9rAVgjgqX/CSoV2MPY4E7WsA/K31PdsMof+84uc+9Cy8ESSCvBhWSiSQaX+Q+9+ZA7sYvuDt+Rj/upgWOQxxFH1Eh9wV18c5r8mBQYSeBPMTXPXcfO/ZlshpxBZ0zbeiLcCWqIHPUtetayWNUpWiMvBoVlTVYOcjeRuF3dH5xxrWUvRinDpCXjMo+RkXfXeuOI0WewSmf7Ue38joRBL8hIe5e1OFaugPUDTeDPvEYdQKcXgXbBbVIMl16p6ja6OtmHRgiHWDsi3AbWl/bhMoeWo0O6bLEgXbf9KBCpoqXQ9e0zjaVBlUT0ef5LpjWUmspvNGuVPScGNtqbsuAY2kolfmtr7TmcxuexuSFdqN8Wj8Dv0G8+U0pJtWr3YVn09e418/eje+dq33xjq/itsnw1B1PO/lX9ZN+jBebVP5MzVfKgwpCilJTrzzTB9B7NUX/mF7sNWOmCgtY17OaTN/+NFU3N06kia3N5hCTW2NvenCDmWk/qPEVe66TvvFen8RJhbTvmnXxSHwd5TX25hwZciLtqe4XwiW26PVW1Y9xyd5BuqCBp3stmearamln8yw3UyMLGixF5vjWwdX5xvMPuYn3qAtcC+Agt+84xlMEo6Ot+pKR7TJg0SBDrLELObeQZ6/pKJhgSCk8lNceqSNFvykTUSOxcOMF06w4uU4Wspj+xXsbWZLcY4N4eeuHG3STdO1+pqulPWjRZIQ47fYb3zDvNvvd2VPPU3vbs4ngNTI8H8a3CTdEZkkfHLZz4KMeiykUKY9v2PD+uH1+mk6nT8/bx3d/8RzntoPsNzf98DEWx7kbGbxpCK2WwUf766eQBJ/8LID7bp2FGLHtjUis63aSSuA2RDCGYdUN9uOY7C0+QSE8jruWnYQwG4eccLXjlZ6d7CImi7CHRDkeFt1M85Sw3PssOorpvinvtjqM+sf7T//QvtXC+vYPkKYNd8niuFvJntZptTsukr9DmG7czZJhf55l2X6fZfP+MJlVvXV0xRVXXHHFFeXxPyugoVeRF6SrAAAAAElFTkSuQmCC",alt:"wc",style:{width:"72px",height:"72px",display:"block",margin:"0 auto"}})]})]})]})]}),"// "]})},Uy=function(){return(0,y.jsx)("div",{children:(0,y.jsx)("iframe",{title:"Dashboard",width:"100%",height:"3400",src:"https://charts.mongodb.com/charts-gia-tri-jnfzh/public/dashboards/e738bb8a-3e0c-4a87-a96a-2a3afa3016c5",frameBorder:"0"})})},Fy=n.p+"static/media/logo.05204e2bd3fe956cc5cb.png",jy=function(){var e,n,r,o,u,l,c,f=(0,t.useState)({}),d=(0,i.Z)(f,2),h=d[0],p=d[1],m=(0,t.useState)(!0),v=(0,i.Z)(m,2),g=(v[0],v[1]),_=(0,t.useState)(null),b=(0,i.Z)(_,2),x=b[0],w=b[1],S=(0,t.useState)(null),E=(0,i.Z)(S,2),A=E[0],M=E[1],T=(0,t.useState)(""),k=(0,i.Z)(T,2),C=k[0],P=k[1],R=(0,t.useState)([]),N=(0,i.Z)(R,2),O=N[0],I=N[1],L=(0,t.useState)(!1),D=(0,i.Z)(L,2),U=D[0],F=D[1],j=function(){var e=s((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qs.get("https://ap-southeast-1.aws.data.mongodb-api.com/app/application-0-khcpn/endpoint/getup");case 3:t=e.sent,p(t.data),w(null),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("L\u1ed7i khi l\u1ea5y d\u1eef li\u1ec7u:",e.t0),w("Kh\xf4ng th\u1ec3 t\u1ea3i d\u1eef li\u1ec7u. Vui l\xf2ng th\u1eed l\u1ea1i sau nha.");case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){j()}),[]);var B,z,V=function(e){M(e),F(!1)},H=function(){var e=s((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Do you want to delete this data?")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,qs.post("https://ap-southeast-1.aws.data.mongodb-api.com/app/application-0-khcpn/endpoint/log_in",{deleteUser:A});case 5:j(),M(null),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error:",e.t0),alert("Kh\xf4ng th\u1ec3 x\xf3a ng\u01b0\u1eddi d\xf9ng. Vui l\xf2ng th\u1eed l\u1ea1i sau.");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return(0,y.jsxs)("div",{className:"user-list-container",children:[(0,y.jsx)("h2",{children:"ALL USERS"}),(0,y.jsxs)("div",{className:"search-bar",children:[(0,y.jsx)("input",{type:"text",placeholder:"Search User By Phone Number",value:C,onChange:function(e){return P(e.target.value)}}),(0,y.jsx)("button",{onClick:function(){if(C){var e=Object.keys(h).find((function(e){return e===C}));e?(M(e),F(!0)):alert("This Data was not found")}else alert("Please Enter the Phone Number")},children:"SEARCH"}),U&&(0,y.jsx)("button",{onClick:function(){P(""),I([]),F(!1),M(null)},style:{marginLeft:"10px",marginRight:"10px"},children:"CANCEL"})]}),x&&(0,y.jsx)("p",{className:"error-message",children:x}),A?(0,y.jsxs)("div",{className:"user-details",children:[(0,y.jsx)("div",{className:"avatar-placeholder",children:(0,y.jsx)("img",{src:Fy,alt:"Avatar",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,y.jsxs)("div",{className:"user-info",children:[(0,y.jsxs)("p",{style:{fontSize:"26px",fontWeight:"bold"},children:[(0,y.jsx)("strong",{children:"ID:"})," ",A]}),(0,y.jsxs)("p",{style:{fontSize:"26px",fontWeight:"bold"},children:[(0,y.jsx)("strong",{children:"NAME:"})," ",null===(e=h[A])||void 0===e?void 0:e["T\xean"]]}),(0,y.jsxs)("p",{style:{fontSize:"22px",fontWeight:"bold"},children:[(0,y.jsx)("strong",{children:"GENDER:"})," ",null===(n=h[A])||void 0===n?void 0:n["Gi\u1edbi t\xednh"]]}),(0,y.jsxs)("p",{style:{fontSize:"22px",fontWeight:"bold"},children:[(0,y.jsx)("strong",{children:"HEIGHT:"})," ",null===(r=h[A])||void 0===r?void 0:r.Cao," m"]}),(0,y.jsxs)("p",{style:{fontSize:"22px",fontWeight:"bold"},children:[(0,y.jsx)("strong",{children:"WEIGHT:"})," ",null===(o=h[A])||void 0===o?void 0:o.N\u1eb7ng," kg"]}),(0,y.jsxs)("p",{style:{fontSize:"26px",fontWeight:"bold"},children:[(0,y.jsx)("strong",{children:"Ch\u1ec9 S\u1ed1 BMI:"})," ",(B=null===(u=h[A])||void 0===u?void 0:u.N\u1eb7ng,z=null===(l=h[A])||void 0===l?void 0:l.Cao,(B/(z*z)).toFixed(2))]}),(0,y.jsxs)("p",{style:{fontSize:"22px",fontWeight:"bold"},children:[(0,y.jsx)("strong",{children:"LOCATION:"})," ",null===(c=h[A])||void 0===c?void 0:c["N\u01a1i s\u1ed1ng"]]}),(0,y.jsx)("button",{style:{backgroundColor:"#ff0000",color:"#fff",marginRight:"10px"},onClick:H,children:"DELETE"}),(0,y.jsx)("button",{onClick:function(){M(null)},children:"BACK"})]})]}):(0,y.jsx)("div",{className:"user-grid",children:U?O.map((function(e,t){return(0,y.jsxs)("div",{className:"user-card",onClick:function(){return V(e)},children:[(0,y.jsx)("div",{className:"avatar-placeholder",children:(0,y.jsx)("img",{src:Fy,alt:"Avatar",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,y.jsxs)("p",{style:{fontSize:"26px",fontWeight:"bold"},className:"index-label",children:["STT: ",t+1]}),(0,y.jsxs)("p",{style:{fontSize:"26px",fontWeight:"bold"},children:[(0,y.jsx)("strong",{children:"ID :"})," ",e]})]},e)})):Object.keys(h).map((function(e,t){return(0,y.jsxs)("div",{className:"user-card",onClick:function(){return V(e)},children:[(0,y.jsx)("div",{className:"avatar-placeholder",children:(0,y.jsx)("img",{src:Fy,alt:"Avatar",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,y.jsxs)("p",{style:{fontSize:"26px",fontWeight:"bold"},className:"index-label",children:["STT: ",t+1]}),(0,y.jsxs)("p",{style:{fontSize:"26px",fontWeight:"bold"},children:[(0,y.jsx)("strong",{children:"TEL :"})," ",e]})]},e)}))})]})};var By=function(){var e=(0,t.useState)(!1),n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,t.useState)("form"),s=(0,i.Z)(o,2),u=s[0],l=s[1],c=function(e){l(e),a(!1)};return(0,y.jsxs)("div",{className:"App",children:[(0,y.jsxs)("header",{children:[(0,y.jsx)("h1",{className:"app-title",children:"SIMULATION SYSTEM OF HUMAN MOTION - THE PART HEAD"}),(0,y.jsxs)("div",{className:"menu-icon",onClick:function(){a(!r)},children:[(0,y.jsx)("div",{className:"menu-line"}),(0,y.jsx)("div",{className:"menu-line"}),(0,y.jsx)("div",{className:"menu-line"}),(0,y.jsx)("div",{className:"menu-line"})]}),(0,y.jsx)("img",{src:"/Motion/logo.png",alt:"Logo",className:"app-logo"})]}),(0,y.jsx)("main",{children:function(){switch(u){case"form":return(0,y.jsx)(Ks,{});case"userList":return(0,y.jsx)("div",{className:"user-list-container visible",children:(0,y.jsx)(jy,{})});case"userList2":return(0,y.jsx)("div",{className:"chartmongo-container visible",children:(0,y.jsx)(Uy,{})});case"userList3":return(0,y.jsxs)("div",{className:"user-list-container visible",children:[(0,y.jsx)(Dy,{}),(0,y.jsx)(Ty,{})]});default:return null}}()}),(0,y.jsx)("aside",{className:"side-menu ".concat(r?"open":""),children:(0,y.jsxs)("ul",{children:[(0,y.jsx)("li",{onClick:function(){return c("form")},children:"INFORMATION"}),(0,y.jsx)("li",{onClick:function(){return c("userList")},children:"USER LIST"}),(0,y.jsx)("li",{onClick:function(){return c("userList2")},children:"DASHBOARD"}),(0,y.jsx)("li",{onClick:function(){return c("userList3")},children:"THREE SCENE"})]})})]})};r.createRoot(document.getElementById("root")).render((0,y.jsx)(t.StrictMode,{children:(0,y.jsx)(By,{})}))}()}();
//# sourceMappingURL=main.35b0467e.js.map